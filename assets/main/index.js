System.register("chunks:///_virtual/Achievements.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Snake.ts"],(function(e){var n,t,i,o,c;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,i=e._decorator,o=e.Component},function(e){c=e.Snake}],execute:function(){var a,r;t._RF.push({},"f6cebXJA1xJe7qQpEPQjHcJ","Achievements",void 0);var d=i.ccclass;i.property,e("Achievements",d("Achievements")(((r=function(e){function t(){for(var n,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))||this).gameAchievements=[{id:"GAME_USE_ONE_HINT",name:"提示一下",desc:"使用一次提示",condition:function(e){return e.hintStepIndex>=1}},{id:"GAME_LEVEL_50",name:"50关!",desc:"在关卡模式中闯到第50关",condition:function(e){return"level"==e.gameMode&&e.level>=50}},{id:"GAME_LEVEL_100",name:"100关!",desc:"在关卡模式中闯到第100关",condition:function(e){return"level"==e.gameMode&&e.level>=100}},{id:"GAME_LEVEL_150",name:"150关!",desc:"在关卡模式中闯到第150关",condition:function(e){return"level"==e.gameMode&&e.level>=150}},{id:"GAME_LEVEL_200",name:"200关!",desc:"在关卡模式中闯到第200关",condition:function(e){return"level"==e.gameMode&&e.level>=200}},{id:"GAME_LEVEL_300",name:"300关!",desc:"在关卡模式中闯到第300关",condition:function(e){return"level"==e.gameMode&&e.level>=300}},{id:"GAME_TWO_SNAKE",name:"双蛇共舞",desc:"在关卡或限时模式中控制两只蛇蛇",condition:function(e){return!!(e.level>200&&e.levelScene.getChildByName("rSna")&&e.levelScene.getChildByName("rSna").getComponent(c).isSnakeMoved&&e.levelScene.getChildByName("ySna")&&e.levelScene.getChildByName("ySna").getComponent(c).isSnakeMoved)}},{id:"GAME_AD",name:"关爱作者",desc:"在关卡或限时模式中看一次广告",condition:function(e){return"level"==e.gameMode&&e.adChoiceBoard.getChildByName("Play Ad Button").scale.x>.91}},{id:"GAME_PLAYER_CREATION",name:"玩家共创",desc:"在关卡或限时模式中体验玩家设计的关卡",condition:function(e){return!!e.playerCreation.active}},{id:"GAME_MOVE_COUNT_100",name:"动起来!",desc:"在关卡模式中让蛇蛇移动次数达到100次",condition:function(e){return!!("level"==e.gameMode&&localStorage.getItem("snake-achievement-move-count")&&parseInt(localStorage.getItem("snake-achievement-move-count"))>=100)}},{id:"GAME_MOVE_COUNT_1000",name:"爱动蛇蛇",desc:"在关卡模式中让蛇蛇移动次数达到1000次",condition:function(e){return!!("level"==e.gameMode&&localStorage.getItem("snake-achievement-move-count")&&parseInt(localStorage.getItem("snake-achievement-move-count"))>=1e3)}},{id:"GAME_MOVE_COUNT_5000",name:"蛇蛇狂动",desc:"在关卡模式中让蛇蛇移动次数达到5000次",condition:function(e){return!!("level"==e.gameMode&&localStorage.getItem("snake-achievement-move-count")&&parseInt(localStorage.getItem("snake-achievement-move-count"))>=5e3)}},{id:"GAME_TIME_30",name:"限时高手",desc:"在限时模式中通过30关",condition:function(e){return"time"==e.gameMode&&e.passedLevelArray.length>=30}}],n.infiniteAchievements=[{id:"INFINITE_FRUIT_100",name:"略饱",desc:"在跑酷模式中吃100个水果",condition:function(e){return e.fruCount>=100}},{id:"INFINITE_FRUIT_500",name:"饱了饱了",desc:"在跑酷模式中吃500个水果",condition:function(e){return e.fruCount>=500}},{id:"INFINITE_FRUIT_1000",name:"太能吃啦",desc:"在跑酷模式中吃1000个水果",condition:function(e){return e.fruCount>=1e3}},{id:"INFINITE_FRUIT_5000",name:"大胃王",desc:"在跑酷模式中吃5000个水果",condition:function(e){return e.fruCount>=5e3}},{id:"INFINITE_FRUIT_10000",name:"无尽王者",desc:"在跑酷模式中吃10000个水果",condition:function(e){return e.fruCount>=1e4}},{id:"INFINITE_FIRST_FAIL",name:"初尝败果",desc:"在跑酷模式中失败一次",condition:function(e){return!!(localStorage.getItem("snake-life-count")&&parseInt(localStorage.getItem("snake-life-count"))<10)}},{id:"INFINITE_ALL_FAIL",name:"挑战到底",desc:"在跑酷模式中用完全部挑战值",condition:function(e){return!!(localStorage.getItem("snake-life-count")&&parseInt(localStorage.getItem("snake-life-count"))<=0)}},{id:"INFINITE_GO_DOWN",name:"向下?",desc:"在跑酷模式中让蛇蛇向下移动一次",condition:function(e){return e.snakeYSpeed<0}}],n}n(t,e);var i=t.prototype;return i.start=function(){},t.getInstace=function(){return null==this._instance&&(this._instance=new t),this._instance},i.checkGameAchievements=function(e){var n=this.getAchievedIdArray(),t=[];this.gameAchievements.forEach((function(i){-1==n.indexOf(i.id)&&i.condition(e)&&(console.log("玩家达成了成就: "+i.name),t.push(i))})),t.length&&(this.updateAchievedIdArray(t),e.showTheAchieved(t))},i.checkInfiniteAchievements=function(e){var n=this.getAchievedIdArray(),t=[];this.infiniteAchievements.forEach((function(i){-1==n.indexOf(i.id)&&i.condition(e)&&(console.log("玩家达成了成就: "+i.name),t.push(i))})),t.length&&(this.updateAchievedIdArray(t),e.showTheAchieved(t))},i.getAllGameAchievements=function(){return this.gameAchievements},i.getAllInfiniteAchievements=function(){return this.infiniteAchievements},i.getAchievedIdArray=function(){return localStorage.getItem("snake-achievement-id-array")?JSON.parse(localStorage.getItem("snake-achievement-id-array")):(localStorage.setItem("snake-achievement-id-array",JSON.stringify([])),[])},i.updateAchievedIdArray=function(e){for(var n=JSON.parse(localStorage.getItem("snake-achievement-id-array")),t=0;t<e.length;t++)n.push(e[t].id);localStorage.setItem("snake-achievement-id-array",JSON.stringify(n))},i.update=function(e){},t}(o))._instance=null,a=r))||a);t._RF.pop()}}}));

System.register("chunks:///_virtual/AdManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ATJSSDK.ts","./ATRewardedVideoTSSDK.ts","./ATBannerTSSDK.ts"],(function(e){var n,a,o,t,i,d,r,s,A,g;return{setters:[function(e){n=e.inheritsLoose},function(e){a=e.cclegacy,o=e._decorator,t=e.sys,i=e.director,d=e.screen,r=e.Component},function(e){s=e.ATJSSDK},function(e){A=e.ATRewardedVideoSDK},function(e){g=e.ATBannerSDK}],execute:function(){var c,l;a._RF.push({},"39ebdjgI1BPYL/QQsf1Whd0","AdManager",void 0);var h=o.ccclass,u=(o.property,window.wx),m=window.tt,f=window.h5api,w=window.gamebox;window.ATRewardSceneScript=A;e("AdManager",h("AdManager")(((l=function(e){function a(){for(var n,a=arguments.length,o=new Array(a),t=0;t<a;t++)o[t]=arguments[t];return(n=e.call.apply(e,[this].concat(o))||this).isAdInited=!1,n.wxBannerAd=null,n.wxVideoAd=null,n.ttBannerAd=null,n.ttVideoAd=null,n.gameBoxAd=null,n.takuAppID="a67b16856111ef",n.takuAppKey="af4fc8142b4c7264c4d226977de9dfd6e",n.takuAndroidVideoAdID="b67b168756d969",n.takuAndroidBannerAdID="b67b3dbf75771b",n.isTakuAndroidBannerShownBefore=!1,n.gameManager=null,n.raceTrackManager=null,n}n(a,e);var o=a.prototype;return o.start=function(){},o.initAd=function(){if(!this.isAdInited){if(w)this.initGameBoxAd(),this.isAdInited=!0;else if(t.platform==t.Platform.WECHAT_GAME)this.initWxAd(),this.isAdInited=!0;else if(t.platform==t.Platform.BYTEDANCE_MINI_GAME)this.initTtAd(),this.isAdInited=!0;else if(t.platform==t.Platform.ANDROID)try{this.isAdInited=!0,this.initTakuAd(),this.loadTakuBannerAd(),console.log("！！！！！！！！！！Taku广告初始化成功！！！！！！！！！！")}catch(e){s.printLog(e),console.log("！！！！！！！！！！Taku广告初始化失败！！！！！！！！！！")}i.addPersistRootNode(this.node)}},o.initGameBoxAd=function(){var e=this;console.log("gamebox广告初始化成功"),this.gameBoxAd=w.createRewardedVideoAd();this.gameBoxAd.onError((function(n){console.info("RewardedVideo onError"+n),e.gameManager.isInAdPage=!1})),this.gameBoxAd.onClose((function(n){e.gameManager.audioManager.pause(),e.gameManager.audioManager.replayBgAudio(),e.gameManager.isInAdPage=!1})),this.gameBoxAd.onCompleted((function(n){"Game"==i.getScene().name?(localStorage.setItem("snake-hint","3"),e.gameManager.showMessage("get3Hints",1),e.gameManager.audioManager.playOneShot(e.gameManager.audioManager.hintAudio),e.gameManager.isInAdPage=!1):"Infinite"==i.getScene().name&&(localStorage.setItem("snake-endless-video-reward","1"),localStorage.setItem("snake-life-count","10"),i.loadScene("Home"))}))},o.showGameBoxVideoAd=function(){var e=this;this.gameBoxAd?(this.gameManager.isInAdPage=!0,this.gameBoxAd.show().catch((function(){e.gameBoxAd.load().then((function(){return e.gameBoxAd.show()})).catch((function(n){console.log("激励视频 广告显示失败",n),e.gameManager.isInAdPage=!1}))}))):console.log("gameboxAd不存在")},o.initTtAd=function(){this.initTtVideoAd()},o.initTtBannerAd=function(){if(!this.ttBannerAd&&m){m.getSystemInfoSync().screenWidth;var e=m.getSystemInfoSync().screenHeight;this.ttBannerAd=m.createBannerAd({adUnitId:"gpl0jfqpe6n5514243",style:{left:0,top:e/6,width:300}}),this.ttBannerAd.onError((function(e){console.log(e)}))}},o.showTtBannerAd=function(){this.ttBannerAd&&this.ttBannerAd.show()},o.hideTtBannerAd=function(){this.ttBannerAd&&this.ttBannerAd.hide()},o.initTtVideoAd=function(){if(!this.ttVideoAd&&m){this.ttVideoAd=m.createRewardedVideoAd({adUnitId:"3eren8nk49421ah481",multiton:!1,multitonRewardMsg:["更多奖励1","更多奖励2","更多奖励3"],multitonRewardTimes:3,progressTip:!1});var e=this;this.ttVideoAd.onClose((function(n){n.isEnded&&("Game"==i.getScene().name?(localStorage.setItem("snake-hint","3"),e.gameManager.showMessage("get3Hints",1),e.gameManager.audioManager.playOneShot(e.gameManager.audioManager.hintAudio),e.gameManager.isInAdPage=!1):"Infinite"==i.getScene().name&&(localStorage.setItem("snake-endless-video-reward","1"),localStorage.setItem("snake-life-count","10"),i.loadScene("Home"))),n.count})),this.ttVideoAd.onError((function(){console.log("error emit"),e.gameManager.isInAdPage=!1})),this.ttVideoAd.onLoad((function(){console.log("广告加载完成")}))}},o.showTtVideoAd=function(e){var n=this;void 0===e&&(e=null),this.ttVideoAd&&(this.gameManager.isInAdPage=!0,this.ttVideoAd.load(),this.ttVideoAd.show().then((function(){console.log("广告显示成功")})).catch((function(a){console.log("广告组件出现问题",a),n.gameManager.isInAdPage=!1,e&&e()})))},o.initWxAd=function(){this.initWxVideoAd()},o.initWxBannerAd=function(){if(!this.wxBannerAd&&u){var e=u.getSystemInfoSync().screenWidth,n=u.getSystemInfoSync().screenHeight;this.wxBannerAd=u.createCustomAd({adUnitId:"adunit-9461d4d27237542e",style:{left:(e-350)/2,top:n-n/5,width:350}}),this.wxBannerAd.onError((function(e){console.log(e)}))}},o.initWxVideoAd=function(){var e=this;if(!this.wxVideoAd&&u){u.onAudioInterruptionEnd((function(){n.gameManager.audioManager.pause(),n.gameManager.audioManager.replayBgAudio()})),this.wxVideoAd=u.createRewardedVideoAd({adUnitId:"adunit-ba9b38271075a24f"}),this.wxVideoAd.onLoad((function(){})),this.wxVideoAd.onError((function(n){console.log(n),e.gameManager.isInAdPage=!1}));try{this.wxVideoAd.closeHandler&&(this.wxVideoAd.offClose(this.wxVideoAd.closeHandler),console.log("---videoAd.offClose 卸载成功---"))}catch(e){console.log("---videoAd.offClose 卸载失败---"),console.error(e)}var n=this;this.wxVideoAd.closeHandler=function(e){if(e&&e.isEnded||void 0===e){console.log("播放完毕");try{"Game"==i.getScene().name?(localStorage.setItem("snake-hint","3"),n.gameManager.showMessage("get3Hints",1),n.gameManager.audioManager.playOneShot(n.gameManager.audioManager.hintAudio),n.gameManager.isInAdPage=!1):"Infinite"==i.getScene().name&&(localStorage.setItem("snake-endless-video-reward","1"),localStorage.setItem("snake-life-count","10"),i.loadScene("Home"))}catch(e){console.log(e)}}},this.wxVideoAd.onClose(this.wxVideoAd.closeHandler)}},o.showWxBannerAd=function(){this.wxBannerAd&&this.wxBannerAd.show()},o.hideWxBannerAd=function(){this.wxBannerAd&&this.wxBannerAd.hide()},o.showWxVideoAd=function(e){var n=this;void 0===e&&(e=null),this.wxVideoAd&&(this.gameManager.isInAdPage=!0,this.wxVideoAd.show().catch((function(){n.wxVideoAd.load().then((function(){return n.wxVideoAd.show()})).catch((function(a){console.log("激励视频 广告显示失败"),console.log(a),n.gameManager.isInAdPage=!1,e&&e()}))})))},o.initTakuAd=function(){s.initCustomMap({appCustomKey1:"appCustomValue1",appCustomKey2:"appCustomValue2"});s.setPlacementCustomMap(this.takuAndroidVideoAdID,{placementCustomKey1:"placementCustomValue1",placementCustomKey2:"placementCustomValue2"});s.getGDPRLevel();s.initSDK(this.takuAppID,this.takuAppKey),A.setAdListener(this),g.setAdListener(this)},o.loadTakuVideoAd=function(){var e={};e[A.userIdKey]="test_user_id",e[A.userDataKey]="test_user_data",A.loadRewardedVideo(this.takuAndroidVideoAdID,e)},o.loadTakuBannerAd=function(){var e={};e[g.kATBannerAdLoadingExtraBannerAdSizeStruct]=g.createLoadAdSize(d.windowSize.width,150),e[g.kATBannerAdAdaptiveWidth]=d.windowSize.width,e[g.kATBannerAdAdaptiveOrientation]=g.kATBannerAdAdaptiveOrientationCurrent,g.loadBanner(this.takuAndroidBannerAdID,e)},o.showTakuVideoAd=function(){A.showAd(this.takuAndroidVideoAdID)},o.showTakuBannerAd=function(){this.isTakuAndroidBannerShownBefore?g.reShowAd(this.takuAndroidBannerAdID):(this.isTakuAndroidBannerShownBefore=!0,g.showAdInPosition(this.takuAndroidBannerAdID,g.kATBannerAdShowingPositionTop)),s.printLog("！！！！！！！成功显示横幅广告！！！！！！！")},o.isReady=function(){var e=g.hasAdReady(this.takuAndroidBannerAdID);s.printLog("AnyThinkBannerDemo::checkReady() "+(e?"Ready":"NO"));var n=g.checkAdStatus(this.takuAndroidBannerAdID);s.printLog("AnyThinkBannerDemo::checkAdStatus()   "+n)},o.hideTakuBannerAd=function(){g.hideAd(this.takuAndroidBannerAdID),s.printLog("！！！！！！！成功隐藏横幅广告！！！！！！！")},o.onRewardedVideoAdLoaded=function(e){s.printLog("AnyThinkRewardedVideoDemo::onRewardedVideoAdLoaded("+e+")")},o.onRewardedVideoAdFailed=function(e,n){s.printLog("AnyThinkRewardedVideoDemo::onRewardedVideoAdFailed("+e+", "+n+")");try{this.gameManager.showMessage("adPlayError",1)}catch(e){s.printLog(e)}},o.onRewardedVideoAdPlayStart=function(e,n){s.printLog("AnyThinkRewardedVideoDemo::onRewardedVideoAdPlayStart("+e+", "+n+")")},o.onRewardedVideoAdPlayEnd=function(e,n){s.printLog("AnyThinkRewardedVideoDemo::onRewardedVideoAdPlayEnd("+e+", "+n+")")},o.onRewardedVideoAdPlayFailed=function(e,n,a){s.printLog("AnyThinkRewardedVideoDemo::onRewardedVideoAdPlayFailed("+e+", "+n+", "+a+")");try{this.gameManager.showMessage("adPlayError",1)}catch(e){s.printLog(e)}},o.onRewardedVideoAdClosed=function(e,n){s.printLog("AnyThinkRewardedVideoDemo::onRewardedVideoAdClosed("+e+", "+n+")")},o.onRewardedVideoAdPlayClicked=function(e,n){s.printLog("AnyThinkRewardedVideoDemo::onRewardedVideoAdPlayClicked("+e+", "+n+")")},o.onReward=function(e,n){s.printLog("AnyThinkRewardedVideoDemo::onReward("+e+", "+n+")");try{"Game"==i.getScene().name?(localStorage.setItem("snake-hint","3"),this.gameManager.showMessage("get3Hints",1),this.gameManager.audioManager.playOneShot(this.gameManager.audioManager.hintAudio)):"Infinite"==i.getScene().name&&(localStorage.setItem("snake-endless-video-reward","1"),localStorage.setItem("snake-life-count","10"),i.loadScene("Home"))}catch(e){console.log(e)}},o.onBannerAdLoaded=function(e){s.printLog("onBannerAdLoaded"+e)},o.onBannerAdLoadFail=function(e,n){s.printLog("onBannerAdLoadFail"+e+ +n)},o.onBannerAdShow=function(e,n){s.printLog("onBannerAdShow"+e+n)},o.onBannerAdClick=function(e,n){s.printLog("onBannerAdClick"+e+n)},o.onBannerAdAutoRefresh=function(e,n){s.printLog("onBannerAdAutoRefresh"+e+n)},o.onBannerAdAutoRefreshFail=function(e,n){s.printLog("onBannerAdAutoRefreshFail"+e+n)},o.onBannerAdCloseButtonTapped=function(e,n){s.printLog("onBannerAdCloseButtonTapped"+e+n)},o.play4399Ad=function(){if(!f)return console.log("无h5api，广告播放失败"),void this.gameManager.showMessage("adPlayError",1);var e=this;f.playAd((function(n){console.log("代码:"+n.code+",消息:"+n.message),1e4===n.code?console.log("开始播放"):10001===n.code?(console.log("播放结束"),"Game"==i.getScene().name?(localStorage.setItem("snake-hint","3"),e.gameManager.showMessage("get3Hints",1),e.gameManager.audioManager.playOneShot(e.gameManager.audioManager.hintAudio)):"Infinite"==i.getScene().name&&(localStorage.setItem("snake-endless-video-reward","1"),localStorage.setItem("snake-life-count","10"),i.loadScene("Home"))):(console.log("广告异常"),e.gameManager.showMessage("adPlayError",1))}))},o.update=function(e){},a}(r))._instance=null,c=l))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/ATAndroidBannerTS.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"7be153xugNG07Wv4XLQrq23","ATAndroidBannerTS",void 0);var a="com/anythink/cocosjs/ATBannerJSBridge";n("ATAndroidBannerTS",{loadBanner:function(n,t){cc.log("Android-loadBanner:"+t),jsb.reflection.callStaticMethod(a,"load","(Ljava/lang/String;Ljava/lang/String;)V",n,t)},setAdListener:function(n){cc.log("Android-setAdListener"),jsb.reflection.callStaticMethod(a,"setAdListener","(Ljava/lang/String;)V",n)},hasAdReady:function(n){return cc.log("Android-hasAdReady"),jsb.reflection.callStaticMethod(a,"isAdReady","(Ljava/lang/String;)Z",n)},checkAdStatus:function(n){return cc.log("Android-checkAdStatus:"+n),jsb.reflection.callStaticMethod(a,"checkAdStatus","(Ljava/lang/String;)Ljava/lang/String;",n)},showAdInPosition:function(n,t){cc.log("Android-showAdInPosistion"),jsb.reflection.callStaticMethod(a,"showWithPosition","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",n,t,"")},showAdInPositionAndScenario:function(n,t,i){cc.log("Android-showAdInPositionAndScenario"),jsb.reflection.callStaticMethod(a,"showWithPosition","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",n,t,i)},showAdInRectangle:function(n,t){cc.log("Android-showAdInRectangle"),jsb.reflection.callStaticMethod(a,"showWithRect","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",n,t,"")},showAdInRectangleAndScenario:function(n,t,i){cc.log("Android-showAdInRectangleAndScenario"),jsb.reflection.callStaticMethod(a,"showWithRect","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",n,t,i)},removeAd:function(n){cc.log("Android-removeAd"),jsb.reflection.callStaticMethod(a,"remove","(Ljava/lang/String;)V",n)},reShowAd:function(n){cc.log("Android-reShowAd"),jsb.reflection.callStaticMethod(a,"reshow","(Ljava/lang/String;)V",n)},hideAd:function(n){cc.log("Android-hideAd"),jsb.reflection.callStaticMethod(a,"hide","(Ljava/lang/String;)V",n)}});t._RF.pop()}}}));

System.register("chunks:///_virtual/ATAndroidIntersitialAutoTS.ts",["cc"],(function(t){var a;return{setters:[function(t){a=t.cclegacy}],execute:function(){a._RF.push({},"98f74kK/ehGGZXzoxC30t4Q","ATAndroidIntersitialAutoTS",void 0);var n="com/anythink/cocosjs/ATInterstitialAutoAdJSBridge";t("ATAndroidInterstitialAutoAdTS",{setAdListener:function(t){cc.log("Android-setAdListener"),jsb.reflection.callStaticMethod(n,"setAdListener","(Ljava/lang/String;)V",t)},addPlacementIds:function(t){cc.log("Android-addPlacementIds"),jsb.reflection.callStaticMethod(n,"addPlacementIds","(Ljava/lang/String;)V",t)},removePlacementId:function(t){cc.log("Android-removePlacementId"),jsb.reflection.callStaticMethod(n,"removePlacementId","(Ljava/lang/String;)V",t)},setAdExtraData:function(t,a){cc.log("Android-setAdExtraData"),jsb.reflection.callStaticMethod(n,"setAdExtraData","(Ljava/lang/String;Ljava/lang/String;)V",t,a)},hasAdReady:function(t){return cc.log("Android-hasAdReady"),jsb.reflection.callStaticMethod(n,"isAdReady","(Ljava/lang/String;)Z",t)},checkAdStatus:function(t){return cc.log("Android-checkAdStatus:"+t),jsb.reflection.callStaticMethod(n,"checkAdStatus","(Ljava/lang/String;)Ljava/lang/String;",t)},showAd:function(t){cc.log("Android-ivautoad_showAd:"+t),jsb.reflection.callStaticMethod(n,"show","(Ljava/lang/String;)V",t)},showAdInScenario:function(t,a){cc.log("Android-ivautoad_showAdInScenario:"+t+"---"+a),jsb.reflection.callStaticMethod(n,"show","(Ljava/lang/String;Ljava/lang/String;)V",t,a)},entryAdScenario:function(t,a){cc.log("Android-entryAdScenario:"+t+"---"+a),jsb.reflection.callStaticMethod(n,"entryAdScenario","(Ljava/lang/String;Ljava/lang/String;)V",t,a)}});a._RF.pop()}}}));

System.register("chunks:///_virtual/ATAndroidIntersitialTS.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"6bf68FI2zNDlpzkTQIOeEau","ATAndroidIntersitialTS",void 0);var a="com/anythink/cocosjs/ATInterstitialJSBridge";t("ATAndroidInterstitialJS",{loadInterstitial:function(t,n){cc.log("Android-loadInterstitial"),jsb.reflection.callStaticMethod(a,"load","(Ljava/lang/String;Ljava/lang/String;)V",t,n)},setAdListener:function(t){cc.log("Android-setAdListener"),jsb.reflection.callStaticMethod(a,"setAdListener","(Ljava/lang/String;)V",t)},hasAdReady:function(t){return cc.log("Android-hasAdReady"),jsb.reflection.callStaticMethod(a,"isAdReady","(Ljava/lang/String;)Z",t)},checkAdStatus:function(t){return cc.log("Android-checkAdStatus:"+t),jsb.reflection.callStaticMethod(a,"checkAdStatus","(Ljava/lang/String;)Ljava/lang/String;",t)},showAd:function(t){cc.log("Android-showAd:"+t),jsb.reflection.callStaticMethod(a,"show","(Ljava/lang/String;)V",t)},showAdInScenario:function(t,n){cc.log("Android-showAdInScenario:"+t+"---"+n),jsb.reflection.callStaticMethod(a,"show","(Ljava/lang/String;Ljava/lang/String;)V",t,n)},entryAdScenario:function(t,n){cc.log("Android-entryAdScenario:"+t+"---"+n),jsb.reflection.callStaticMethod(a,"entryAdScenario","(Ljava/lang/String;Ljava/lang/String;)V",t,n)}});n._RF.pop()}}}));

System.register("chunks:///_virtual/ATAndroidJS.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"26ca8yhbdZBB72PvsDDGDYa","ATAndroidJS",void 0);var n="com/anythink/cocosjs/ATJSBridge";t("ATAndroidJS",{printJsLog:function(t){null!=t&&null!=t&&jsb.reflection.callStaticMethod("android/util/Log","i","(Ljava/lang/String;Ljava/lang/String;)I","AT-Cocos-JS",t)},initSDK:function(t,e){jsb.reflection.callStaticMethod(n,"initSDK","(Ljava/lang/String;Ljava/lang/String;)V",t,e)},initCustomMap:function(t){jsb.reflection.callStaticMethod(n,"initCustomMap","(Ljava/lang/String;)V",t)},setPlacementCustomMap:function(t,e){jsb.reflection.callStaticMethod(n,"setPlacementCustomMap","(Ljava/lang/String;Ljava/lang/String;)V",t,e)},setGDPRLevel:function(t){jsb.reflection.callStaticMethod(n,"setGDPRLevel","(I)V",t)},getGDPRLevel:function(){return jsb.reflection.callStaticMethod(n,"getGDPRLevel","()I")},getUserLocation:function(t){jsb.reflection.callStaticMethod(n,"getUserLocation","(Ljava/lang/String;)V",t)},showGDPRAuth:function(){jsb.reflection.callStaticMethod(n,"showGDPRAuth","()V")},setLogDebug:function(t){jsb.reflection.callStaticMethod(n,"setLogDebug","(Z)V",t)},deniedUploadDeviceInfo:function(t){jsb.reflection.callStaticMethod(n,"deniedUploadDeviceInfo","(Ljava/lang/String;)V",t)},showDebuggerUI:function(t){try{jsb.reflection.callStaticMethod(n,"showDebuggerUI","(Ljava/lang/String;)V",t)}catch(t){t instanceof Error?console.error(t.message):console.error("unknown error",t)}}});e._RF.pop()}}}));

System.register("chunks:///_virtual/ATAndroidNativeTS.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"61ab2LEA3JDEolIB5Ce+KA+","ATAndroidNativeTS",void 0);var a="com/anythink/cocosjs/ATNativeJSBridge";n("ATAndroidNativeTS",{loadNative:function(n,t){cc.log("Android-loadNative"),jsb.reflection.callStaticMethod(a,"load","(Ljava/lang/String;Ljava/lang/String;)V",n,t)},setAdListener:function(n){cc.log("Android-setAdListener"),jsb.reflection.callStaticMethod(a,"setAdListener","(Ljava/lang/String;)V",n)},hasAdReady:function(n){return cc.log("Android-hasAdReady"),jsb.reflection.callStaticMethod(a,"isAdReady","(Ljava/lang/String;)Z",n)},checkAdStatus:function(n){return cc.log("Android-checkAdStatus:"+n),jsb.reflection.callStaticMethod(a,"checkAdStatus","(Ljava/lang/String;)Ljava/lang/String;",n)},showAd:function(n,t){cc.log("Android-showAd"),jsb.reflection.callStaticMethod(a,"show","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",n,t,"")},showAdInScenario:function(n,t,e){cc.log("Android-showAdInScenario"),jsb.reflection.callStaticMethod(a,"show","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",n,t,e)},removeAd:function(n){cc.log("Android-removeAd"),jsb.reflection.callStaticMethod(a,"remove","(Ljava/lang/String;)V",n)},entryAdScenario:function(n,t){cc.log("Android-entryAdScenario:"+n+"---"+t),jsb.reflection.callStaticMethod(a,"entryAdScenario","(Ljava/lang/String;Ljava/lang/String;)V",n,t)}});t._RF.pop()}}}));

System.register("chunks:///_virtual/ATAndroidRewardedVideoAutoTS.ts",["cc"],(function(t){var a;return{setters:[function(t){a=t.cclegacy}],execute:function(){a._RF.push({},"9ff8e5P1Q1Jt7Q+BcLryWHM","ATAndroidRewardedVideoAutoTS",void 0);var e="com/anythink/cocosjs/ATRewardedVideoAutoAdJSBridge";t("ATAndroidRewardedVideoAutoAdTS",{setAdListener:function(t){cc.log("Android-setAdListener"),jsb.reflection.callStaticMethod(e,"setAdListener","(Ljava/lang/String;)V",t)},addPlacementIds:function(t){cc.log("Android-addPlacementIds"),jsb.reflection.callStaticMethod(e,"addPlacementIds","(Ljava/lang/String;)V",t)},removePlacementId:function(t){cc.log("Android-removePlacementId"),jsb.reflection.callStaticMethod(e,"removePlacementId","(Ljava/lang/String;)V",t)},setAdExtraData:function(t,a){cc.log("Android-setAdExtraData"),jsb.reflection.callStaticMethod(e,"setAdExtraData","(Ljava/lang/String;Ljava/lang/String;)V",t,a)},hasAdReady:function(t){return cc.log("Android-hasAdReady"),jsb.reflection.callStaticMethod(e,"isAdReady","(Ljava/lang/String;)Z",t)},checkAdStatus:function(t){return cc.log("Android-checkAdStatus:"+t),jsb.reflection.callStaticMethod(e,"checkAdStatus","(Ljava/lang/String;)Ljava/lang/String;",t)},showAd:function(t){cc.log("Android-rvautoad_showAd:"+t),jsb.reflection.callStaticMethod(e,"show","(Ljava/lang/String;)V",t)},showAdInScenario:function(t,a){cc.log("Android-rvautoad_showAdInScenario:"+t+"---"+a),jsb.reflection.callStaticMethod(e,"show","(Ljava/lang/String;Ljava/lang/String;)V",t,a)},entryAdScenario:function(t,a){cc.log("Android-entryAdScenario:"+t+"---"+a),jsb.reflection.callStaticMethod(e,"entryAdScenario","(Ljava/lang/String;Ljava/lang/String;)V",t,a)}});a._RF.pop()}}}));

System.register("chunks:///_virtual/ATAndroidRewardedVideoTS.ts",["cc"],(function(n){var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"e8559ZAANdChKcsr6HBPWsb","ATAndroidRewardedVideoTS",void 0);var t="com/anythink/cocosjs/ATRewardedVideoJSBridge";n("ATAndroidRewardedVideoJS",{loadRewardedVideo:function(n,e){cc.log("Android-loadRewardedVideo"),jsb.reflection.callStaticMethod(t,"load","(Ljava/lang/String;Ljava/lang/String;)V",n,e)},setAdListener:function(n){cc.log("Android-setAdListener"),jsb.reflection.callStaticMethod(t,"setAdListener","(Ljava/lang/String;)V",n)},hasAdReady:function(n){return cc.log("Android-hasAdReady"),jsb.reflection.callStaticMethod(t,"isAdReady","(Ljava/lang/String;)Z",n)},checkAdStatus:function(n){return cc.log("Android-checkAdStatus:"+n),jsb.reflection.callStaticMethod(t,"checkAdStatus","(Ljava/lang/String;)Ljava/lang/String;",n)},showAd:function(n){cc.log("Android-rv_showAd:"+n),jsb.reflection.callStaticMethod(t,"show","(Ljava/lang/String;)V",n)},showAdInScenario:function(n,e){cc.log("Android-rv_showAdInScenario:"+n+"---"+e),jsb.reflection.callStaticMethod(t,"show","(Ljava/lang/String;Ljava/lang/String;)V",n,e)},entryAdScenario:function(n,e){cc.log("Android-entryAdScenario:"+n+"---"+e),jsb.reflection.callStaticMethod(t,"entryAdScenario","(Ljava/lang/String;Ljava/lang/String;)V",n,e)}});e._RF.pop()}}}));

System.register("chunks:///_virtual/ATBannerTSSDK.ts",["cc","./ATAndroidBannerTS.ts","./ATiOSBannerTS.ts"],(function(n){var e,l,o;return{setters:[function(n){e=n.cclegacy},function(n){l=n.ATAndroidBannerTS},function(n){o=n.ATiOSBannerJS}],execute:function(){e._RF.push({},"6e279R3gTNOI7/AIoTQQ25I","ATBannerTSSDK",void 0);var a=cc.sys.os===cc.sys.OS.IOS?o:cc.sys.os===cc.sys.OS.ANDROID?l:void 0,r=n("ATBannerSDK",{kATBannerAdLoadingExtraBannerAdSizeStruct:"banner_ad_size_struct",kATBannerAdShowingPositionTop:"top",kATBannerAdShowingPositionBottom:"bottom",kATBannerAdInlineAdaptiveWidth:"inline_adaptive_width",kATBannerAdInlineAdaptiveOrientation:"inline_adaptive_orientation",kATBannerAdInlineAdaptiveOrientationCurrent:0,kATBannerAdInlineAdaptiveOrientationPortrait:1,kATBannerAdInlineAdaptiveOrientationLandscape:2,kATBannerAdAdaptiveWidth:"adaptive_width",kATBannerAdAdaptiveOrientation:"adaptive_orientation",kATBannerAdAdaptiveOrientationCurrent:0,kATBannerAdAdaptiveOrientationPortrait:1,kATBannerAdAdaptiveOrientationLandscape:2,ATBannerListener:{developerCallback:null,onBannerAdLoaded:function(n){null!=this.developerCallback&&null!=this.developerCallback.onBannerAdLoaded&&null!=this.developerCallback.onBannerAdLoaded&&this.developerCallback.onBannerAdLoaded(n)},onBannerAdLoadFail:function(n,e){null!=this.developerCallback&&null!=this.developerCallback.onBannerAdLoadFail&&null!=this.developerCallback.onBannerAdLoadFail&&this.developerCallback.onBannerAdLoadFail(n,e)},onBannerAdShow:function(n,e){null!=this.developerCallback&&null!=this.developerCallback.onBannerAdShow&&null!=this.developerCallback.onBannerAdShow&&this.developerCallback.onBannerAdShow(n,e)},onBannerAdClick:function(n,e){null!=this.developerCallback&&null!=this.developerCallback.onBannerAdClick&&null!=this.developerCallback.onBannerAdClick&&this.developerCallback.onBannerAdClick(n,e)},onBannerAdAutoRefresh:function(n,e){null!=this.developerCallback&&null!=this.developerCallback.onBannerAdAutoRefresh&&null!=this.developerCallback.onBannerAdAutoRefresh&&this.developerCallback.onBannerAdAutoRefresh(n,e)},onBannerAdAutoRefreshFail:function(n,e){null!=this.developerCallback&&null!=this.developerCallback.onBannerAdAutoRefreshFail&&null!=this.developerCallback.onBannerAdAutoRefreshFail&&this.developerCallback.onBannerAdAutoRefreshFail(n,e)},onBannerAdCloseButtonTapped:function(n,e){null!=this.developerCallback&&null!=this.developerCallback.onBannerAdCloseButtonTapped&&null!=this.developerCallback.onBannerAdCloseButtonTapped&&this.developerCallback.onBannerAdCloseButtonTapped(n,e)},onAdSourceBiddingAttempt:function(n,e){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceBiddingAttempt&&null!=this.developerCallback.onAdSourceBiddingAttempt&&this.developerCallback.onAdSourceBiddingAttempt(n,e)},onAdSourceBiddingFilled:function(n,e){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceBiddingFilled&&null!=this.developerCallback.onAdSourceBiddingFilled&&this.developerCallback.onAdSourceBiddingFilled(n,e)},onAdSourceBiddingFail:function(n,e,l){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceBiddingFail&&null!=this.developerCallback.onAdSourceBiddingFail&&this.developerCallback.onAdSourceBiddingFail(n,e,l)},onAdSourceAttemp:function(n,e){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceAttemp&&null!=this.developerCallback.onAdSourceAttemp&&this.developerCallback.onAdSourceAttemp(n,e)},onAdSourceLoadFilled:function(n,e){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceLoadFilled&&null!=this.developerCallback.onAdSourceLoadFilled&&this.developerCallback.onAdSourceLoadFilled(n,e)},onAdSourceLoadFail:function(n,e,l){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceLoadFail&&null!=this.developerCallback.onAdSourceLoadFail&&this.developerCallback.onAdSourceLoadFail(n,e,l)}},loadBanner:function(n,e){if(void 0===e&&(e={}),null!=a&&null!=a){if(e.hasOwnProperty(r.kATBannerAdLoadingExtraBannerAdSizeStruct)){var l=e[r.kATBannerAdLoadingExtraBannerAdSizeStruct];e.width=l.width,e.height=l.height}a.loadBanner(n,JSON.stringify(e))}else cc.log("You must run on Android or iOS.")},setAdListener:function(n){var e={};e[d]="ATBannerSDK.ATBannerListener.onBannerAdLoaded",e[i]="ATBannerSDK.ATBannerListener.onBannerAdLoadFail",e[t]="ATBannerSDK.ATBannerListener.onBannerAdCloseButtonTapped",e[A]="ATBannerSDK.ATBannerListener.onBannerAdClick",e[u]="ATBannerSDK.ATBannerListener.onBannerAdShow",e[c]="ATBannerSDK.ATBannerListener.onBannerAdAutoRefresh",e[s]="ATBannerSDK.ATBannerListener.onBannerAdAutoRefreshFail",e[B]="ATBannerSDK.ATBannerListener.onAdSourceBiddingAttempt",e[h]="ATBannerSDK.ATBannerListener.onAdSourceBiddingFilled",e[p]="ATBannerSDK.ATBannerListener.onAdSourceBiddingFail",e[S]="ATBannerSDK.ATBannerListener.onAdSourceAttemp",e[v]="ATBannerSDK.ATBannerListener.onAdSourceLoadFilled",e[k]="ATBannerSDK.ATBannerListener.onAdSourceLoadFail",null!=a&&null!=a?a.setAdListener(JSON.stringify(e)):cc.log("You must run on Android or iOS."),this.ATBannerListener.developerCallback=n},hasAdReady:function(n){return null!=a&&null!=a?a.hasAdReady(n):(cc.log("You must run on Android or iOS."),!1)},checkAdStatus:function(n){return null!=a&&null!=a?a.checkAdStatus(n):(cc.log("You must run on Android or iOS."),"")},showAdInPosition:function(n,e){null!=a&&null!=a?a.showAdInPosition(n,e):cc.log("You must run on Android or iOS.")},showAdInPositionAndScenario:function(n,e,l){null!=a&&null!=a?a.showAdInPosition(n,e,l):cc.log("You must run on Android or iOS.")},showAdInRectangle:function(n,e){null!=a&&null!=a?a.showAdInRectangle(n,JSON.stringify(e)):cc.log("You must run on Android or iOS.")},showAdInRectangleAndScenario:function(n,e,l){null!=a&&null!=a?a.showAdInRectangle(n,JSON.stringify(e),l):cc.log("You must run on Android or iOS.")},removeAd:function(n){null!=a&&null!=a?a.removeAd(n):cc.log("You must run on Android or iOS.")},reShowAd:function(n){null!=a&&null!=a?a.reShowAd(n):cc.log("You must run on Android or iOS.")},hideAd:function(n){null!=a&&null!=a?a.hideAd(n):cc.log("You must run on Android or iOS.")},createLoadAdSize:function(n,e){var l={};return l.width=n,l.height=e,l},createShowAdRect:function(n,e,l,o){var a={};return a.x=n,a.y=e,a.width=l,a.height=o,a}}),d="BannerLoaded",i="BannerLoadFail",t="BannerCloseButtonTapped",A="BannerClick",u="BannerShow",c="BannerRefresh",s="BannerRefreshFail",B="BannerBiddingAttempt",h="BannerBiddingFilled",p="BannerBiddingFail",S="BannerAttemp",v="BannerLoadFilled",k="BannerLoadFail";window.ATBannerSDK=r,e._RF.pop()}}}));

System.register("chunks:///_virtual/ATIntersitialAutoTSSDK.ts",["cc","./ATAndroidIntersitialAutoTS.ts","./ATiOSIntersitiaAutolTS.ts"],(function(t){var l,i,e;return{setters:[function(t){l=t.cclegacy},function(t){i=t.ATAndroidInterstitialAutoAdTS},function(t){e=t.ATiOSInterstitialAutoAdTS}],execute:function(){l._RF.push({},"36dc4MWxpNGza5Rji+NIXiQ","ATIntersitialAutoTSSDK",void 0);var n=cc.sys.os===cc.sys.OS.IOS?e:cc.sys.os===cc.sys.OS.ANDROID?i:void 0,o=t("ATInterstitialAutoAdSDK",{UseInterstitialAsInterstitial:"UseInterstitialAsInterstitial",UseRewardedVideoAsInterstitial:"UseRewardedVideoAsInterstitial",ATInterstitialListener:{developerCallback:null,onInterstitialAdLoaded:function(t){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdLoaded&&null!=this.developerCallback.onInterstitialAdLoaded&&this.developerCallback.onInterstitialAdLoaded(t)},onInterstitialAdLoadFail:function(t,l){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdLoadFail&&null!=this.developerCallback.onInterstitialAdLoadFail&&this.developerCallback.onInterstitialAdLoadFail(t,l)},onInterstitialAdShow:function(t,l){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdShow&&null!=this.developerCallback.onInterstitialAdShow&&this.developerCallback.onInterstitialAdShow(t,l)},onInterstitialAdStartPlayingVideo:function(t,l){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdStartPlayingVideo&&null!=this.developerCallback.onInterstitialAdStartPlayingVideo&&this.developerCallback.onInterstitialAdStartPlayingVideo(t,l)},onInterstitialAdEndPlayingVideo:function(t,l){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdEndPlayingVideo&&null!=this.developerCallback.onInterstitialAdEndPlayingVideo&&this.developerCallback.onInterstitialAdEndPlayingVideo(t,l)},onInterstitialAdFailedToPlayVideo:function(t,l){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdFailedToPlayVideo&&null!=this.developerCallback.onInterstitialAdFailedToPlayVideo&&this.developerCallback.onInterstitialAdFailedToPlayVideo(t,l)},onInterstitialAdFailedToShow:function(t,l,i){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdFailedToShow&&null!=this.developerCallback.onInterstitialAdFailedToShow&&this.developerCallback.onInterstitialAdFailedToShow(t,l,i)},onInterstitialAdClose:function(t,l){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdClose&&null!=this.developerCallback.onInterstitialAdClose&&this.developerCallback.onInterstitialAdClose(t,l)},onInterstitialAdClick:function(t,l){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdClick&&null!=this.developerCallback.onInterstitialAdClick&&this.developerCallback.onInterstitialAdClick(t,l)}},setAdExtraData:function(t,l){void 0===l&&(l={}),null!=n&&null!=n?n.setAdExtraData(t,JSON.stringify(l)):cc.log("You must run on Android or iOS.")},addPlacementIds:function(t){null!=n&&null!=n?n.addPlacementIds(JSON.stringify(t)):cc.log("You must run on Android or iOS.")},removePlacementId:function(t){null!=n&&null!=n?n.removePlacementId(JSON.stringify(t)):cc.log("You must run on Android or iOS.")},setAdListener:function(t){var l={};l[a]="ATInterstitialAutoAdSDK.ATInterstitialListener.onInterstitialAdLoaded",l[d]="ATInterstitialAutoAdSDK.ATInterstitialListener.onInterstitialAdLoadFail",l[r]="ATInterstitialAutoAdSDK.ATInterstitialListener.onInterstitialAdStartPlayingVideo",l[s]="ATInterstitialAutoAdSDK.ATInterstitialListener.onInterstitialAdEndPlayingVideo",l[A]="ATInterstitialAutoAdSDK.ATInterstitialListener.onInterstitialAdFailedToPlayVideo",l[u]="ATInterstitialAutoAdSDK.ATInterstitialListener.onInterstitialAdClose",l[c]="ATInterstitialAutoAdSDK.ATInterstitialListener.onInterstitialAdClick",l[I]="ATInterstitialAutoAdSDK.ATInterstitialListener.onInterstitialAdShow",l[S]="ATInterstitialAutoAdSDK.ATInterstitialListener.onInterstitialAdFailedToShow",null!=n&&null!=n?n.setAdListener(JSON.stringify(l)):cc.log("You must run on Android or iOS."),this.ATInterstitialListener.developerCallback=t},hasAdReady:function(t){return null!=n&&null!=n?n.hasAdReady(t):(cc.log("You must run on Android or iOS."),!1)},checkAdStatus:function(t){return null!=n&&null!=n?n.checkAdStatus(t):(cc.log("You must run on Android or iOS."),"")},showAd:function(t){null!=n&&null!=n?n.showAd(t):cc.log("You must run on Android or iOS.")},showAdInScenario:function(t,l){void 0===l&&(l=""),null!=n&&null!=n?n.showAdInScenario(t,l):cc.log("You must run on Android or iOS.")},entryAdScenario:function(t,l){void 0===l&&(l=""),null!=n&&null!=n?n.entryAdScenario(t,l):cc.log("You must run on Android or iOS.")}}),a="InterstitialAutoAdLoaded",d="InterstitialAutoAdLoadFail",r="InterstitialAutoAdPlayStart",s="InterstitialAutoAdPlayEnd",A="InterstitialAutoAdPlayFail",u="InterstitialAutoAdClose",c="InterstitialAutoAdClick",I="InterstitialAutoAdAdShow",S="InterstitialAutoAdShowFail";window.ATInterstitialAutoAdSDK=o,l._RF.pop()}}}));

System.register("chunks:///_virtual/ATIntersitialTSSDK.ts",["cc","./ATAndroidIntersitialTS.ts","./ATiOSIntersitialTS.ts"],(function(l){var t,i,e;return{setters:[function(l){t=l.cclegacy},function(l){i=l.ATAndroidInterstitialJS},function(l){e=l.ATiOSInterstitialJS}],execute:function(){t._RF.push({},"7a34e5+P4pMqJyrJdl2+Qk5","ATIntersitialTSSDK",void 0);var n=cc.sys.os===cc.sys.OS.IOS?e:cc.sys.os===cc.sys.OS.ANDROID?i:void 0,a=l("ATInterstitialSDK",{UseInterstitialAsInterstitial:"UseInterstitialAsInterstitial",ATInterstitialListener:{developerCallback:null,onInterstitialAdLoaded:function(l){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdLoaded&&null!=this.developerCallback.onInterstitialAdLoaded&&this.developerCallback.onInterstitialAdLoaded(l)},onInterstitialAdLoadFail:function(l,t){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdLoadFail&&null!=this.developerCallback.onInterstitialAdLoadFail&&this.developerCallback.onInterstitialAdLoadFail(l,t)},onInterstitialAdShow:function(l,t){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdShow&&null!=this.developerCallback.onInterstitialAdShow&&this.developerCallback.onInterstitialAdShow(l,t)},onInterstitialAdStartPlayingVideo:function(l,t){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdStartPlayingVideo&&null!=this.developerCallback.onInterstitialAdStartPlayingVideo&&this.developerCallback.onInterstitialAdStartPlayingVideo(l,t)},onInterstitialAdEndPlayingVideo:function(l,t){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdEndPlayingVideo&&null!=this.developerCallback.onInterstitialAdEndPlayingVideo&&this.developerCallback.onInterstitialAdEndPlayingVideo(l,t)},onInterstitialAdFailedToPlayVideo:function(l,t){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdFailedToPlayVideo&&null!=this.developerCallback.onInterstitialAdFailedToPlayVideo&&this.developerCallback.onInterstitialAdFailedToPlayVideo(l,t)},onInterstitialAdFailedToShow:function(l,t,i){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdFailedToShow&&null!=this.developerCallback.onInterstitialAdFailedToShow&&this.developerCallback.onInterstitialAdFailedToShow(l,t,i)},onInterstitialAdClose:function(l,t){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdClose&&null!=this.developerCallback.onInterstitialAdClose&&this.developerCallback.onInterstitialAdClose(l,t)},onInterstitialAdClick:function(l,t){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdClick&&null!=this.developerCallback.onInterstitialAdClick&&this.developerCallback.onInterstitialAdClick(l,t)},onAdSourceBiddingAttempt:function(l,t){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceBiddingAttempt&&null!=this.developerCallback.onAdSourceBiddingAttempt&&this.developerCallback.onAdSourceBiddingAttempt(l,t)},onAdSourceBiddingFilled:function(l,t){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceBiddingFilled&&null!=this.developerCallback.onAdSourceBiddingFilled&&this.developerCallback.onAdSourceBiddingFilled(l,t)},onAdSourceBiddingFail:function(l,t,i){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceBiddingFail&&null!=this.developerCallback.onAdSourceBiddingFail&&this.developerCallback.onAdSourceBiddingFail(l,t,i)},onAdSourceAttemp:function(l,t){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceAttemp&&null!=this.developerCallback.onAdSourceAttemp&&this.developerCallback.onAdSourceAttemp(l,t)},onAdSourceLoadFilled:function(l,t){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceLoadFilled&&null!=this.developerCallback.onAdSourceLoadFilled&&this.developerCallback.onAdSourceLoadFilled(l,t)},onAdSourceLoadFail:function(l,t,i){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceLoadFail&&null!=this.developerCallback.onAdSourceLoadFail&&this.developerCallback.onAdSourceLoadFail(l,t,i)}},loadInterstitial:function(l,t){void 0===t&&(t={}),null!=n&&null!=n?n.loadInterstitial(l,JSON.stringify(t)):cc.log("You must run on Android or iOS.")},setAdListener:function(l){var t={};t[o]=" ATInterstitialSDK.ATInterstitialListener.onInterstitialAdLoaded",t[d]=" ATInterstitialSDK.ATInterstitialListener.onInterstitialAdLoadFail",t[r]=" ATInterstitialSDK.ATInterstitialListener.onInterstitialAdStartPlayingVideo",t[s]=" ATInterstitialSDK.ATInterstitialListener.onInterstitialAdEndPlayingVideo",t[c]=" ATInterstitialSDK.ATInterstitialListener.onInterstitialAdFailedToPlayVideo",t[A]=" ATInterstitialSDK.ATInterstitialListener.onInterstitialAdClose",t[u]=" ATInterstitialSDK.ATInterstitialListener.onInterstitialAdClick",t[I]=" ATInterstitialSDK.ATInterstitialListener.onInterstitialAdShow",t[S]=" ATInterstitialSDK.ATInterstitialListener.onInterstitialAdFailedToShow",t[h]=" ATInterstitialSDK.ATInterstitialListener.onAdSourceBiddingAttempt",t[p]=" ATInterstitialSDK.ATInterstitialListener.onAdSourceBiddingFilled",t[C]=" ATInterstitialSDK.ATInterstitialListener.onAdSourceBiddingFail",t[k]=" ATInterstitialSDK.ATInterstitialListener.onAdSourceAttemp",t[v]=" ATInterstitialSDK.ATInterstitialListener.onAdSourceLoadFilled",t[b]=" ATInterstitialSDK.ATInterstitialListener.onAdSourceLoadFail",null!=n&&null!=n?n.setAdListener(JSON.stringify(t)):cc.log("You must run on Android or iOS."),this.ATInterstitialListener.developerCallback=l},hasAdReady:function(l){return null!=n&&null!=n?n.hasAdReady(l):(cc.log("You must run on Android or iOS."),!1)},checkAdStatus:function(l){return null!=n&&null!=n?n.checkAdStatus(l):(cc.log("You must run on Android or iOS."),"")},showAd:function(l){null!=n&&null!=n?n.showAd(l):cc.log("You must run on Android or iOS.")},showAdInScenario:function(l,t){void 0===t&&(t=""),null!=n&&null!=n?n.showAdInScenario(l,t):cc.log("You must run on Android or iOS.")},entryAdScenario:function(l,t){void 0===t&&(t=""),null!=n&&null!=n?n.entryAdScenario(l,t):cc.log("You must run on Android or iOS.")}}),o="InterstitialLoaded",d="InterstitialLoadFail",r="InterstitialPlayStart",s="InterstitialPlayEnd",c="InterstitialPlayFail",A="InterstitialClose",u="InterstitialClick",I="InterstitialAdShow",S="InterstitialAdShowFail",h="InterstitialBiddingAttempt",p="InterstitialBiddingFilled",C="InterstitialBiddingFail",k="InterstitialAttemp",v="InterstitialLoadFilled",b="InterstitialLoadFail";window.ATInterstitialSDK=a,t._RF.pop()}}}));

System.register("chunks:///_virtual/ATiOSBannerTS.ts",["cc","./ATiOSJS.ts"],(function(n){var e,t;return{setters:[function(n){e=n.cclegacy},function(n){t=n.ATiOSJS}],execute:function(){e._RF.push({},"d34a2MIFbdMG68LYvUC/kxC","ATiOSBannerTS",void 0);var i="ATBannerAdWrapper";n("ATiOSBannerJS",{loadBanner:function(n,e){t.printJsLog("ATiOSBannerJS::loadBanner("+n+", "+e+")"),jsb.reflection.callStaticMethod(i,"loadBannerWithPlacementID:extra:",n,e)},setAdListener:function(n){t.printJsLog("ATiOSBannerJS::setAdListener("+n+")"),jsb.reflection.callStaticMethod(i,"setDelegates:",n)},hasAdReady:function(n){return t.printJsLog("ATiOSBannerJS::hasAdReady("+n+")"),jsb.reflection.callStaticMethod(i,"bannerReadyForPlacementID:",n)},checkAdStatus:function(n){return t.printJsLog("ATiOSBannerJS::checkAdStatus("+n+")"),jsb.reflection.callStaticMethod(i,"bannerCheckAdStatusForPlacementID:",n)},showAdInPosition:function(n,e){t.printJsLog("ATiOSBannerJS::showAdInPosition("+n+", "+e+")"),jsb.reflection.callStaticMethod(i,"showBannerWithPlacementID:scene:position:",n,null,e)},showAdInPositionAndScenario:function(n,e,o){t.printJsLog("ATiOSBannerJS::showAdInPositionAndScenario("+n+", "+e+", "+o+")"),jsb.reflection.callStaticMethod(i,"showBannerWithPlacementID:scene:position:",n,o,e)},showAdInRectangle:function(n,e){t.printJsLog("ATiOSBannerJS::showAdInRectangle("+n+", "+e+")"),jsb.reflection.callStaticMethod(i,"showBannerWithPlacementID:scene:rect:",n,null,e)},showAdInRectangleAndScenario:function(n,e,o){t.printJsLog("ATiOSBannerJS::showAdInRectangleAndScenario("+n+", "+e+", "+o+")"),jsb.reflection.callStaticMethod(i,"showBannerWithPlacementID:scene:rect:",n,o,e)},removeAd:function(n){t.printJsLog("ATiOSBannerJS::removeAd("+n+")"),jsb.reflection.callStaticMethod(i,"removeAd:",n)},reShowAd:function(n){t.printJsLog("ATiOSBannerJS::reShowAd("+n+")"),jsb.reflection.callStaticMethod(i,"reShowAd:",n)},hideAd:function(n){t.printJsLog("ATiOSBannerJS::hideAd("+n+")"),jsb.reflection.callStaticMethod(i,"hideAd:",n)}});e._RF.pop()}}}));

System.register("chunks:///_virtual/ATiOSIntersitiaAutolTS.ts",["cc","./ATiOSJS.ts"],(function(t){var e,i;return{setters:[function(t){e=t.cclegacy},function(t){i=t.ATiOSJS}],execute:function(){e._RF.push({},"98b0040mRNP9q+bevMvno+E","ATiOSIntersitiaAutolTS",void 0);var n="ATInterstitialAutoAdWrapper";t("ATiOSInterstitialAutoAdTS",{setAdListener:function(t){i.printJsLog("ATiOSInterstitialAutoAdJS::setAdListener("+t+")"),jsb.reflection.callStaticMethod(n,"setDelegates:",t)},setAdExtraData:function(t,e){i.printJsLog("ATiOSInterstitialAutoAdJS::setAdExtraData("+t+", "+e+")"),jsb.reflection.callStaticMethod(n,"setAutoLocalExtra:customDataJSONString:",t,e)},addPlacementIds:function(t){i.printJsLog("ATiOSInterstitialAutoAdJS::addPlacementIds("+t+")"),jsb.reflection.callStaticMethod(n,"addAutoLoadAdPlacementID:",t)},removePlacementId:function(t){i.printJsLog("ATiOSInterstitialAutoAdJS::removePlacementId("+t+")"),jsb.reflection.callStaticMethod(n,"removeAutoLoadAdPlacementID:",t)},hasAdReady:function(t){return i.printJsLog("ATiOSInterstitialAutoAdJS::hasAdReady("+t+")"),jsb.reflection.callStaticMethod(n,"autoLoadInterstitialAdReadyForPlacementID:",t)},checkAdStatus:function(t){return i.printJsLog("ATiOSInterstitialAutoAdJS::hasAdReady("+t+")"),jsb.reflection.callStaticMethod(n,"checkAutoAdStatus:",t)},entryAdScenario:function(t,e){i.printJsLog("ATiOSInterstitialAutoAdJS::entryAdScenario("+t+", "+e+")"),jsb.reflection.callStaticMethod(n,"entryAutoAdScenarioWithPlacementID:scenarioID:",t,e)},showAd:function(t){i.printJsLog("ATiOSInterstitialAutoAdJS::showAd("+t+")"),jsb.reflection.callStaticMethod(n,"showAutoInterstitialAdWithPlacementID:scenarioID:",t,null)},showAdInScenario:function(t,e){i.printJsLog("ATiOSInterstitialAutoAdJS::showAdInScenario("+t+", "+e+")"),jsb.reflection.callStaticMethod(n,"showAutoInterstitialAdWithPlacementID:scenarioID:",t,e)}});e._RF.pop()}}}));

System.register("chunks:///_virtual/ATiOSIntersitialTS.ts",["cc","./ATiOSJS.ts"],(function(t){var e,i;return{setters:[function(t){e=t.cclegacy},function(t){i=t.ATiOSJS}],execute:function(){e._RF.push({},"2b957pqg9ZH26IFZ72piBRd","ATiOSIntersitialTS",void 0);var n="ATInterstitialAdWrapper";t("ATiOSInterstitialJS",{loadInterstitial:function(t,e){i.printJsLog("ATiOSInterstitialJS::loadInterstitial("+t+", "+e+")"),jsb.reflection.callStaticMethod(n,"loadInterstitialWithPlacementID:extra:",t,e)},setAdListener:function(t){i.printJsLog("ATiOSInterstitialJS::setAdListener("+t+")"),jsb.reflection.callStaticMethod(n,"setDelegates:",t)},hasAdReady:function(t){return i.printJsLog("ATiOSInterstitialJS::hasAdReady("+t+")"),jsb.reflection.callStaticMethod(n,"interstitialReadyForPlacementID:",t)},checkAdStatus:function(t){return i.printJsLog("ATiOSInterstitialJS::checkAdStatus("+t+")"),jsb.reflection.callStaticMethod(n,"checkAdStatus:",t)},setUserData:function(t,e,i){cc.log("Android-setUserData")},showAd:function(t){return i.printJsLog("ATiOSInterstitialJS::showAd("+t+")"),jsb.reflection.callStaticMethod(n,"showInterstitialWithPlacementID:scene:",t,null)},showAdInScenario:function(t,e){return i.printJsLog("ATiOSInterstitialJS::showAd("+t+", "+e+")"),jsb.reflection.callStaticMethod(n,"showInterstitialWithPlacementID:scene:",t,e)},entryAdScenario:function(t,e){return i.printJsLog("ATiOSInterstitialJS::entryAdScenario("+t+", "+e+")"),jsb.reflection.callStaticMethod(n,"entryAdScenarioWithPlacementID:scene:",t,e)}});e._RF.pop()}}}));

System.register("chunks:///_virtual/ATiOSJS.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"b36c61TZPFAGYgpG73XHxyc","ATiOSJS",void 0);var i="ATSDKManager";t("ATiOSJS",{initSDK:function(t,e){this.printJsLog("ATiOSJS::initSDK("+t+","+e+")"),jsb.reflection.callStaticMethod(i,"startWithAppID:appKey:",t,e)},initCustomMap:function(t){this.printJsLog("ATiOSJS::initCustomMap("+t+")"),jsb.reflection.callStaticMethod(i,"setCustomData:",t)},setPlacementCustomMap:function(t,e){this.printJsLog("ATiOSJS::setPlacementCustomMap("+t+", "+e+")"),jsb.reflection.callStaticMethod(i,"setCustomData:forPlacementID:",e,t)},setGDPRLevel:function(t){this.printJsLog("ATiOSJS::setGDPRLevel("+t+")"),jsb.reflection.callStaticMethod(i,"setDataConsent:",t)},getGDPRLevel:function(){return this.printJsLog("ATiOSJS::getGDPRLevel()"),jsb.reflection.callStaticMethod(i,"dataConsent")},getUserLocation:function(t){this.printJsLog("ATiOSJS::getUserLocation("+t+")"),jsb.reflection.callStaticMethod(i,"getUserLocationWithCallback:",t)},showGDPRAuth:function(){this.printJsLog("ATiOSJS::showGDPRAuth()"),jsb.reflection.callStaticMethod(i,"presentDataConsentDialog")},setLogDebug:function(t){this.printJsLog("ATiOSJS::setLogDebug("+t+")"),jsb.reflection.callStaticMethod(i,"setDebugLog:",t)},printJsLog:function(t){console.log(t),null!=t&&null!=t&&jsb.reflection.callStaticMethod("ATJSBridge","log:",t)},deniedUploadDeviceInfo:function(t){this.printJsLog("ATiOSJS::deniedUploadDeviceInfo("+t+")"),jsb.reflection.callStaticMethod(i,"deniedUploadDeviceInfo:",t)},showDebuggerUI:function(t){this.printJsLog("ATiOSJS::showDebuggerUI("+t+")"),jsb.reflection.callStaticMethod(i,"showDebuggerUIWithDebugKey:",t)}});e._RF.pop()}}}));

System.register("chunks:///_virtual/ATiOSNativeTS.ts",["cc","./ATiOSJS.ts"],(function(t){var e,i;return{setters:[function(t){e=t.cclegacy},function(t){i=t.ATiOSJS}],execute:function(){e._RF.push({},"4d551GLf/xDd5NQzlf0XNv7","ATiOSNativeTS",void 0);var n="ATNativeAdWrapper";t("ATiOSNativeTS",{loadNative:function(t,e){i.printJsLog("ATiOSBannerJS::loadNative("+t+", "+e+")"),jsb.reflection.callStaticMethod(n,"loadNativeWithPlacementID:extra:",t,e)},setAdListener:function(t){i.printJsLog("ATiOSNativeJS::setAdListener("+t+")"),jsb.reflection.callStaticMethod(n,"setDelegates:",t)},hasAdReady:function(t){return i.printJsLog("ATiOSNativeJS::hasAdReady("+t+")"),jsb.reflection.callStaticMethod(n,"nativeReadyForPlacementID:",t)},checkAdStatus:function(t){return i.printJsLog("ATiOSNativeJS::checkAdStatus("+t+")"),jsb.reflection.callStaticMethod(n,"nativeCheckAdStatusForPlacementID:",t)},showAd:function(t,e){i.printJsLog("ATiOSNativeJS::showAd("+t+", "+e+")"),jsb.reflection.callStaticMethod(n,"showNativeWithPlacementID:scene:metrics:",t,null,e)},showAdInScenario:function(t,e,a){i.printJsLog("ATiOSNativeJS::showAdInScenario("+t+", "+e+", "+a+")"),jsb.reflection.callStaticMethod(n,"showNativeWithPlacementID:scene:metrics:",t,a,e)},removeAd:function(t){i.printJsLog("ATiOSNativeJS::removeAd("+t+")"),jsb.reflection.callStaticMethod(n,"removeNativeWithPlacementID:",t)},entryAdScenario:function(t,e){return i.printJsLog("ATiOSInterstitialJS::entryAdScenario("+t+", "+e+")"),jsb.reflection.callStaticMethod(n,"entryAdScenarioWithPlacementID:scene:",t,e)}});e._RF.pop()}}}));

System.register("chunks:///_virtual/ATiOSRewardedAutoVideoTS.ts",["cc","./ATiOSJS.ts"],(function(e){var t,d;return{setters:[function(e){t=e.cclegacy},function(e){d=e.ATiOSJS}],execute:function(){t._RF.push({},"0a808+Kv+ZCj5Sc4lAXStpM","ATiOSRewardedAutoVideoTS",void 0);var o="ATRewardedVideoAutoAdWrapper";e("ATiOSRewardedVideoAutoAdJS",{setAdListener:function(e){d.printJsLog("ATiOSRewardedVideoAutoAdJS::setAdListener("+e+")"),jsb.reflection.callStaticMethod(o,"setDelegates:",e)},setAdExtraData:function(e,t){d.printJsLog("ATiOSRewardedVideoAutoAdJS::setAdExtraData("+e+", "+t+")"),jsb.reflection.callStaticMethod(o,"setAutoLocalExtra:customDataJSONString:",e,t)},addPlacementIds:function(e){d.printJsLog("ATiOSRewardedVideoAutoAdJS::addPlacementIds("+e+")"),jsb.reflection.callStaticMethod(o,"addAutoLoadAdPlacementID:",e)},removePlacementId:function(e){d.printJsLog("ATiOSRewardedVideoAutoAdJS::removePlacementId("+e+")"),jsb.reflection.callStaticMethod(o,"removeAutoLoadAdPlacementID:",e)},hasAdReady:function(e){return d.printJsLog("ATiOSRewardedVideoAutoAdJS::hasAdReady("+e+")"),jsb.reflection.callStaticMethod(o,"autoLoadRewardedVideoReadyForPlacementID:",e)},checkAdStatus:function(e){return d.printJsLog("ATiOSRewardedVideoAutoAdJS::hasAdReady("+e+")"),jsb.reflection.callStaticMethod(o,"checkAutoAdStatus:",e)},entryAdScenario:function(e,t){d.printJsLog("ATiOSInterstitialAutoAdJS::entryAdScenario("+e+", "+t+")"),jsb.reflection.callStaticMethod(o,"entryAutoAdScenarioWithPlacementID:scenarioID:",e,t)},showAd:function(e){d.printJsLog("ATiOSRewardedVideoAutoAdJS::showAd("+e+")"),jsb.reflection.callStaticMethod(o,"showAutoRewardedVideoWithPlacementID:scenarioID:",e,null)},showAdInScenario:function(e,t){d.printJsLog("ATiOSRewardedVideoAutoAdJS::showAdInScenario("+e+", "+t+")"),jsb.reflection.callStaticMethod(o,"showAutoRewardedVideoWithPlacementID:scenarioID:",e,t)}});t._RF.pop()}}}));

System.register("chunks:///_virtual/ATiOSRewardedVideoTS.ts",["cc","./ATiOSJS.ts"],(function(e){var t,d;return{setters:[function(e){t=e.cclegacy},function(e){d=e.ATiOSJS}],execute:function(){t._RF.push({},"2b14f8xstBDsLGzW21Dvdf4","ATiOSRewardedVideoTS",void 0);var i="ATRewardedVideoWrapper";e("ATiOSRewardedVideoTS",{loadRewardedVideo:function(e,t){d.printJsLog("ATiOSRewardedVideoJS::loadRewardedVideo("+e+", "+t+")"),jsb.reflection.callStaticMethod(i,"loadRewardedVideoWithPlacementID:extra:",e,t)},setAdListener:function(e){d.printJsLog("ATiOSRewardedVideoJS::setAdListener("+e+")"),jsb.reflection.callStaticMethod(i,"setDelegates:",e)},hasAdReady:function(e){return d.printJsLog("ATiOSRewardedVideoJS::hasAdReady("+e+")"),jsb.reflection.callStaticMethod(i,"rewardedVideoReadyForPlacementID:",e)},checkAdStatus:function(e){return d.printJsLog("ATiOSRewardedVideoJS::checkAdStatus("+e+")"),jsb.reflection.callStaticMethod(i,"checkAdStatus:",e)},setUserData:function(e,t,d){cc.log("Android-setUserData")},showAd:function(e){return d.printJsLog("ATiOSRewardedVideoJS::showAd("+e+")"),jsb.reflection.callStaticMethod(i,"showRewardedVideoWithPlacementID:scene:",e,null)},showAdInScenario:function(e,t){return d.printJsLog("ATiOSRewardedVideoJS::showAdInScenario("+e+", "+t+")"),jsb.reflection.callStaticMethod(i,"showRewardedVideoWithPlacementID:scene:",e,t)},entryAdScenario:function(e,t){return d.printJsLog("ATiOSInterstitialJS::entryAdScenario("+e+", "+t+")"),jsb.reflection.callStaticMethod(i,"entryAdScenarioWithPlacementID:scene:",e,t)}});t._RF.pop()}}}));

System.register("chunks:///_virtual/ATJSSDK.ts",["cc","./ATAndroidJS.ts","./ATiOSJS.ts"],(function(n){var o,l,u,t;return{setters:[function(n){o=n.cclegacy,l=n._decorator},function(n){u=n.ATAndroidJS},function(n){t=n.ATiOSJS}],execute:function(){o._RF.push({},"a4078Trz5hHtIbG2QZCGWfc","ATJSSDK",void 0);l.ccclass,l.property;var i=!1,c=cc.sys.os===cc.sys.OS.IOS?t:cc.sys.os===cc.sys.OS.ANDROID?u:void 0,e=n("ATJSSDK",{kATUserLocationUnknown:0,kATUserLocationInEU:1,kATUserLocationOutOfEU:2,PERSONALIZED:0,NONPERSONALIZED:1,UNKNOWN:2,OS_VERSION_NAME:"os_vn",OS_VERSION_CODE:"os_vc",APP_PACKAGE_NAME:"package_name",APP_VERSION_NAME:"app_vn",APP_VERSION_CODE:"app_vc",BRAND:"brand",MODEL:"model",DEVICE_SCREEN_SIZE:"screen",MNC:"mnc",MCC:"mcc",LANGUAGE:"language",TIMEZONE:"timezone",USER_AGENT:"ua",ORIENTATION:"orient",NETWORK_TYPE:"network_type",INSTALLER:"it_src",ANDROID_ID:"android_id",GAID:"gaid",MAC:"mac",IMEI:"imei",OAID:"oaid",IDFA:"idfa",IDFV:"idfv",ATSDKListener:{userLocationCallback:null,getUserLocationCallback:function(n){null!=this.userLocationCallback&&null!=this.userLocationCallback&&this.userLocationCallback(n)}},initSDK:function(n,o){null!=c&&null!=c?c.initSDK(n,o):cc.log("You must run on Android or iOS.")},initCustomMap:function(n){null!=c&&null!=c?null!=n&&null!=n&&c.initCustomMap(JSON.stringify(n)):cc.log("You must run on Android or iOS.")},setPlacementCustomMap:function(n,o){null!=c&&null!=c?null!=o&&null!=o&&c.setPlacementCustomMap(n,JSON.stringify(o)):cc.log("You must run on Android or iOS.")},setGDPRLevel:function(n){null!=c&&null!=c?c.setGDPRLevel(n):cc.log("You must run on Android or iOS.")},getGDPRLevel:function(){return null!=c&&null!=c?c.getGDPRLevel():(cc.log("You must run on Android or iOS."),this.UNKNOWN)},getUserLocation:function(n){this.ATSDKListener.userLocationCallback=n,null!=c&&null!=c?c.getUserLocation(r):cc.log("You must run on Android or iOS.")},showGDPRAuth:function(){null!=c&&null!=c?c.showGDPRAuth():cc.log("You must run on Android or iOS.")},setLogDebug:function(n){i=n,null!=c&&null!=c?c.setLogDebug(n):cc.log("You must run on Android or iOS.")},printLog:function(n){null!=n&&null!=n&&i&&null!=c&&(null!=c&&null!=c?c.printJsLog(n):cc.log("You must run on Android or iOS."))},printLogWithParams:function(n,o,l,u,t){this.printLog(n+"::"+o+"()\nplacementId="+l+"\ncallbackInfo="+u+"\nerrorInfo="+t)},deniedUploadDeviceInfo:function(n){if(null!=c&&null!=c){if(null!=n){for(var o=n.length,l="",u=0;u<o;u++){var t=n[u];l=0==u?t:l+","+t}cc.log("test__"+l),c.deniedUploadDeviceInfo(l)}}else cc.log("You must run on Android or iOS.")},showDebuggerUI:function(n){null!=c&&null!=c&&c.showDebuggerUI(n)}}),r=" ATJSSDK.ATSDKListener.getUserLocationCallback";window.ATJSSDK=e,o._RF.pop()}}}));

System.register("chunks:///_virtual/ATNativeTSSDK.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ATiOSNativeTS.ts","./ATAndroidNativeTS.ts"],(function(e){var l,i,t,o,n;return{setters:[function(e){l=e.inheritsLoose},function(e){i=e.cclegacy,t=e.Component},function(e){o=e.ATiOSNativeTS},function(e){n=e.ATAndroidNativeTS}],execute:function(){i._RF.push({},"a644bT34aJHpbzj1PnY+CWV","ATNativeTSSDK",void 0);var a=cc.sys.os===cc.sys.OS.IOS?o:cc.sys.os===cc.sys.OS.ANDROID?n:void 0,d=e("ATNativeTSSDK",{ATNativeListener:{developerCallback:null,onNativeAdLoaded:function(e){null!=this.developerCallback&&null!=this.developerCallback.onNativeAdLoaded&&null!=this.developerCallback.onNativeAdLoaded&&this.developerCallback.onNativeAdLoaded(e)},onNativeAdLoadFail:function(e,l){null!=this.developerCallback&&null!=this.developerCallback.onNativeAdLoadFail&&null!=this.developerCallback.onNativeAdLoadFail&&this.developerCallback.onNativeAdLoadFail(e,l)},onNativeAdShow:function(e,l){null!=this.developerCallback&&null!=this.developerCallback.onNativeAdShow&&null!=this.developerCallback.onNativeAdShow&&this.developerCallback.onNativeAdShow(e,l)},onNativeAdClick:function(e,l){null!=this.developerCallback&&null!=this.developerCallback.onNativeAdClick&&null!=this.developerCallback.onNativeAdClick&&this.developerCallback.onNativeAdClick(e,l)},onNativeAdVideoStart:function(e){null!=this.developerCallback&&null!=this.developerCallback.onNativeAdVideoStart&&null!=this.developerCallback.onNativeAdVideoStart&&this.developerCallback.onNativeAdVideoStart(e)},onNativeAdVideoEnd:function(e){null!=this.developerCallback&&null!=this.developerCallback.onNativeAdVideoEnd&&null!=this.developerCallback.onNativeAdVideoEnd&&this.developerCallback.onNativeAdVideoEnd(e)},onNativeAdCloseButtonTapped:function(e,l){null!=this.developerCallback&&null!=this.developerCallback.onNativeAdCloseButtonTapped&&null!=this.developerCallback.onNativeAdCloseButtonTapped&&this.developerCallback.onNativeAdCloseButtonTapped(e,l)},onAdSourceBiddingAttempt:function(e,l){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceBiddingAttempt&&null!=this.developerCallback.onAdSourceBiddingAttempt&&this.developerCallback.onAdSourceBiddingAttempt(e,l)},onAdSourceBiddingFilled:function(e,l){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceBiddingFilled&&null!=this.developerCallback.onAdSourceBiddingFilled&&this.developerCallback.onAdSourceBiddingFilled(e,l)},onAdSourceBiddingFail:function(e,l,i){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceBiddingFail&&null!=this.developerCallback.onAdSourceBiddingFail&&this.developerCallback.onAdSourceBiddingFail(e,l,i)},onAdSourceAttemp:function(e,l){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceAttemp&&null!=this.developerCallback.onAdSourceAttemp&&this.developerCallback.onAdSourceAttemp(e,l)},onAdSourceLoadFilled:function(e,l){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceLoadFilled&&null!=this.developerCallback.onAdSourceLoadFilled&&this.developerCallback.onAdSourceLoadFilled(e,l)},onAdSourceLoadFail:function(e,l,i){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceLoadFail&&null!=this.developerCallback.onAdSourceLoadFail&&this.developerCallback.onAdSourceLoadFail(e,l,i)}},loadNative:function(e,l){void 0===l&&(l={}),null!=a&&null!=a?a.loadNative(e,JSON.stringify(l)):cc.log("You must run on Android or iOS.")},setAdListener:function(e){var l={};l[r]="ATNativeTSSDK.ATNativeListener.onNativeAdLoaded",l[u]="ATNativeTSSDK.ATNativeListener.onNativeAdLoadFail",l[c]="ATNativeTSSDK.ATNativeListener.onNativeAdCloseButtonTapped",l[s]="ATNativeTSSDK.ATNativeListener.onNativeAdClick",l[v]="ATNativeTSSDK.ATNativeListener.onNativeAdShow",l[A]="ATNativeTSSDK.ATNativeListener.onNativeAdVideoStart",l[S]="ATNativeTSSDK.ATNativeListener.onNativeAdVideoEnd",l[p]="ATNativeTSSDK.ATNativeListener.onAdSourceBiddingAttempt",l[h]="ATNativeTSSDK.ATNativeListener.onAdSourceBiddingFilled",l[N]="ATNativeTSSDK.ATNativeListener.onAdSourceBiddingFail",l[C]="ATNativeTSSDK.ATNativeListener.onAdSourceAttemp",l[k]="ATNativeTSSDK.ATNativeListener.onAdSourceLoadFilled",l[T]="ATNativeTSSDK.ATNativeListener.onAdSourceLoadFail",null!=a&&null!=a?a.setAdListener(JSON.stringify(l)):cc.log("You must run on Android or iOS."),this.ATNativeListener.developerCallback=e},hasAdReady:function(e){return null!=a&&null!=a?a.hasAdReady(e):(cc.log("You must run on Android or iOS."),!1)},checkAdStatus:function(e){return null!=a&&null!=a?a.checkAdStatus(e):(cc.log("You must run on Android or iOS."),"")},showAd:function(e,l){null!=a&&null!=a?a.showAd(e,JSON.stringify(l.getAdViewProperty())):cc.log("You must run on Android or iOS.")},showAdInScenario:function(e,l,i){void 0===i&&(i=""),null!=a&&null!=a?a.showAdInScenario(e,JSON.stringify(l.getAdViewProperty()),i):cc.log("You must run on Android or iOS.")},entryAdScenario:function(e,l){void 0===l&&(l=""),null!=a&&null!=a?a.entryAdScenario(e,l):cc.log("You must run on Android or iOS.")},removeAd:function(e){null!=a&&null!=a?a.removeAd(e):cc.log("You must run on Android or iOS.")},createLoadAdSize:function(e,l){var i={};return i.width=e,i.height=l,i}}),r=(e("AdViewProperty",function(e){function i(){for(var l,i=arguments.length,t=new Array(i),o=0;o<i;o++)t[o]=arguments[o];return(l=e.call.apply(e,[this].concat(t))||this).parent=null,l.appIcon=null,l.mainImage=null,l.title=null,l.desc=null,l.adLogo=null,l.cta=null,l.rating=null,l.dislike=null,l.elements=null,l}l(i,e);var t=i.prototype;return t.createItemViewProperty=function(e,l,i,t,o,n,a,d){void 0===d&&(d=!1);var r={};return r.x=e,r.y=l,r.width=i,r.height=t,r.backgroundColor=o,r.textColor=n,r.textSize=a,r.isCustomClick=d,r},t.getAdViewProperty=function(){var e={};return null!=this.parent&&(e.parent=this.parent),null!=this.appIcon&&(e.icon=this.appIcon),null!=this.mainImage&&(e.mainImage=this.mainImage),null!=this.title&&(e.title=this.title),null!=this.desc&&(e.desc=this.desc),null!=this.adLogo&&(e.adLogo=this.adLogo),null!=this.cta&&(e.cta=this.cta),null!=this.rating&&(e.rating=this.rating),null!=this.dislike&&(e.dislike=this.dislike),null!=this.elements&&(e.elements=this.elements),e},i}(t)),"NativeLoaded"),u="NativeLoadFail",c="NativeCloseButtonTapped",s="NativeClick",v="NativeShow",A="NativeVideoStart",S="NativeVideoEnd",p="NativeBiddingAttempt",h="NativeBiddingFilled",N="NativeBiddingFail",C="NativeAttemp",k="NativeLoadFilled",T="NativeLoadFail";window.ATNativeTSSDK=d,i._RF.pop()}}}));

System.register("chunks:///_virtual/ATRewardedAutoVideoTSSDK.ts",["cc","./ATAndroidRewardedVideoAutoTS.ts","./ATiOSRewardedAutoVideoTS.ts","./ATJSSDK.ts"],(function(e){var d,o,a,l;return{setters:[function(e){d=e.cclegacy},function(e){o=e.ATAndroidRewardedVideoAutoAdTS},function(e){a=e.ATiOSRewardedVideoAutoAdJS},function(e){l=e.ATJSSDK}],execute:function(){d._RF.push({},"bece5A6ESJBwq8u2DLbJi9/","ATRewardedAutoVideoTSSDK",void 0);var i=cc.sys.os===cc.sys.OS.IOS?a:cc.sys.os===cc.sys.OS.ANDROID?o:void 0,n=e("ATRewardedVideoAutoAdSDK",{userIdKey:"userID",userDataKey:"media_ext",ATRewardedVideoListener:{developerCallback:null,onRewardedVideoAdLoaded:function(e){l.printLog("ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdLoaded("+e+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdLoaded&&null!=this.developerCallback.onRewardedVideoAdLoaded&&this.developerCallback.onRewardedVideoAdLoaded(e)},onRewardedVideoAdFailed:function(e,d){l.printLog("ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdFailed("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdFailed&&null!=this.developerCallback.onRewardedVideoAdFailed&&this.developerCallback.onRewardedVideoAdFailed(e,d)},onRewardedVideoAdPlayStart:function(e,d){l.printLog("ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdPlayStart("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdPlayStart&&null!=this.developerCallback.onRewardedVideoAdPlayStart&&this.developerCallback.onRewardedVideoAdPlayStart(e,d)},onRewardedVideoAdPlayEnd:function(e,d){l.printLog("ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdPlayEnd("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdPlayEnd&&null!=this.developerCallback.onRewardedVideoAdPlayEnd&&this.developerCallback.onRewardedVideoAdPlayEnd(e,d)},onRewardedVideoAdPlayFailed:function(e,d,o){l.printLog("ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdPlayFailed("+e+", "+d+", "+o+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdPlayFailed&&null!=this.developerCallback.onRewardedVideoAdPlayFailed&&this.developerCallback.onRewardedVideoAdPlayFailed(e,d,o)},onRewardedVideoAdClosed:function(e,d){l.printLog("ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdClosed("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdClosed&&null!=this.developerCallback.onRewardedVideoAdClosed&&this.developerCallback.onRewardedVideoAdClosed(e,d)},onRewardedVideoAdPlayClicked:function(e,d){l.printLog("ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdPlayClicked("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdPlayClicked&&null!=this.developerCallback.onRewardedVideoAdPlayClicked&&this.developerCallback.onRewardedVideoAdPlayClicked(e,d)},onReward:function(e,d){l.printLog("ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onReward("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onReward&&null!=this.developerCallback.onReward&&this.developerCallback.onReward(e,d)},onRewardedVideoAdAgainPlayStart:function(e,d){l.printLog("ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayStart("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdAgainPlayStart&&null!=this.developerCallback.onRewardedVideoAdAgainPlayStart&&this.developerCallback.onRewardedVideoAdAgainPlayStart(e,d)},onRewardedVideoAdAgainPlayEnd:function(e,d){l.printLog("ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayEnd("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdAgainPlayEnd&&null!=this.developerCallback.onRewardedVideoAdAgainPlayEnd&&this.developerCallback.onRewardedVideoAdAgainPlayEnd(e,d)},onRewardedVideoAdAgainPlayFailed:function(e,d,o){l.printLog("ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayFailed("+e+", "+d+", "+o+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdAgainPlayFailed&&null!=this.developerCallback.onRewardedVideoAdAgainPlayFailed&&this.developerCallback.onRewardedVideoAdAgainPlayFailed(e,d,o)},onRewardedVideoAdAgainPlayClicked:function(e,d){l.printLog("ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayClicked("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdAgainPlayClicked&&null!=this.developerCallback.onRewardedVideoAdAgainPlayClicked&&this.developerCallback.onRewardedVideoAdAgainPlayClicked(e,d)},onAgainReward:function(e,d){l.printLog("ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onAgainReward("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onAgainReward&&null!=this.developerCallback.onAgainReward&&this.developerCallback.onAgainReward(e,d)}},setAdExtraData:function(e,d){void 0===d&&(d={}),null!=i&&null!=i?i.setAdExtraData(e,JSON.stringify(d)):cc.log("You must run on Android or iOS.")},addPlacementIds:function(e){null!=i&&null!=i?i.addPlacementIds(JSON.stringify(e)):cc.log("You must run on Android or iOS.")},removePlacementId:function(e){null!=i&&null!=i?i.removePlacementId(JSON.stringify(e)):cc.log("You must run on Android or iOS.")},setAdListener:function(e){var d={};d[r]="ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdLoaded",d[A]="ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdFailed",d[t]="ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdPlayStart",d[u]="ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdPlayEnd",d[w]="ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdPlayFailed",d[R]="ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdClosed",d[c]="ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdPlayClicked",d[s]="ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onReward",d[V]="ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayStart",d[S]="ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayEnd",d[C]="ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayFailed",d[k]="ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayClicked",d[p]="ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onAgainReward",null!=i&&null!=i?(i.setAdListener(JSON.stringify(d)),i.set):cc.log("You must run on Android or iOS."),this.ATRewardedVideoListener.developerCallback=e},hasAdReady:function(e){return null!=i&&null!=i?i.hasAdReady(e):(cc.log("You must run on Android or iOS."),!1)},checkAdStatus:function(e){return null!=i&&null!=i?i.checkAdStatus(e):(cc.log("You must run on Android or iOS."),"")},showAd:function(e){null!=i&&null!=i?i.showAd(e):cc.log("You must run on Android or iOS.")},showAdInScenario:function(e,d){void 0===d&&(d=""),null!=i&&null!=i?i.showAdInScenario(e,d):cc.log("You must run on Android or iOS.")},entryAdScenario:function(e,d){void 0===d&&(d=""),null!=i&&null!=i?i.entryAdScenario(e,d):cc.log("You must run on Android or iOS.")}}),r="RewardedVideoAutoAdLoaded",A="RewardedVideoAutoAdLoadFail",t="RewardedVideoAutoAdPlayStart",u="RewardedVideoAutoAdPlayEnd",w="RewardedVideoAutoAdPlayFail",R="RewardedVideoAutoAdClose",c="RewardedVideoAutoAdClick",s="RewardedVideoAutoAdReward",V="RewardedVideoAutoAdAgainPlayStart",S="RewardedVideoAutoAdAgainPlayEnd",C="RewardedVideoAutoAdAgainPlayFail",k="RewardedVideoAutoAdAgainClick",p="RewardedVideoAutoAdAgainReward";window.ATRewardedVideoAutoAdSDK=n,d._RF.pop()}}}));

System.register("chunks:///_virtual/ATRewardedVideoTSSDK.ts",["cc","./ATAndroidRewardedVideoTS.ts","./ATiOSRewardedVideoTS.ts","./ATJSSDK.ts"],(function(e){var d,o,l,a;return{setters:[function(e){d=e.cclegacy},function(e){o=e.ATAndroidRewardedVideoJS},function(e){l=e.ATiOSRewardedVideoTS},function(e){a=e.ATJSSDK}],execute:function(){d._RF.push({},"874b8Cww3RDSo3ZFc7QgOPr","ATRewardedVideoTSSDK",void 0);var i=cc.sys.os===cc.sys.OS.IOS?l:cc.sys.os===cc.sys.OS.ANDROID?o:void 0,r=e("ATRewardedVideoSDK",{userIdKey:"userID",userDataKey:"media_ext",ATRewardedVideoListener:{developerCallback:null,onRewardedVideoAdLoaded:function(e){a.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdLoaded("+e+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdLoaded&&null!=this.developerCallback.onRewardedVideoAdLoaded&&this.developerCallback.onRewardedVideoAdLoaded(e)},onRewardedVideoAdFailed:function(e,d){a.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdFailed("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdFailed&&null!=this.developerCallback.onRewardedVideoAdFailed&&this.developerCallback.onRewardedVideoAdFailed(e,d)},onRewardedVideoAdPlayStart:function(e,d){a.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdPlayStart("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdPlayStart&&null!=this.developerCallback.onRewardedVideoAdPlayStart&&this.developerCallback.onRewardedVideoAdPlayStart(e,d)},onRewardedVideoAdPlayEnd:function(e,d){a.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdPlayEnd("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdPlayEnd&&null!=this.developerCallback.onRewardedVideoAdPlayEnd&&this.developerCallback.onRewardedVideoAdPlayEnd(e,d)},onRewardedVideoAdPlayFailed:function(e,d,o){a.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdPlayFailed("+e+", "+d+", "+o+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdPlayFailed&&null!=this.developerCallback.onRewardedVideoAdPlayFailed&&this.developerCallback.onRewardedVideoAdPlayFailed(e,d,o)},onRewardedVideoAdClosed:function(e,d){a.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdClosed("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdClosed&&null!=this.developerCallback.onRewardedVideoAdClosed&&this.developerCallback.onRewardedVideoAdClosed(e,d)},onRewardedVideoAdPlayClicked:function(e,d){a.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdPlayClicked("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdPlayClicked&&null!=this.developerCallback.onRewardedVideoAdPlayClicked&&this.developerCallback.onRewardedVideoAdPlayClicked(e,d)},onReward:function(e,d){a.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onReward("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onReward&&null!=this.developerCallback.onReward&&this.developerCallback.onReward(e,d)},onAdSourceBiddingAttempt:function(e,d){a.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onAdSourceBiddingAttempt("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onAdSourceBiddingAttempt&&null!=this.developerCallback.onAdSourceBiddingAttempt&&this.developerCallback.onAdSourceBiddingAttempt(e,d)},onAdSourceBiddingFilled:function(e,d){a.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onAdSourceBiddingFilled("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onAdSourceBiddingFilled&&null!=this.developerCallback.onAdSourceBiddingFilled&&this.developerCallback.onAdSourceBiddingFilled(e,d)},onAdSourceBiddingFail:function(e,d,o){a.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onAdSourceBiddingFail("+e+", "+d+", "+o+")"),null!=this.developerCallback&&null!=this.developerCallback.onAdSourceBiddingFail&&null!=this.developerCallback.onAdSourceBiddingFail&&this.developerCallback.onAdSourceBiddingFail(e,d,o)},onAdSourceAttemp:function(e,d){a.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onAdSourceAttemp("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onAdSourceAttemp&&null!=this.developerCallback.onAdSourceAttemp&&this.developerCallback.onAdSourceAttemp(e,d)},onAdSourceLoadFilled:function(e,d){a.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onAdSourceLoadFilled("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onAdSourceLoadFilled&&null!=this.developerCallback.onAdSourceLoadFilled&&this.developerCallback.onAdSourceLoadFilled(e,d)},onAdSourceLoadFail:function(e,d,o){a.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onAdSourceLoadFail("+e+", "+d+", "+o+")"),null!=this.developerCallback&&null!=this.developerCallback.onAdSourceLoadFail&&null!=this.developerCallback.onAdSourceLoadFail&&this.developerCallback.onAdSourceLoadFail(e,d,o)},onRewardedVideoAdAgainPlayStart:function(e,d){a.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayStart("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdAgainPlayStart&&null!=this.developerCallback.onRewardedVideoAdAgainPlayStart&&this.developerCallback.onRewardedVideoAdAgainPlayStart(e,d)},onRewardedVideoAdAgainPlayEnd:function(e,d){a.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayEnd("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdAgainPlayEnd&&null!=this.developerCallback.onRewardedVideoAdAgainPlayEnd&&this.developerCallback.onRewardedVideoAdAgainPlayEnd(e,d)},onRewardedVideoAdAgainPlayFailed:function(e,d,o){a.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayFailed("+e+", "+d+", "+o+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdAgainPlayFailed&&null!=this.developerCallback.onRewardedVideoAdAgainPlayFailed&&this.developerCallback.onRewardedVideoAdAgainPlayFailed(e,d,o)},onRewardedVideoAdAgainPlayClicked:function(e,d){a.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayClicked("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdAgainPlayClicked&&null!=this.developerCallback.onRewardedVideoAdAgainPlayClicked&&this.developerCallback.onRewardedVideoAdAgainPlayClicked(e,d)},onAgainReward:function(e,d){a.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onAgainReward("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onAgainReward&&null!=this.developerCallback.onAgainReward&&this.developerCallback.onAgainReward(e,d)}},loadRewardedVideo:function(e,d){void 0===d&&(d={}),null!=i&&null!=i?i.loadRewardedVideo(e,JSON.stringify(d)):cc.log("You must run on Android or iOS.")},setAdListener:function(e){var d={};d[n]="ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdLoaded",d[t]="ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdFailed",d[A]="ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdPlayStart",d[c]="ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdPlayEnd",d[w]="ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdPlayFailed",d[R]="ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdClosed",d[u]="ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdPlayClicked",d[V]="ATRewardedVideoSDK.ATRewardedVideoListener.onReward",d[s]="ATRewardedVideoSDK.ATRewardedVideoListener.onAdSourceBiddingAttempt",d[S]="ATRewardedVideoSDK.ATRewardedVideoListener.onAdSourceBiddingFilled",d[p]="ATRewardedVideoSDK.ATRewardedVideoListener.onAdSourceBiddingFail",d[C]="ATRewardedVideoSDK.ATRewardedVideoListener.onAdSourceAttemp",d[k]="ATRewardedVideoSDK.ATRewardedVideoListener.onAdSourceLoadFilled",d[T]="ATRewardedVideoSDK.ATRewardedVideoListener.onAdSourceLoadFail",d[g]="ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayStart",d[h]="ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayEnd",d[v]="ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayFailed",d[L]="ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayClicked",d[b]="ATRewardedVideoSDK.ATRewardedVideoListener.onAgainReward",null!=i&&null!=i?i.setAdListener(JSON.stringify(d)):cc.log("You must run on Android or iOS."),this.ATRewardedVideoListener.developerCallback=e},hasAdReady:function(e){return null!=i&&null!=i?i.hasAdReady(e):(cc.log("You must run on Android or iOS."),!1)},checkAdStatus:function(e){return null!=i&&null!=i?i.checkAdStatus(e):(cc.log("You must run on Android or iOS."),"")},showAd:function(e){null!=i&&null!=i?i.showAd(e):cc.log("You must run on Android or iOS.")},showAdInScenario:function(e,d){void 0===d&&(d=""),null!=i&&null!=i?i.showAdInScenario(e,d):cc.log("You must run on Android or iOS.")},entryAdScenario:function(e,d){void 0===d&&(d=""),null!=i&&null!=i?i.entryAdScenario(e,d):cc.log("You must run on Android or iOS.")},testMethod:function(){cc.log("testing You must run on Android or iOS.")}}),n="RewardedVideoLoaded",t="RewardedVideoLoadFail",A="RewardedVideoPlayStart",c="RewardedVideoPlayEnd",w="RewardedVideoPlayFail",R="RewardedVideoClose",u="RewardedVideoClick",V="RewardedVideoReward",s="RewardedVideoBiddingAttempt",S="RewardedVideoBiddingFilled",p="RewardedVideoBiddingFail",C="RewardedVideoAttemp",k="RewardedVideoLoadFilled",T="RewardedVideoLoadFail",g="RewardedVideoAgainPlayStart",h="RewardedVideoAgainPlayEnd",v="RewardedVideoAgainPlayFail",L="RewardedVideoAgainClick",b="RewardedVideoAgainReward";window.ATRewardedVideoSDK=r,d._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var e,t,o,n,u,r,a,l,c,s,p;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,o=i.initializerDefineProperty,n=i.assertThisInitialized},function(i){u=i.cclegacy,r=i._decorator,a=i.AudioClip,l=i.AudioSource,c=i.director,s=i.resources,p=i.Component}],execute:function(){var d,f,h,y,g,b,S,A,m,w,O,_,v,z,M,B,k,G,E,D,C,I,F,L,N,P,H,J,R,T,j;u._RF.push({},"19514W0VwlLPLUoZuQg8u0l","AudioManager",void 0);var x=r.ccclass,Q=r.property;i("AudioManager",(d=x("AudioManager"),f=Q({type:a}),h=Q({type:a}),y=Q({type:a}),g=Q({type:a}),b=Q({type:a}),S=Q({type:a}),A=Q({type:a}),m=Q({type:a}),w=Q({type:a}),O=Q({type:a}),_=Q({type:a}),v=Q({type:a}),z=Q({type:a}),M=Q({type:a}),d((G=e((k=function(i){function e(){for(var e,t=arguments.length,u=new Array(t),r=0;r<t;r++)u[r]=arguments[r];return e=i.call.apply(i,[this].concat(u))||this,o(e,"eatAudio",G,n(e)),o(e,"stampAudio",E,n(e)),o(e,"buttonAudio",D,n(e)),o(e,"hintAudio",C,n(e)),o(e,"bounceAudio",I,n(e)),o(e,"cancelAudio",F,n(e)),o(e,"passHundredAudio",L,n(e)),o(e,"transportAudio",N,n(e)),o(e,"countDownAudio",P,n(e)),o(e,"achieveAudio",H,n(e)),o(e,"typingAudio",J,n(e)),o(e,"correctAudio",R,n(e)),o(e,"wrongAudio",T,n(e)),o(e,"countDownForTimeModeAudio",j,n(e)),e._audioSource=null,e.isBGMOn=!0,e.isSoundEffectOn=!0,e}t(e,i);var u=e.prototype;return u.start=function(){this._audioSource=this.node.getComponent(l),c.addPersistRootNode(this.node),this.getSettings()},u.getSettings=function(){if(localStorage.getItem("snake-settings")){var i=JSON.parse(localStorage.getItem("snake-settings"));this.isBGMOn=i.bgm,this.isSoundEffectOn=i.soundEffect,this.isBGMOn||(this._audioSource.stop(),this._audioSource.playOnAwake=!1)}},u.replayBgAudio=function(){this.isBGMOn&&this._audioSource.play()},u.playOneShot=function(i,e){var t=this;void 0===e&&(e=1),this.isSoundEffectOn&&(i instanceof a?this._audioSource.playOneShot(i,e):s.load(i,(function(i,o){i?console.log(i):t._audioSource.playOneShot(o,e)})))},u.play=function(i,e){var t=this;void 0===e&&(e=.8),i instanceof a?(this._audioSource.stop(),this._audioSource.clip=i,this._audioSource.play(),this._audioSource.volume=e):s.load(i,(function(i,o){i?console.log(i):(t._audioSource.stop(),t._audioSource.clip=o,t._audioSource.play(),t._audioSource.volume=e)}))},u.stop=function(){this._audioSource.stop()},u.pause=function(){this._audioSource.pause()},u.resume=function(){this.isBGMOn&&this._audioSource.play()},u.switchBGM=function(i){i.isChecked?(this.isBGMOn=!0,this.resume(),this._audioSource.playOnAwake=!0):(this.isBGMOn=!1,this.pause(),this._audioSource.playOnAwake=!1),this.playOneShot(this.buttonAudio),this.updateAudioSettings()},u.switchSoundEffect=function(i){this.isSoundEffectOn=i.isChecked,this.playOneShot(this.buttonAudio),this.updateAudioSettings()},u.updateAudioSettings=function(){var i=JSON.parse(localStorage.getItem("snake-settings"));i.bgm=this.isBGMOn,i.soundEffect=this.isSoundEffectOn,localStorage.setItem("snake-settings",JSON.stringify(i))},e}(p)).prototype,"eatAudio",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(k.prototype,"stampAudio",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(k.prototype,"buttonAudio",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(k.prototype,"hintAudio",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(k.prototype,"bounceAudio",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(k.prototype,"cancelAudio",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(k.prototype,"passHundredAudio",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(k.prototype,"transportAudio",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(k.prototype,"countDownAudio",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(k.prototype,"achieveAudio",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(k.prototype,"typingAudio",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(k.prototype,"correctAudio",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(k.prototype,"wrongAudio",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(k.prototype,"countDownForTimeModeAudio",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=k))||B));u._RF.pop()}}}));

System.register("chunks:///_virtual/BackgroundSlide.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,s,n,a,r,o,h,d,g,l,c,p,f,v;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,s=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,o=t.Prefab,h=t.UITransform,d=t.Vec3,g=t.instantiate,l=t.Size,c=t.Layout,p=t.Sprite,f=t.Color,v=t.Component}],execute:function(){var b,u,y,A,P,w,m;a._RF.push({},"e9ff1oUwvlJUa8rqYBD7qCm","BackgroundSlide",void 0);var S=r.ccclass,B=r.property;t("BackgroundSlide",(b=S("BackgroundSlide"),u=B({type:o}),y=B({type:o}),b((w=i((P=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return i=t.call.apply(t,[this].concat(a))||this,s(i,"bgPrefab",w,n(i)),s(i,"patternPrefab",m,n(i)),i.patternNumInOneRow=3,i.patternNumInOneCol=5,i.patternWidth=120,i.slideSpeed=1,i.slideDir="上",i.canvasWidth=0,i.canvasHeight=0,i.bgArray=[],i.bgOriginalPosArray=[],i.bgColorHexArray=["FDF3E9","D2E1F8","BAD5F0","F5E7DC","E8F2D7","DBEEDB","E7DDD4","E3E8E2","CDE6C7","F6F5EC"],i.patternColorHexArray=["BEBEBE"],i}e(i,t);var a=i.prototype;return a.start=function(){this.getCanvasSizeAndBgPos(),this.spawnNineBackgrounds(),this.spawnPatterns(),this.setBgColorRandomly(),this.setPatternColorRandomly(),this.setSlideDirRandomly()},a.getCanvasSizeAndBgPos=function(){this.canvasWidth=this.node.getComponent(h).width,this.canvasHeight=this.node.getComponent(h).height,this.bgOriginalPosArray=[new d(-this.canvasWidth,this.canvasHeight,0),new d(0,this.canvasHeight,0),new d(this.canvasWidth,this.canvasHeight,0),new d(-this.canvasWidth,0,0),new d(0,0,0),new d(this.canvasWidth,0,0),new d(-this.canvasWidth,-this.canvasHeight,0),new d(0,-this.canvasHeight,0),new d(this.canvasWidth,-this.canvasHeight,0)]},a.spawnNineBackgrounds=function(){for(var t=0;t<this.bgOriginalPosArray.length;t++){var i=g(this.bgPrefab);i.setPosition(this.bgOriginalPosArray[t]),i.getComponent(h).setContentSize(new l(this.canvasWidth,this.canvasHeight)),this.node.addChild(i),this.bgArray.push(i)}},a.spawnPatterns=function(){for(var t=0;t<this.bgArray.length;t++){var i=this.bgArray[t],e=i.getComponent(c);e.spacingX=(3*this.canvasWidth-e.cellSize.width*this.patternNumInOneRow*3)/(3*this.patternNumInOneRow+1),e.spacingY=(3*this.canvasHeight-e.cellSize.width*this.patternNumInOneCol*3)/(3*this.patternNumInOneCol+1),e.paddingLeft=e.spacingX/2,e.paddingRight=e.spacingX/2,e.spacingX=e.spacingX+e.spacingX/16,e.paddingTop=e.spacingY/2,e.paddingBottom=e.spacingY/2,e.spacingY=e.spacingY+e.spacingY/16;for(var s=0;s<this.patternNumInOneCol;s++)for(var n=0;n<this.patternNumInOneRow;n++){var a=g(this.patternPrefab);i.addChild(a)}}},a.slide=function(t){switch(t){case"上":this.slideUp();break;case"下":this.slideDown();break;case"左":this.slideLeft();break;case"右":this.slideRight();break;case"左上":this.slideTopLeft();break;case"右上":this.slideTopRight();break;case"左下":this.slideBottomLeft();break;case"右下":this.slideBottomRight();break;default:this.slideUp()}},a.setSlideDir=function(t){this.slideDir=t},a.setSlideDirRandomly=function(){var t=["上","下","左","右","左上","右上","左下","右下"];this.slideDir=t[Math.floor(Math.random()*t.length)]},a.slideUp=function(){for(var t=0;t<this.bgArray.length;t++){var i=this.bgArray[t];if(i.setPosition(new d(i.position).add3f(0,this.slideSpeed,0)),4==t&&i.position.y>=this.canvasHeight){this.resetBgPos();break}}},a.slideDown=function(){for(var t=0;t<this.bgArray.length;t++){var i=this.bgArray[t];if(i.setPosition(new d(i.position).subtract3f(0,this.slideSpeed,0)),4==t&&i.position.y<=-this.canvasHeight){this.resetBgPos();break}}},a.slideLeft=function(){for(var t=0;t<this.bgArray.length;t++){var i=this.bgArray[t];if(i.setPosition(new d(i.position).subtract3f(this.slideSpeed,0,0)),4==t&&i.position.x<=-this.canvasWidth){this.resetBgPos();break}}},a.slideRight=function(){for(var t=0;t<this.bgArray.length;t++){var i=this.bgArray[t];if(i.setPosition(new d(i.position).add3f(this.slideSpeed,0,0)),4==t&&i.position.x>=this.canvasWidth){this.resetBgPos();break}}},a.slideTopLeft=function(){for(var t=0;t<this.bgArray.length;t++){var i=this.bgArray[t],e=this.canvasHeight/this.canvasWidth;if(i.setPosition(new d(i.position).add3f(-this.slideSpeed,this.slideSpeed*e,0)),4==t&&i.position.x<=-this.canvasWidth){this.resetBgPos();break}}},a.slideTopRight=function(){for(var t=0;t<this.bgArray.length;t++){var i=this.bgArray[t],e=this.canvasHeight/this.canvasWidth;if(i.setPosition(new d(i.position).add3f(this.slideSpeed,this.slideSpeed*e,0)),4==t&&i.position.x>=this.canvasWidth){this.resetBgPos();break}}},a.slideBottomLeft=function(){for(var t=0;t<this.bgArray.length;t++){var i=this.bgArray[t],e=this.canvasHeight/this.canvasWidth;if(i.setPosition(new d(i.position).add3f(-this.slideSpeed,-this.slideSpeed*e,0)),4==t&&i.position.x<=-this.canvasWidth){this.resetBgPos();break}}},a.slideBottomRight=function(){for(var t=0;t<this.bgArray.length;t++){var i=this.bgArray[t],e=this.canvasHeight/this.canvasWidth;if(i.setPosition(new d(i.position).add3f(this.slideSpeed,-this.slideSpeed*e,0)),4==t&&i.position.x>=this.canvasWidth){this.resetBgPos();break}}},a.resetBgPos=function(){for(var t=0;t<this.bgOriginalPosArray.length;t++)this.bgArray[t].setPosition(this.bgOriginalPosArray[t])},a.setBgColorRandomly=function(){for(var t=Math.floor(Math.random()*this.bgColorHexArray.length),i=0;i<this.bgArray.length;i++)this.bgArray[i].getComponent(p).color=(new f).fromHEX(this.bgColorHexArray[t])},a.setPatternColorRandomly=function(){for(var t=Math.floor(Math.random()*this.patternColorHexArray.length),i=0;i<this.bgArray.length;i++)for(var e=0;e<this.bgArray[i].children.length;e++)this.bgArray[i].children[e].getComponent(p).color=(new f).fromHEX(this.patternColorHexArray[t])},a.getSlideSpeed=function(){return this.slideSpeed},a.setSlideSpeed=function(t){this.slideSpeed=t},a.update=function(t){this.slide(this.slideDir)},i}(v)).prototype,"bgPrefab",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=i(P.prototype,"patternPrefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=P))||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageData.ts","./GameManager.ts","./AudioManager.ts","./Snake.ts","./AdManager.ts"],(function(e){var a,t,n,i,o,r,s,g,h,u,d,l,c,m,M,f,p,v,y,S,A,C,B;return{setters:[function(e){a=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,s=e.Node,g=e.Prefab,h=e.find,u=e.director,d=e.instantiate,l=e.Label,c=e.tween,m=e.Vec3,M=e.sys,f=e.Component},function(e){p=e._language,v=e.init,y=e.updateSceneRenderers},function(e){S=e.GameManager},function(e){A=e.AudioManager},function(e){C=e.Snake},function(e){B=e.AdManager}],execute:function(){var w,b,I,L,O,E,H,P,x,R,k;o._RF.push({},"1532ahF201JrrytRdGofOH1","ButtonManager",void 0);var D=r.ccclass,N=r.property;e("ButtonManager",(w=D("ButtonManager"),b=N({type:s}),I=N({type:s}),L=N({type:s}),O=N({type:g}),w((P=a((H=function(e){function a(){for(var a,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return a=e.call.apply(e,[this].concat(o))||this,n(a,"goHomeBoard",P,i(a)),n(a,"adChoiceBoard",x,i(a)),n(a,"resetChoiceBoard",R,i(a)),n(a,"hintNumInfo",k,i(a)),a.isHinting=!1,a.gameManager=null,a.audioManager=null,a.adManager=null,a}t(a,e);var o=a.prototype;return o.start=function(){this.initComponents()},o.initComponents=function(){this.gameManager=this.node.getComponent(S),this.audioManager=h("Audio Manager").getComponent(A),this.adManager=h("Ad Manager").getComponent(B)},o.changeLang=function(){v("en"===p?"zh":"en"),y()},o.goHome=function(){this.audioManager.playOneShot(this.audioManager.buttonAudio),u.loadScene("Home")},o.replay=function(){if(this.audioManager.playOneShot(this.audioManager.buttonAudio),"level"==this.gameManager.gameMode)if(this.gameManager.isLevelLost){var e=this.gameManager.level;this.gameManager.showLevel(e),this.gameManager.hideLostPage()}else this.gameManager.isLevelSolved&&(this.gameManager.level-=1,this.gameManager.showLevel(this.gameManager.level),this.gameManager.hideWinPage(),this.gameManager.hideMessage());else localStorage.setItem("snake-eat-mode","time"),u.loadScene("Game")},o.goToNextLevel=function(){this.audioManager.playOneShot(this.audioManager.buttonAudio);var e=this.gameManager.level;e>this.gameManager.maxLevel?this.gameManager.showMessage("finish",1.5):(this.gameManager.showLevel(e),this.gameManager.hideWinPage())},o.showHint=function(){var e=this;if(this.isHinting)return this.audioManager.playOneShot(this.audioManager.buttonAudio),void this.gameManager.showMessage("点的太快啦",1,"msg");var a=[];if(this.gameManager.levelScene.children.forEach((function(e){e.name.toLocaleLowerCase().indexOf("sna")>-1&&a.push(e)})),a.forEach((function(e){e.getComponent(C).xSpeed>0||e.getComponent(C).ySpeed})),this.audioManager.playOneShot(this.audioManager.buttonAudio),localStorage.getItem("snake-hint")||localStorage.setItem("snake-hint","3"),parseInt(localStorage.getItem("snake-hint"))<=0)this.adChoiceBoard.active=!0;else{var t=this.gameManager.levelData.solution.split("-");if(!(this.gameManager.hintStepIndex>=t.length)){if(0==this.gameManager.hintStepIndex&&this.gameManager.levelScene.getChildByName("body"))return this.gameManager.showLevel(this.gameManager.level),void this.scheduleOnce((function(){e.showHint()}),.5);"U"==t[this.gameManager.hintStepIndex]?a.forEach((function(e){e.getComponent(C).moveUp()})):"D"==t[this.gameManager.hintStepIndex]?a.forEach((function(e){e.getComponent(C).moveDown()})):"L"==t[this.gameManager.hintStepIndex]?a.forEach((function(e){e.getComponent(C).moveLeft()})):a.forEach((function(e){e.getComponent(C).moveRight()})),this.isHinting=!0,this.gameManager.hintStepIndex+=1;var n=parseInt(localStorage.getItem("snake-hint"))-1;localStorage.setItem("snake-hint",n.toString());var i=d(this.hintNumInfo);i.setPosition(h("Canvas/UI/Button Layout1").position),h("Canvas/UI").addChild(i),i.children[1].getComponent(l).string=n+"/3",c(i).by(.6,{position:new m(0,150,0)},{easing:"sineOut"}).call((function(){i.removeFromParent(),e.isHinting=!1})).start()}}},o.hideAdChoiceBoard=function(){this.audioManager.playOneShot(this.audioManager.cancelAudio),this.adChoiceBoard.active=!1},o.showGoHomeBoard=function(){this.audioManager.playOneShot(this.audioManager.buttonAudio),this.goHomeBoard.active=!0},o.hideGoHomeBoard=function(){this.audioManager.playOneShot(this.audioManager.cancelAudio),this.goHomeBoard.active=!1},o.showResetChoiceBoard=function(){this.audioManager.playOneShot(this.audioManager.buttonAudio),this.resetChoiceBoard.active=!0},o.hideResetChoiceBoard=function(){this.audioManager.playOneShot(this.audioManager.cancelAudio),this.resetChoiceBoard.active=!1},o.resetLevel=function(){this.audioManager.playOneShot(this.audioManager.buttonAudio);var e=this.gameManager.level;this.gameManager.showLevel(e),this.resetChoiceBoard.active=!1},o.playAd=function(){var e=this;this.audioManager.playOneShot(this.audioManager.buttonAudio),this.adManager.gameBoxAd?this.adManager.showGameBoxVideoAd():M.platform==M.Platform.WECHAT_GAME?this.adManager.showWxVideoAd((function(){e.gameManager.showMessage("adPlayError",1)})):M.platform==M.Platform.BYTEDANCE_MINI_GAME?this.adManager.showTtVideoAd((function(){e.gameManager.showMessage("adPlayError",1)})):M.platform==M.Platform.ANDROID?(this.adManager.loadTakuVideoAd(),setTimeout((function(){e.adManager.showTakuVideoAd()}),2e3)):M.platform==M.Platform.MOBILE_BROWSER||M.platform==M.Platform.DESKTOP_BROWSER?this.adManager.play4399Ad():this.gameManager.showMessage("adNotReady",1),this.adChoiceBoard.active=!1},o.update=function(e){},a}(f)).prototype,"goHomeBoard",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=a(H.prototype,"adChoiceBoard",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=a(H.prototype,"resetChoiceBoard",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=a(H.prototype,"hintNumInfo",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=H))||E));o._RF.pop()}}}));

System.register("chunks:///_virtual/DouyinSidebar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Home.ts","./AudioManager.ts"],(function(e){var t,o,i,a,n,r,s,c,u,g,l,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){n=e.cclegacy,r=e._decorator,s=e.Node,c=e.sys,u=e.find,g=e.Component},function(e){l=e.Home},function(e){d=e.AudioManager}],execute:function(){var v,h,f,p,m,b,S,y,B;n._RF.push({},"821d7vflM1MTL5zp3LRHGq3","DouyinSidebar",void 0);var M=r.ccclass,C=r.property,w=window.tt;e("DouyinSidebar",(v=M("DouyinSidebar"),h=C({type:s}),f=C({type:s}),p=C({type:s}),v((S=t((b=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,i(t,"navigationBoard",S,a(t)),i(t,"goToSidebarButton",y,a(t)),i(t,"getPrizeButton",B,a(t)),t.isFromSidebar=!1,t.audioManager=null,t}o(t,e);var n=t.prototype;return n.start=function(){this.initComponents(),this.checkIsSupportSidebar(),this.checkIsEnterFromSidebar()},n.checkIsSupportSidebar=function(){if(c.platform==c.Platform.BYTEDANCE_MINI_GAME&&w){var e=this;w.checkScene({scene:"sidebar",success:function(t){t.isExist||(e.node.active=!1)},fail:function(t){e.node.active=!1}})}else this.node.active=!1},n.checkIsEnterFromSidebar=function(){if(w){var e=this;w.onShow((function(t){if(e.isFromSidebar="homepage"==t.launch_from&&"sidebar_card"==t.location,e.isFromSidebar)try{e.navigationBoard.active=!0,e.getPrizeButton.active=!0,e.goToSidebarButton.active=!1}catch(e){console.log(e)}else try{e.navigationBoard.active=!0,e.getPrizeButton.active=!1,e.goToSidebarButton.active=!0}catch(e){console.log(e)}}))}},n.initComponents=function(){this.audioManager=u("Audio Manager").getComponent(d)},n.showHideNavigationBoard=function(){this.audioManager.playOneShot(this.audioManager.buttonAudio),this.navigationBoard.active?this.navigationBoard.active=!1:this.navigationBoard.active=!0},n.goToSidebar=function(){if(this.audioManager.playOneShot(this.audioManager.buttonAudio),w){this.navigationBoard.active=!1;var e=this;w.navigateToScene({scene:"sidebar",success:function(t){console.log("navigate to scene success"),e.navigationBoard.active=!1},fail:function(t){console.log("navigate to scene fail: ",t),e.navigationBoard.active=!0,u("Canvas").getComponent(l).showMessage("侧边栏进入失败，请重试",2,"msg")}})}else u("Canvas").getComponent(l).showMessage("侧边栏进入失败，请重试",2,"msg")},n.getPrize=function(){this.audioManager.playOneShot(this.audioManager.buttonAudio),localStorage.getItem("snake-life-count")||localStorage.setItem("snake-life-count","20");var e=parseInt(localStorage.getItem("snake-life-count"));e>=20?u("Canvas").getComponent(l).showMessage("已有20点挑战值",2,"msg"):e>=15?(localStorage.setItem("snake-life-count","20"),u("Canvas").getComponent(l).showMessage("挑战值已恢复",1,"msg")):(localStorage.setItem("snake-life-count",(e+5).toString()),u("Canvas").getComponent(l).showMessage("已恢复5点挑战值",1,"msg")),this.getPrizeButton.active=!1,this.goToSidebarButton.active=!0,this.navigationBoard.active=!1},n.update=function(e){},t}(g)).prototype,"navigationBoard",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(b.prototype,"goToSidebarButton",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(b.prototype,"getPrizeButton",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=b))||m));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelScene.ts","./Snake.ts","./TweenToolbox.ts","./AudioManager.ts","./Shake.ts","./LanguageData.ts","./LocalizedLabel.ts","./UserGuide.ts","./AdManager.ts","./Achievements.ts","./ButtonManager.ts","./BackgroundSlide.ts"],(function(e){var t,o,n,i,a,s,r,l,h,u,g,d,c,m,p,v,f,C,S,y,b,w,L,M,B,T,I,N,x,D,k,P,A,O;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,r=e.Node,l=e.Prefab,h=e.find,u=e.Label,g=e.Color,d=e.Vec3,c=e.UITransform,m=e.sys,p=e.Widget,v=e.resources,f=e.SpriteFrame,C=e.Sprite,S=e.instantiate,y=e.tween,b=e.Button,w=e.Component},function(e){L=e.LevelScene},function(e){M=e.Snake},function(e){B=e.TweenToolbox},function(e){T=e.AudioManager},function(e){I=e.Shake},function(e){N=e.updateSceneRenderers},function(e){x=e.LocalizedLabel},function(e){D=e.UserGuide},function(e){k=e.AdManager},function(e){P=e.Achievements},function(e){A=e.ButtonManager},function(e){O=e.BackgroundSlide}],execute:function(){var H,E,U,F,G,R,X,z,W,_,K,j,J,V,Y,Z,q,Q,$,ee,te,oe,ne,ie,ae,se,re,le,he,ue,ge,de,ce;a._RF.push({},"5597e/U9HxGP5C56CawO2YA","GameManager",void 0);var me=s.ccclass,pe=s.property;e("GameManager",(H=me("GameManager"),E=pe({type:r}),U=pe({type:l}),F=pe({type:r}),G=pe({type:r}),R=pe({type:r}),X=pe({type:r}),z=pe({type:r}),W=pe({type:r}),_=pe({type:r}),K=pe({type:r}),j=pe({type:r}),J=pe({type:r}),V=pe({type:r}),Y=pe({type:r}),Z=pe({type:r}),H(($=t((Q=function(e){function t(){for(var t,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,n(t,"levelScene",$,i(t)),n(t,"addInfoPrefab",ee,i(t)),n(t,"levelNum",te,i(t)),n(t,"playerCreation",oe,i(t)),n(t,"buttonLayout1",ne,i(t)),n(t,"buttonLayout2",ie,i(t)),n(t,"messageBoard",ae,i(t)),n(t,"goHomeBoard",se,i(t)),n(t,"adChoiceBoard",re,i(t)),n(t,"resetChoiceBoard",le,i(t)),n(t,"ribbonParticle",he,i(t)),n(t,"achievementNotice",ue,i(t)),n(t,"countDownNode",ge,i(t)),n(t,"addTimeNode",de,i(t)),n(t,"passedNumNode",ce,i(t)),t.gameMode="",t.passedLevelArray=[],t.countDownSeconds=180,t.isInAdPage=!1,t.level=1,t.maxLevel=315,t.theme="green",t.levelData=null,t.hintStepIndex=0,t.triggerDis=90,t.touchStartPos=null,t.isLevelSolved=!1,t.isLevelLost=!1,t.isLevelSceneOK=!1,t.achievementWaitToShowTime=0,t.audioManager=null,t.adManager=null,t}o(t,e);var a=t.prototype;return a.start=function(){this.initComponents(),this.initTouchEvents(),this.gameMode=localStorage.getItem("snake-eat-mode"),"level"==this.gameMode?(this.getLevelFromLocalStorage(),this.showLevel(this.level),this.checkUserGuide()):(localStorage.getItem("snake-eat-first-time-mode")?(this.level=this.getRandomLevel(),this.showLevel(this.level)):(this.showLevel(1),this.checkUserGuide(),localStorage.setItem("snake-eat-first-time-mode","1")),h("Canvas/UI/Level Layout").active=!1,h("Canvas/UI/Count Down").active=!0,this.startCountDown()),this.changeZIndex(),this.checkSettings()},a.getRandomLevel=function(){for(;;){var e=Math.floor(Math.random()*this.maxLevel)+1;if(-1==this.passedLevelArray.indexOf(e))return e}},a.startCountDown=function(){var e=this;this.countDownNode.getComponent(u).color=g.BLACK,this.countDownNode.getComponent(u).string=this.countDownSeconds.toString();this.schedule((function t(){e.isInAdPage||(e.countDownSeconds-=1,e.countDownNode.getComponent(u).string=e.countDownSeconds.toString(),e.countDownSeconds<=5&&(e.countDownNode.getComponent(u).color=g.RED,e.audioManager.playOneShot(e.audioManager.countDownForTimeModeAudio,5)),e.countDownSeconds<=0&&(e.unschedule(t),e.executeWhenTimeOver()))}),1)},a.executeWhenTimeOver=function(){this.isLevelLost=!0,this.audioManager.playOneShot(this.audioManager.stampAudio),h("Canvas/UI/Lost").angle=60*Math.random()-30,h("Canvas/UI/Lost").active=!0,this.buttonLayout1.active=!1,this.buttonLayout2.active=!0,this.buttonLayout2.children[2].active=!1,this.adChoiceBoard.active=!1,this.resetChoiceBoard.active=!1,B.getInstace().showStampTween(h("Canvas/UI/Lost"))},a.initComponents=function(){this.audioManager=h("Audio Manager").getComponent(T),this.adManager=h("Ad Manager").getComponent(k),this.adManager.gameManager=this},a.checkUserGuide=function(){var e=this;localStorage.getItem("snake-user-guide")||this.scheduleOnce((function(){var t=h("Canvas").getComponent(D);t.setMaskColor(new g(0,0,0,0)),t.setGuideMandatory(!1),t.hideGuideText(),t.setGuideSignPos(new d(-e.levelScene.getComponent(c).width/4,-e.levelScene.getComponent(c).height/4,0)),t.slideGuideSign(new d(e.levelScene.getComponent(c).width/2,0,0),1),e.messageBoard.setPosition(new d(e.messageBoard.position).subtract3f(0,e.levelScene.getComponent(c).height/1.5,0)),e.showMessage("guide",-1),t.showGuide(1,!1,(function(){localStorage.setItem("snake-user-guide","1"),e.messageBoard.setPosition(0,0,0),e.hideMessage()}))}),.5)},a.checkSettings=function(){var e=JSON.parse(localStorage.getItem("snake-settings"));e.bgSlide||null==e.bgSlide?(this.node.getComponent(O).resetBgPos(),this.node.getComponent(O).setSlideSpeed(1)):(this.node.getComponent(O).resetBgPos(),this.node.getComponent(O).setSlideSpeed(0))},a.changeZIndex=function(){this.levelScene.setSiblingIndex(5e3),h("Canvas/UI").setSiblingIndex(6e3)},a.changeNodePositionForDouyinBanner=function(){if(m.platform==m.Platform.BYTEDANCE_MINI_GAME){var e=this.node.getComponent(c).height;this.buttonLayout2.getComponent(p).bottom=e/4,this.buttonLayout2.getComponent(p).updateAlignment()}},a.initTouchEvents=function(){this.node.on(r.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(r.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(r.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(r.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},a.onTouchStart=function(e){this.isLevelSceneOK&&(this.touchStartPos=e.getUILocation(),this.isInAdPage=!1)},a.onTouchMove=function(e){var t=this;if(this.touchStartPos&&!this.isLevelLost&&this.isLevelSceneOK){var o=e.getUILocation(),n=o.x-this.touchStartPos.x,i=o.y-this.touchStartPos.y,a=[];this.levelScene.children.forEach((function(e){e.name.toLocaleLowerCase().indexOf("sna")>-1&&a.push(e)})),a.forEach((function(e){if(!e.getComponent(M).isSnakeMoved)if("purple"==t.theme){if(n>=t.triggerDis&&"L"!=e.getComponent(M).previousDir){if(e.getComponent(M).previousDir="L",t.touchStartPos=o,t.getSurroundingTiles(e.name).left)return I.getInstace().shake(t.levelScene,.5,-7,1,"x"),void t.audioManager.playOneShot(t.audioManager.bounceAudio);t.hintStepIndex=0,e.getComponent(M).moveLeft(),e.getComponent(M).isSnakeMoved=!0}else if(n<=-t.triggerDis&&"R"!=e.getComponent(M).previousDir){if(e.getComponent(M).previousDir="R",t.touchStartPos=o,t.getSurroundingTiles(e.name).right)return I.getInstace().shake(t.levelScene,.5,5,1,"x"),void t.audioManager.playOneShot(t.audioManager.bounceAudio);t.hintStepIndex=0,e.getComponent(M).moveRight(),e.getComponent(M).isSnakeMoved=!0}else if(i>=t.triggerDis&&"D"!=e.getComponent(M).previousDir){if(e.getComponent(M).previousDir="D",t.touchStartPos=o,t.getSurroundingTiles(e.name).bottom)return I.getInstace().shake(t.levelScene,.5,-7,1,"y"),void t.audioManager.playOneShot(t.audioManager.bounceAudio);t.hintStepIndex=0,e.getComponent(M).moveDown(),e.getComponent(M).isSnakeMoved=!0}else if(i<=-t.triggerDis&&"U"!=e.getComponent(M).previousDir){if(e.getComponent(M).previousDir="U",t.touchStartPos=o,t.getSurroundingTiles(e.name).top)return I.getInstace().shake(t.levelScene,.5,5,1,"y"),void t.audioManager.playOneShot(t.audioManager.bounceAudio);t.hintStepIndex=0,e.getComponent(M).moveUp(),e.getComponent(M).isSnakeMoved=!0}}else if(n>=t.triggerDis&&"R"!=e.getComponent(M).previousDir){if(e.getComponent(M).previousDir="R",t.touchStartPos=o,t.getSurroundingTiles(e.name).right)return I.getInstace().shake(t.levelScene,.5,5,1,"x"),void t.audioManager.playOneShot(t.audioManager.bounceAudio);t.hintStepIndex=0,e.getComponent(M).moveRight(),e.getComponent(M).isSnakeMoved=!0}else if(n<=-t.triggerDis&&"L"!=e.getComponent(M).previousDir){if(e.getComponent(M).previousDir="L",t.touchStartPos=o,t.getSurroundingTiles(e.name).left)return I.getInstace().shake(t.levelScene,.5,-7,1,"x"),void t.audioManager.playOneShot(t.audioManager.bounceAudio);t.hintStepIndex=0,e.getComponent(M).moveLeft(),e.getComponent(M).isSnakeMoved=!0}else if(i>=t.triggerDis&&"U"!=e.getComponent(M).previousDir){if(e.getComponent(M).previousDir="U",t.touchStartPos=o,t.getSurroundingTiles(e.name).top)return I.getInstace().shake(t.levelScene,.5,5,1,"y"),void t.audioManager.playOneShot(t.audioManager.bounceAudio);t.hintStepIndex=0,e.getComponent(M).moveUp(),e.getComponent(M).isSnakeMoved=!0}else if(i<=-t.triggerDis&&"D"!=e.getComponent(M).previousDir){if(e.getComponent(M).previousDir="D",t.touchStartPos=o,t.getSurroundingTiles(e.name).bottom)return I.getInstace().shake(t.levelScene,.5,-7,1,"y"),void t.audioManager.playOneShot(t.audioManager.bounceAudio);t.hintStepIndex=0,e.getComponent(M).moveDown(),e.getComponent(M).isSnakeMoved=!0}}))}},a.onTouchEnd=function(){this.touchStartPos=null,this.levelScene.children.forEach((function(e){e.name.toLocaleLowerCase().indexOf("sna")>-1&&(e.getComponent(M).previousDir=null)}))},a.onTouchCancel=function(){this.touchStartPos=null,this.levelScene.children.forEach((function(e){e.name.toLocaleLowerCase().indexOf("sna")>-1&&(e.getComponent(M).previousDir=null)}))},a.getLevelFromLocalStorage=function(){localStorage.getItem("snake-current-level")&&(this.level=parseInt(localStorage.getItem("snake-current-level")),this.level>this.maxLevel&&(this.level=this.maxLevel))},a.saveLevelToLocalStorage=function(){localStorage.setItem("snake-current-level",this.level.toString())},a.updateHistoryLevelToLocalStorage=function(){var e=1;localStorage.getItem("snake-history-level")&&(e=parseInt(localStorage.getItem("snake-history-level"))),this.level>e&&localStorage.setItem("snake-history-level",this.level.toString())},a.showLevel=function(e){var t=this;this.hintStepIndex=0,this.isLevelSceneOK=!1,this.levelNum.getComponent(u).string=e.toString(),e>=1&&e<=100?this.theme="green":this.level>100&&this.level<=200?this.theme="blue":this.level>200&&this.level<=300?this.theme="orange":this.level>300&&this.level<=400&&(this.theme="purple"),this.setNodeThemeSpriteFrame(),"level"==this.gameMode&&(101==this.level?this.showMessage("portGuide",1.5):201==this.level?this.showMessage("滑动时会控制两只蛇蛇",1.5,"msg"):301==this.level&&this.showMessage("蛇蛇会向反方向移动",1.5,"msg")),v.load("level/"+e,(function(e,o){t.levelData=o.json,t.showOrHidePlayerCreationLabel(t.levelData),t.levelScene.getComponent(L).initLevelScene(o.json,t.theme),t.levelScene.getComponent(p).updateAlignment()}))},a.setNodeThemeSpriteFrame=function(){var e=this;v.load("node/"+this.theme+"/home/spriteFrame",f,(function(t,o){e.buttonLayout1.getChildByName("Home Button").getComponent(C).spriteFrame=o})),v.load("node/"+this.theme+"/reset/spriteFrame",f,(function(t,o){e.buttonLayout1.getChildByName("Reset Button").getComponent(C).spriteFrame=o})),v.load("node/"+this.theme+"/msgBoard/spriteFrame",f,(function(t,o){e.goHomeBoard.getComponent(C).spriteFrame=o,e.messageBoard.getComponent(C).spriteFrame=o,e.adChoiceBoard.getComponent(C).spriteFrame=o,e.resetChoiceBoard.getComponent(C).spriteFrame=o})),"green"==this.theme?(this.buttonLayout2.getChildByName("Next Level Button").getComponent(C).color=(new g).fromHEX("42ff42"),this.goHomeBoard.getChildByName("Go Home Button").getComponent(C).color=(new g).fromHEX("42ff42"),this.adChoiceBoard.getChildByName("Play Ad Button").getComponent(C).color=(new g).fromHEX("42ff42"),this.resetChoiceBoard.getChildByName("Reset Button").getComponent(C).color=(new g).fromHEX("42ff42")):"blue"==this.theme?(this.buttonLayout2.getChildByName("Next Level Button").getComponent(C).color=(new g).fromHEX("68a8ff"),this.goHomeBoard.getChildByName("Go Home Button").getComponent(C).color=(new g).fromHEX("68a8ff"),this.adChoiceBoard.getChildByName("Play Ad Button").getComponent(C).color=(new g).fromHEX("68a8ff"),this.resetChoiceBoard.getChildByName("Reset Button").getComponent(C).color=(new g).fromHEX("68a8ff")):"orange"==this.theme?(this.buttonLayout2.getChildByName("Next Level Button").getComponent(C).color=(new g).fromHEX("f7880d"),this.goHomeBoard.getChildByName("Go Home Button").getComponent(C).color=(new g).fromHEX("f7880d"),this.adChoiceBoard.getChildByName("Play Ad Button").getComponent(C).color=(new g).fromHEX("f7880d"),this.resetChoiceBoard.getChildByName("Reset Button").getComponent(C).color=(new g).fromHEX("f7880d")):"purple"==this.theme&&(this.buttonLayout2.getChildByName("Next Level Button").getComponent(C).color=(new g).fromHEX("cbc9ff"),this.goHomeBoard.getChildByName("Go Home Button").getComponent(C).color=(new g).fromHEX("cbc9ff"),this.adChoiceBoard.getChildByName("Play Ad Button").getComponent(C).color=(new g).fromHEX("cbc9ff"),this.resetChoiceBoard.getChildByName("Reset Button").getComponent(C).color=(new g).fromHEX("cbc9ff"))},a.showOrHidePlayerCreationLabel=function(e){var t=this;if(e.player){this.playerCreation.active=!0,this.audioManager.playOneShot(this.audioManager.typingAudio,1.2);var o=0,n=function n(){e.player[o]&&(t.playerCreation.getComponent(u).string+=e.player[o]),++o>=e.player.length&&t.unschedule(n)};this.unschedule(n),this.playerCreation.getComponent(u).string="",this.schedule(n,.08)}else this.playerCreation.active=!1},a.showAddInfo=function(e){var t=S(this.addInfoPrefab);t.setPosition(e),this.levelScene.addChild(t),y(t).by(.8,{position:new d(0,150,0)},{easing:"sineOut"}).call((function(){t.removeFromParent()})).start()},a.checkResultAfterSnakeMove=function(){var e=[];this.levelScene.children.forEach((function(t){t.name.toLocaleLowerCase().indexOf("sna")>-1&&e.push(t)}));for(var t=0,o=0;o<e.length;o++){var n=e[o],i=n.getComponent(M).xSpeed,a=n.getComponent(M).ySpeed;if(0==i&&0==a){if(this.levelScene.getChildByName("fru")){var s=this.getSurroundingTiles(n.name);1==e.length&&4==Object.keys(s).length?this.showLostPage():2==e.length&&4==Object.keys(s).length?2==(t+=1)&&this.showLostPage():this.reshowLastFlrTile(n)}else if(1==e.length||2==e.length&&0==e[0].getComponent(M).xSpeed&&0==e[0].getComponent(M).ySpeed&&0==e[1].getComponent(M).xSpeed&&0==e[1].getComponent(M).ySpeed)return this.level+=1,void this.showWinPage()}else this.preventPenetration(n,i,a),this.reshowLastFlrTile(n)}},a.reshowLastFlrTile=function(e){for(var t=e.getComponent(c),o=0;o<this.levelScene.children.length;o++){var n=this.levelScene.children[o];if("flr"==n.name&&!n.active){var i=n.position.x,a=n.position.y,s=e.position.x,r=e.position.y,l=t.width/8;Math.abs(a-r)<=l&&Math.abs(i-s)<=l&&(n.active=!0)}}},a.getSurroundingTiles=function(e){void 0===e&&(e=null);var t={},o=this.levelScene.getChildByName(e),n=o.getComponent(c);if(!o.getComponent(M).isTransportFinished)return t;for(var i=0;i<this.levelScene.children.length;i++){var a=this.levelScene.children[i];if(a.name!=e&&"fru"!=a.name&&"prt"!=a.name&&"transport"!=a.name&&"flr"!=a.name&&"addInfo"!=a.name){var s=a.position.x,r=a.position.y,l=o.position.x,h=o.position.y;r-h>n.width/6&&r-h<1.1*n.width&&Math.abs(s-l)<n.width/6?t.top=a:r-h<-n.width/6&&r-h>1.1*-n.width&&Math.abs(s-l)<n.width/6?t.bottom=a:s-l<-n.width/6&&s-l>1.1*-n.width&&Math.abs(r-h)<n.width/6?t.left=a:s-l>n.width/6&&s-l<1.1*n.width&&Math.abs(r-h)<n.width/6&&(t.right=a)}}return t},a.preventPenetration=function(e,t,o){var n=this.getSurroundingTiles(e.name);t>0&&n.right&&e.getComponent(c).getBoundingBox().intersects(n.right.getComponent(c).getBoundingBox())?(e.getComponent(M).xSpeed=0,e.getComponent(M).isSnakeMoved=!1,e.setPosition(new d(n.right.position).subtract3f(e.getComponent(c).width,0,0)),I.getInstace().shake(this.levelScene,.5,5,1,"x"),this.audioManager.playOneShot(this.audioManager.bounceAudio)):t<0&&n.left&&e.getComponent(c).getBoundingBox().intersects(n.left.getComponent(c).getBoundingBox())?(e.getComponent(M).xSpeed=0,e.getComponent(M).isSnakeMoved=!1,e.setPosition(new d(n.left.position).add3f(e.getComponent(c).width,0,0)),I.getInstace().shake(this.levelScene,.5,-7,1,"x"),this.audioManager.playOneShot(this.audioManager.bounceAudio)):o>0&&n.top&&e.getComponent(c).getBoundingBox().intersects(n.top.getComponent(c).getBoundingBox())?(e.getComponent(M).ySpeed=0,e.getComponent(M).isSnakeMoved=!1,e.setPosition(new d(n.top.position).subtract3f(0,e.getComponent(c).width,0)),I.getInstace().shake(this.levelScene,.5,5,1,"y"),this.audioManager.playOneShot(this.audioManager.bounceAudio)):o<0&&n.bottom&&e.getComponent(c).getBoundingBox().intersects(n.bottom.getComponent(c).getBoundingBox())&&(e.getComponent(M).ySpeed=0,e.getComponent(M).isSnakeMoved=!1,e.setPosition(new d(n.bottom.position).add3f(0,e.getComponent(c).width,0)),I.getInstace().shake(this.levelScene,.5,-7,1,"y"),this.audioManager.playOneShot(this.audioManager.bounceAudio)),e.setSiblingIndex(6e3)},a.showWinPage=function(){var e=this;if("level"==this.gameMode){this.isLevelSolved=!0,this.audioManager.playOneShot(this.audioManager.stampAudio),h("Canvas/UI/Pass").angle=60*Math.random()-30,h("Canvas/UI/Pass").active=!0,this.buttonLayout1.active=!1,this.buttonLayout2.active=!0,this.adChoiceBoard.active=!1,this.resetChoiceBoard.active=!1;var t=JSON.parse(localStorage.getItem("snake-settings"));B.getInstace().showStampTween(h("Canvas/UI/Pass"),(function(){t.autoNext&&e.node.getComponent(A).goToNextLevel()})),t.autoNext&&(this.buttonLayout2.getChildByName("Next Level Button").getComponent(b).interactable=!1),this.ribbonParticle.setSiblingIndex(7e3),101!=this.level&&201!=this.level&&301!=this.level&&401!=this.level&&501!=this.level||this.audioManager.playOneShot(this.audioManager.passHundredAudio,2.3),this.saveLevelToLocalStorage(),this.updateHistoryLevelToLocalStorage()}else{if(this.passedLevelArray.push(parseInt(this.level.toString())),this.passedNumNode.getComponent(u).string="已通过"+this.passedLevelArray.length+"关",this.passedLevelArray.length>=this.maxLevel)return this.audioManager.playOneShot(this.audioManager.passHundredAudio,2.3),void this.showMessage("finish",1.5);var o=10*Math.floor(this.level/50)+10;this.countDownSeconds+=o,this.countDownNode.getComponent(u).color=g.BLACK,this.countDownNode.getComponent(u).string=this.countDownSeconds.toString(),"green"==this.theme?this.addTimeNode.getComponent(u).color=(new g).fromHEX("6abe30"):"blue"==this.theme?this.addTimeNode.getComponent(u).color=(new g).fromHEX("4b97ff"):"orange"==this.theme?this.addTimeNode.getComponent(u).color=(new g).fromHEX("f7880d"):"purple"==this.theme&&(this.addTimeNode.getComponent(u).color=(new g).fromHEX("cbc9ff")),this.addTimeNode.getComponent(u).string="+"+o,B.getInstace().showAddTimeTween(this.addTimeNode),this.audioManager.playOneShot(this.audioManager.correctAudio),this.level=this.getRandomLevel(),this.showLevel(this.level),h("Canvas").getComponent(A).resetLevel()}},a.hideWinPage=function(){this.isLevelSolved=!1,h("Canvas/UI/Pass").active=!1,this.buttonLayout1.active=!0,this.buttonLayout2.active=!1,this.ribbonParticle.setSiblingIndex(1)},a.showLostPage=function(){"level"==this.gameMode?(this.isLevelLost=!0,this.audioManager.playOneShot(this.audioManager.stampAudio),h("Canvas/UI/Lost").angle=60*Math.random()-30,h("Canvas/UI/Lost").active=!0,this.buttonLayout1.active=!1,this.buttonLayout2.active=!0,this.buttonLayout2.children[2].active=!1,this.adChoiceBoard.active=!1,this.resetChoiceBoard.active=!1,B.getInstace().showStampTween(h("Canvas/UI/Lost"))):this.isLevelLost||(this.audioManager.playOneShot(this.audioManager.wrongAudio),this.showLevel(this.level),h("Canvas").getComponent(A).resetLevel())},a.hideLostPage=function(){this.isLevelLost=!1,h("Canvas/UI/Lost").active=!1,this.buttonLayout1.active=!0,this.buttonLayout2.active=!1,this.buttonLayout2.children[2].active=!0},a.showMessage=function(e,t,o){void 0===t&&(t=1),void 0===o&&(o="key"),this.messageBoard.active=!0,this.messageBoard.setSiblingIndex(1e4),"key"==o?(this.messageBoard.children[0].getComponent(x).key=e,this.messageBoard.children[0].getComponent(u).string="",N()):(this.messageBoard.children[0].getComponent(x).key="",this.messageBoard.children[0].getComponent(u).string=e),B.getInstace().showMesageBoardTween(this.messageBoard),this.unschedule(this.hideMessage),-1!=t&&this.scheduleOnce(this.hideMessage,t)},a.hideMessage=function(){var e=this;B.getInstace().hideMesageBoardTween(this.messageBoard,(function(){e.messageBoard.active=!1}))},a.showTheAchieved=function(e){var t=this;if(0==this.achievementWaitToShowTime){this.scheduleOnce((function o(){t.achievementWaitToShowTime+=1.5;var n=e.shift();v.load("achievement/"+n.id+"/spriteFrame",f,(function(e,o){t.achievementNotice.getChildByName("Sprite").getComponent(C).spriteFrame=o,t.achievementNotice.getChildByName("Label").getComponent(u).string=n.name})),t.audioManager.playOneShot(t.audioManager.achieveAudio),B.getInstace().showFromLeftSide(t.achievementNotice,(function(){e.length?t.scheduleOnce(o,t.achievementWaitToShowTime):t.achievementWaitToShowTime=0}))}),this.achievementWaitToShowTime)}else this.scheduleOnce((function(){t.showTheAchieved(e)}),this.achievementWaitToShowTime)},a.update=function(e){this.isLevelSolved||this.isLevelLost||!this.isLevelSceneOK||(this.checkResultAfterSnakeMove(),P.getInstace().checkGameAchievements(this))},t}(w)).prototype,"levelScene",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(Q.prototype,"addInfoPrefab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(Q.prototype,"levelNum",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(Q.prototype,"playerCreation",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(Q.prototype,"buttonLayout1",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(Q.prototype,"buttonLayout2",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(Q.prototype,"messageBoard",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(Q.prototype,"goHomeBoard",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(Q.prototype,"adChoiceBoard",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(Q.prototype,"resetChoiceBoard",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(Q.prototype,"ribbonParticle",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(Q.prototype,"achievementNotice",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t(Q.prototype,"countDownNode",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(Q.prototype,"addTimeNode",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(Q.prototype,"passedNumNode",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=Q))||q));a._RF.pop()}}}));

System.register("chunks:///_virtual/Home.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./AudioManager.ts","./LanguageData.ts","./TweenToolbox.ts","./LocalizedLabel.ts","./AdManager.ts","./Achievements.ts","./BackgroundSlide.ts"],(function(e){var t,n,a,i,o,s,r,l,c,g,h,u,d,m,p,v,f,S,C,y,b,M,w,I,A,k,B,E,N,T,P,O;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,r=e.Node,l=e.Prefab,c=e.find,g=e.Toggle,h=e.EventHandler,u=e.director,d=e.instantiate,m=e.Label,p=e.Sprite,v=e.Color,f=e.Button,S=e.sys,C=e.game,y=e.ScrollView,b=e.Component,M=e.resources,w=e.SpriteFrame},function(e){I=e.GameManager},function(e){A=e.AudioManager},function(e){k=e.init,B=e.updateSceneRenderers},function(e){E=e.TweenToolbox},function(e){N=e.LocalizedLabel},function(e){T=e.AdManager},function(e){P=e.Achievements},function(e){O=e.BackgroundSlide}],execute:function(){var x,V,G,D,L,z,_,H,U,J,F,R,Y,X,K,Z,j,q,Q,W,$,ee,te,ne,ae;o._RF.push({},"006c2HFoFlIHrXU9hA4lm25","Home",void 0);var ie=s.ccclass,oe=s.property;e("Home",(x=ie("Home"),V=oe({type:r}),G=oe({type:r}),D=oe({type:r}),L=oe({type:r}),z=oe({type:r}),_=oe({type:r}),H=oe({type:r}),U=oe({type:l}),J=oe({type:r}),F=oe({type:l}),R=oe({type:r}),x((K=t((X=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,a(t,"settingsScrollView",K,i(t)),a(t,"settingsBGMToggle",Z,i(t)),a(t,"settingsSoundEffectToggle",j,i(t)),a(t,"settingsShakeEffectToggle",q,i(t)),a(t,"settingsAutoNextToggle",Q,i(t)),a(t,"settingsBgSlideToggle",W,i(t)),a(t,"levelScrollViewContent",$,i(t)),a(t,"levelChoicePrefab",ee,i(t)),a(t,"achievementScrollViewContent",te,i(t)),a(t,"achievementPrefab",ne,i(t)),a(t,"messageBoard",ae,i(t)),t.audioManager=null,t.adManager=null,t}n(t,e);var o=t.prototype;return o.start=function(){this.initComponents(),this.initSettings(),this.checkPrivacyPolicy(),this.changeZIndex(),this.initLevels(),this.initAchievements(),this.setLang("zh"),this.showVideoReward()},o.initComponents=function(){this.audioManager=c("Audio Manager").getComponent(A),this.adManager=c("Ad Manager").getComponent(T)},o.initSettings=function(){var e=this.settingsBGMToggle.getComponent(g),t=this.settingsSoundEffectToggle.getComponent(g),n=this.settingsShakeEffectToggle.getComponent(g),a=this.settingsAutoNextToggle.getComponent(g),i=this.settingsBgSlideToggle.getComponent(g);if(e.checkEvents=[],t.checkEvents=[],n.checkEvents=[],a.checkEvents=[],i.checkEvents=[],localStorage.getItem("snake-settings")){var o=JSON.parse(localStorage.getItem("snake-settings"));e.isChecked=o.bgm,t.isChecked=o.soundEffect,n.isChecked=o.shakeEffect,a.isChecked=o.autoNext,null==o.bgSlide?i.isChecked=!0:(i.isChecked=o.bgSlide,o.bgSlide?(this.node.getComponent(O).resetBgPos(),this.node.getComponent(O).setSlideSpeed(1)):(this.node.getComponent(O).resetBgPos(),this.node.getComponent(O).setSlideSpeed(0)))}else localStorage.setItem("snake-settings",JSON.stringify({bgm:!0,soundEffect:!0,shakeEffect:!0,autoNext:!1,bgSlide:!0}));var s=new h;s.target=c("Audio Manager"),s.component="AudioManager",s.handler="switchBGM";var r=new h;r.target=c("Audio Manager"),r.component="AudioManager",r.handler="switchSoundEffect";var l=new h;l.target=this.node,l.component="Home",l.handler="switchShakeEffect";var u=new h;u.target=this.node,u.component="Home",u.handler="switchAutoNext";var d=new h;d.target=this.node,d.component="Home",d.handler="switchBGSlide",e.checkEvents.push(s),t.checkEvents.push(r),n.checkEvents.push(l),a.checkEvents.push(u),i.checkEvents.push(d)},o.showVideoReward=function(){localStorage.getItem("snake-endless-video-reward")&&(this.showMessage("已恢复20点挑战值",2,"msg"),localStorage.removeItem("snake-endless-video-reward"))},o.changeZIndex=function(){c("Canvas/UI").setSiblingIndex(2e3),c("Canvas/DouyinSidebar").setSiblingIndex(2e3),c("Canvas/Privacy Policy").setSiblingIndex(2e3),this.settingsScrollView.setSiblingIndex(2e3),this.levelScrollViewContent.parent.parent.setSiblingIndex(2e3),this.achievementScrollViewContent.parent.parent.setSiblingIndex(2e3)},o.setLang=function(e){k(e),B(),"en"==e&&(c("Canvas/UI/Healthy").active=!1,c("Canvas/UI/Age").active=!1)},o.startGame=function(){this.audioManager.playOneShot(this.audioManager.buttonAudio),localStorage.setItem("snake-eat-mode","level"),u.loadScene("Game")},o.startTimeMode=function(){this.audioManager.playOneShot(this.audioManager.buttonAudio),localStorage.setItem("snake-eat-mode","time"),u.loadScene("Game")},o.startInfinite=function(){this.audioManager.playOneShot(this.audioManager.buttonAudio),u.loadScene("Infinite")},o.initLevels=function(){var e=this,t=1;localStorage.getItem("snake-history-level")&&(t=parseInt(localStorage.getItem("snake-history-level")));for(var n=function(t){localStorage.setItem("snake-current-level",t.node.name),e.startGame()},a=0;a<(new I).maxLevel;a++){var i=d(this.levelChoicePrefab);this.levelScrollViewContent.addChild(i),i.name=(a+1).toString(),i.children[0].getComponent(m).string=(a+1).toString(),a+1<t?(a+1<=100?i.getComponent(p).color=v.GREEN:a+1<=200?i.getComponent(p).color=(new v).fromHEX("4b97ff"):a+1<=300?i.getComponent(p).color=(new v).fromHEX("f7880d"):a+1<=400&&(i.getComponent(p).color=(new v).fromHEX("cbc9ff")),i.on(f.EventType.CLICK,n,this)):a+1==t&&(i.getComponent(p).color=v.CYAN,i.on(f.EventType.CLICK,n,this))}},o.initAchievements=function(){for(var e=this,t=P.getInstace().getAchievedIdArray(),n=P.getInstace().getAllGameAchievements(),a=P.getInstace().getAllInfiniteAchievements(),i=n.concat(a),o=function(){var n=i[s],a=d(e.achievementPrefab);a.name=n.desc,e.achievementScrollViewContent.addChild(a),M.load("achievement/"+n.id+"/spriteFrame",w,(function(e,t){a.getChildByName("Sprite").getComponent(p).spriteFrame=t,a.getChildByName("Label").getComponent(m).string=n.name}));a.getChildByName("Sprite").on(f.EventType.CLICK,(function(t){e.audioManager.playOneShot(e.audioManager.buttonAudio),e.showMessage(t.node.parent.name,1,"msg")}),e),t.indexOf(n.id)>-1&&(a.getChildByName("Sprite").getComponent(p).grayscale=!1)},s=0;s<i.length;s++)o()},o.showLevels=function(){this.audioManager.playOneShot(this.audioManager.buttonAudio),this.levelScrollViewContent.parent.parent.active=!0,c("Canvas/UI").active=!1,S.platform==S.Platform.BYTEDANCE_MINI_GAME&&(c("Canvas/DouyinSidebar").getChildByName("Show Navigation Button").active=!1)},o.closeLevels=function(){this.audioManager.playOneShot(this.audioManager.cancelAudio),this.levelScrollViewContent.parent.parent.active=!1,c("Canvas/UI").active=!0,S.platform==S.Platform.BYTEDANCE_MINI_GAME&&(c("Canvas/DouyinSidebar").getChildByName("Show Navigation Button").active=!0)},o.showSettings=function(){this.audioManager.playOneShot(this.audioManager.buttonAudio),this.settingsScrollView.active=!0,c("Canvas/UI").active=!1,S.platform==S.Platform.BYTEDANCE_MINI_GAME&&(c("Canvas/DouyinSidebar").getChildByName("Show Navigation Button").active=!1)},o.closeSettings=function(){this.audioManager.playOneShot(this.audioManager.cancelAudio),this.settingsScrollView.active=!1,c("Canvas/UI").active=!0,S.platform==S.Platform.BYTEDANCE_MINI_GAME&&(c("Canvas/DouyinSidebar").getChildByName("Show Navigation Button").active=!0)},o.showAchievements=function(){this.audioManager.playOneShot(this.audioManager.buttonAudio),this.achievementScrollViewContent.parent.parent.active=!0,c("Canvas/UI").active=!1,S.platform==S.Platform.BYTEDANCE_MINI_GAME&&(c("Canvas/DouyinSidebar").getChildByName("Show Navigation Button").active=!1)},o.closeAchievements=function(){this.audioManager.playOneShot(this.audioManager.cancelAudio),this.achievementScrollViewContent.parent.parent.active=!1,c("Canvas/UI").active=!0,S.platform==S.Platform.BYTEDANCE_MINI_GAME&&(c("Canvas/DouyinSidebar").getChildByName("Show Navigation Button").active=!0)},o.checkPrivacyPolicy=function(){S.platform==S.Platform.ANDROID?localStorage.getItem("snake-privacy-policy")?this.adManager.initAd():(c("Canvas/Privacy Policy").active=!0,c("Canvas/UI").active=!1):this.adManager.initAd()},o.disagreePrivacyPolicy=function(){this.audioManager.playOneShot(this.audioManager.cancelAudio),u.end(),C.end()},o.agreePrivacyPolicy=function(){this.audioManager.playOneShot(this.audioManager.buttonAudio),localStorage.setItem("snake-privacy-policy","1"),c("Canvas/Privacy Policy").active=!1,c("Canvas/UI").active=!0,this.adManager.initAd()},o.showMessage=function(e,t,n){void 0===t&&(t=1),void 0===n&&(n="key"),this.messageBoard.active=!0,this.messageBoard.setSiblingIndex(1e4),"key"==n?(this.messageBoard.children[0].getComponent(N).key=e,this.messageBoard.children[0].getComponent(m).string="",B()):(this.messageBoard.children[0].getComponent(N).key="",this.messageBoard.children[0].getComponent(m).string=e),E.getInstace().showMesageBoardTween(this.messageBoard),this.unschedule(this.hideMessage),-1!=t&&this.scheduleOnce(this.hideMessage,t)},o.hideMessage=function(){var e=this;E.getInstace().hideMesageBoardTween(this.messageBoard,(function(){e.messageBoard.active=!1}))},o.switchShakeEffect=function(e){this.audioManager.playOneShot(this.audioManager.buttonAudio);var t=JSON.parse(localStorage.getItem("snake-settings"));t.shakeEffect=e.isChecked,localStorage.setItem("snake-settings",JSON.stringify(t))},o.switchAutoNext=function(e){this.audioManager.playOneShot(this.audioManager.buttonAudio);var t=JSON.parse(localStorage.getItem("snake-settings"));t.autoNext=e.isChecked,localStorage.setItem("snake-settings",JSON.stringify(t))},o.switchBGSlide=function(e){this.audioManager.playOneShot(this.audioManager.buttonAudio);var t=JSON.parse(localStorage.getItem("snake-settings"));t.bgSlide=e.isChecked,localStorage.setItem("snake-settings",JSON.stringify(t)),t.bgSlide?(this.node.getComponent(O).resetBgPos(),this.node.getComponent(O).setSlideSpeed(1)):(this.node.getComponent(O).resetBgPos(),this.node.getComponent(O).setSlideSpeed(0))},o.scrollToBottom=function(){this.audioManager.playOneShot(this.audioManager.buttonAudio),this.levelScrollViewContent.parent.parent.getComponent(y).scrollToBottom()},o.scrollToTop=function(){this.audioManager.playOneShot(this.audioManager.buttonAudio),this.levelScrollViewContent.parent.parent.getComponent(y).scrollToTop()},o.update=function(e){},t}(b)).prototype,"settingsScrollView",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(X.prototype,"settingsBGMToggle",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(X.prototype,"settingsSoundEffectToggle",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(X.prototype,"settingsShakeEffectToggle",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(X.prototype,"settingsAutoNextToggle",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(X.prototype,"settingsBgSlideToggle",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(X.prototype,"levelScrollViewContent",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(X.prototype,"levelChoicePrefab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(X.prototype,"achievementScrollViewContent",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(X.prototype,"achievementPrefab",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(X.prototype,"messageBoard",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=X))||Y));o._RF.pop()}}}));

System.register("chunks:///_virtual/Joystick.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RaceTrack.ts"],(function(t){var i,n,o,s,e,a,c,h,r;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,s=t.find,e=t.Vec3,a=t.Node,c=t.UITransform,h=t.Component},function(t){r=t.RaceTrack}],execute:function(){var l;n._RF.push({},"649a1JbXzFFA4H8cqj9EuVM","Joystick",void 0);var p=o.ccclass;o.property,t("Joystick",p("Joystick")(l=function(t){function n(){for(var i,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(i=t.call.apply(t,[this].concat(o))||this).angle=0,i.canvas=null,i.joystickBtn=null,i.originalPos=null,i.raceTrackComp=null,i.dir=new e(0,1,0),i}i(n,t);var o=n.prototype;return o.start=function(){this.initNodesAndComponents(),this.recordOriginalPos(),this.initTouchEvents()},o.initNodesAndComponents=function(){this.node.active=!1,this.node.setSiblingIndex(1e4),this.canvas=s("Canvas"),this.joystickBtn=this.node.children[0],this.raceTrackComp=s("Canvas/Race Track").getComponent(r)},o.recordOriginalPos=function(){this.originalPos=new e(this.node.position)},o.initTouchEvents=function(){this.canvas.on(a.EventType.TOUCH_START,this.onTouchStart,this),this.canvas.on(a.EventType.TOUCH_MOVE,this.onTouchMove,this),this.canvas.on(a.EventType.TOUCH_END,this.onTouchEnd,this),this.canvas.on(a.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},o.onTouchStart=function(t){if(this.raceTrackComp.isReady){var i=t.getUILocation(),n=this.canvas.getComponent(c).convertToNodeSpaceAR(new e(i.x,i.y,0));this.node.setPosition(n),this.node.active=!0}},o.onTouchMove=function(t){if(this.raceTrackComp.isReady){var i=t.getDelta();this.joystickBtn.setPosition(new e(this.joystickBtn.position).add3f(i.x,i.y,0)),this.dir=new e(this.joystickBtn.position.x,this.joystickBtn.position.y,0).normalize(),this.dir.y>0?this.angle=180*e.angle(this.dir,new e(1,0,0))/Math.PI:this.angle=180*-e.angle(this.dir,new e(1,0,0))/Math.PI,this.moveSnake()}},o.onTouchEnd=function(t){this.node.active=!1,this.node.setPosition(this.originalPos),this.joystickBtn.setPosition(e.ZERO)},o.onTouchCancel=function(t){this.node.active=!1,this.node.setPosition(this.originalPos),this.joystickBtn.setPosition(e.ZERO)},o.limitjoystickBtn=function(){var t=this.joystickBtn.position.x,i=this.joystickBtn.position.y,n=new e(t,i,0).length()/(this.node.getComponent(c).width/2);n>1&&this.joystickBtn.setPosition(t/n,i/n,0)},o.moveSnake=function(){this.angle<=45&&this.angle>-45&&"R"!=this.raceTrackComp.previousDir?this.raceTrackComp.snakeMoveRight():this.angle>45&&this.angle<=135&&"U"!=this.raceTrackComp.previousDir?this.raceTrackComp.snakeMoveUp():this.angle>135&&this.angle<=180&&"L"!=this.raceTrackComp.previousDir||this.angle>=-180&&this.angle<=-135&&"L"!=this.raceTrackComp.previousDir?this.raceTrackComp.snakeMoveLeft():this.angle>-135&&this.angle<=-45&&"D"!=this.raceTrackComp.previousDir&&this.raceTrackComp.snakeMoveDown()},o.update=function(t){this.limitjoystickBtn()},n}(h))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageData.ts",["cc"],(function(e){var n,a;return{setters:[function(e){n=e.cclegacy,a=e.director}],execute:function(){e({init:t,t:function(e){var n=window;if(!n.languages)return e;for(var a=e.split("."),t=n.languages[r],u=0;u<a.length;u++)if(!(t=t[a[u]]))return"";return t||""},updateSceneRenderers:u}),n._RF.push({},"b3f01X4Ik5LEbIPKXZr3JWD","LanguageData",void 0);var r=e("_language","zh");e("ready",!1);function t(n){e("ready",!0),r=e("_language",n)}function u(){for(var e=a.getScene().children,n=[],r=0;r<e.length;++r){var t=e[r].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(n,t)}for(var u=0;u<n.length;++u){var i=n[u];i.node.active&&i.updateLabel()}for(var o=[],g=0;g<e.length;++g){var c=e[g].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(o,c)}for(var l=0;l<o.length;++l){var p=o[l];p.node.active&&p.updateSprite()}}window._languageData={get language(){return r},init:function(e){t(e)},updateSceneRenderers:function(){u()}},n._RF.pop()}}}));

System.register("chunks:///_virtual/LevelScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Snake.ts","./GameManager.ts"],(function(e){var t,n,i,r,o,a,l,u,p,f,b,s,h,c,g,d,w,m,y,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Prefab,u=e.find,p=e.UITransform,f=e.Widget,b=e.instantiate,s=e.resources,h=e.SpriteFrame,c=e.Sprite,g=e.AnimationClip,d=e.Animation,w=e.Vec2,m=e.Component},function(e){y=e.Snake},function(e){T=e.GameManager}],execute:function(){var P,D,L,U,R,v,C,S,z,G,k,x,F,M,B,I,A,H,O,_,E,K,j,q,Q,V,W,J,N,X,Y,Z,$,ee,te,ne,ie,re,oe,ae,le,ue,pe,fe,be,se,he,ce,ge,de,we,me,ye,Te,Pe,De,Le,Ue,Re,ve,Ce,Se,ze,Ge,ke,xe,Fe;o._RF.push({},"cc9eewcDm9KSb1g/fKOezqQ","LevelScene",void 0);var Me=a.ccclass,Be=a.property;e("LevelScene",(P=Me("LevelScene"),D=Be({type:l}),L=Be({type:l}),U=Be({type:l}),R=Be({type:l}),v=Be({type:l}),C=Be({type:l}),S=Be({type:l}),z=Be({type:l}),G=Be({type:l}),k=Be({type:l}),x=Be({type:l}),F=Be({type:l}),M=Be({type:l}),B=Be({type:l}),I=Be({type:l}),A=Be({type:l}),H=Be({type:l}),O=Be({type:l}),_=Be({type:l}),E=Be({type:l}),K=Be({type:l}),j=Be({type:l}),q=Be({type:l}),Q=Be({type:l}),V=Be({type:l}),W=Be({type:l}),J=Be({type:l}),N=Be({type:l}),X=Be({type:l}),Y=Be({type:l}),Z=Be({type:l}),$=Be({type:l}),P((ne=t((te=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"tilePrefab",ne,r(t)),i(t,"bodyPrefab",ie,r(t)),i(t,"greenGoUDPrefab",re,r(t)),i(t,"greenGoLRPrefab",oe,r(t)),i(t,"greenLeftToDownPrefab",ae,r(t)),i(t,"greenDownToRightPrefab",le,r(t)),i(t,"greenRightToUpPrefab",ue,r(t)),i(t,"greenUpToLeftPrefab",pe,r(t)),i(t,"blueGoUDPrefab",fe,r(t)),i(t,"blueGoLRPrefab",be,r(t)),i(t,"blueLeftToDownPrefab",se,r(t)),i(t,"blueDownToRightPrefab",he,r(t)),i(t,"blueRightToUpPrefab",ce,r(t)),i(t,"blueUpToLeftPrefab",ge,r(t)),i(t,"redGoUDPrefab",de,r(t)),i(t,"redGoLRPrefab",we,r(t)),i(t,"redLeftToDownPrefab",me,r(t)),i(t,"redDownToRightPrefab",ye,r(t)),i(t,"redRightToUpPrefab",Te,r(t)),i(t,"redUpToLeftPrefab",Pe,r(t)),i(t,"yellowGoUDPrefab",De,r(t)),i(t,"yellowGoLRPrefab",Le,r(t)),i(t,"yellowLeftToDownPrefab",Ue,r(t)),i(t,"yellowDownToRightPrefab",Re,r(t)),i(t,"yellowRightToUpPrefab",ve,r(t)),i(t,"yellowUpToLeftPrefab",Ce,r(t)),i(t,"purpleGoUDPrefab",Se,r(t)),i(t,"purpleGoLRPrefab",ze,r(t)),i(t,"purpleLeftToDownPrefab",Ge,r(t)),i(t,"purpleDownToRightPrefab",ke,r(t)),i(t,"purpleRightToUpPrefab",xe,r(t)),i(t,"purpleUpToLeftPrefab",Fe,r(t)),t.collidableFruitCount=0,t.canvasUITransform=null,t.levelSceneUITransform=null,t.theme="green",t}n(t,e);var o=t.prototype;return o.start=function(){this.initComponents()},o.initComponents=function(){this.canvasUITransform=u("Canvas").getComponent(p),this.levelSceneUITransform=this.node.getComponent(p)},o.initLevelScene=function(e,t){var n=this;this.node.removeAllChildren();var i=e.detail,r=this.canvasUITransform.width/i[0].length;this.levelSceneUITransform.setContentSize(this.levelSceneUITransform.width,r*i.length),this.node.getComponent(f).updateAlignment(),this.theme=t,this.collidableFruitCount=0;for(var o=0;o<i.length;o++)for(var a=0;a<i[o].length;a++){var l=i[o][a];"fru"==l||"prt"==l?(this.collidableFruitCount+=1,this.spawnMapTile(o,a,"flr",r),this.spawnFruitTile(o,a,l,r)):"sna"==l?(this.spawnMapTile(o,a,"flr",r),this.spawnSnakeHeadTile(o,a,l,r)):"rSna"==l?(this.spawnMapTile(o,a,"flr",r),this.spawnSnakeHeadTile(o,a,l,r,"red")):"ySna"==l?(this.spawnMapTile(o,a,"flr",r),this.spawnSnakeHeadTile(o,a,l,r,"yellow")):this.spawnMapTile(o,a,l,r)}this.schedule((function e(){for(var t=0,i=0;i<n.node.children.length;i++)"fru"!=n.node.children[i].name&&"prt"!=n.node.children[i].name||(t+=1);t>=n.collidableFruitCount&&(u("Canvas").getComponent(T).isLevelSceneOK=!0,n.unschedule(e))}),.1)},o.spawnMapTile=function(e,t,n,i){var r=b(this.tilePrefab);r.setPosition(t*i,-e*i,0),this.node.addChild(r),r.name=n,"emp"==n?r.getComponent(p).setContentSize(i,i):s.load("tile/"+this.theme+"/"+n+"/spriteFrame",h,(function(e,t){r.getComponent(c).spriteFrame=t,r.getComponent(p).setContentSize(i,i)}))},o.spawnSnakeHeadTile=function(e,t,n,i,r){void 0===r&&(r=null);var o=b(this.tilePrefab);o.setPosition(t*i,-e*i,0),this.node.addChild(o),o.name=n,o.addComponent(y),r?s.load("anim/"+this.theme+"/"+r+"/blink",g,(function(e,t){o.addComponent(d).addClip(t,"blink")})):s.load("anim/"+this.theme+"/blink",g,(function(e,t){o.addComponent(d).addClip(t,"blink")})),s.load("tile/"+this.theme+"/"+n+"/spriteFrame",h,(function(e,t){o.getComponent(c).spriteFrame=t,o.getComponent(p).setContentSize(i,i)}))},o.spawnFruitTile=function(e,t,n,i){var r=b(this.tilePrefab);r.setPosition(t*i+i/4,-e*i-i/4,0),this.node.addChild(r),s.load("tile/"+this.theme+"/"+n+"/spriteFrame",h,(function(e,t){r.getComponent(c).spriteFrame=t,r.getComponent(p).setContentSize(i/2,i/2),r.getComponent(c).trim=!0,r.name=n}))},o.spawnSnakeBodyTile=function(e,t,n,i,r){void 0===r&&(r=null);var o=null,a={};"green"==this.theme?a={ud:this.greenGoUDPrefab,lr:this.greenGoLRPrefab,leftToDown:this.greenLeftToDownPrefab,downToRight:this.greenDownToRightPrefab,rightToUp:this.greenRightToUpPrefab,upToLeft:this.greenUpToLeftPrefab}:"blue"==this.theme?a={ud:this.blueGoUDPrefab,lr:this.blueGoLRPrefab,leftToDown:this.blueLeftToDownPrefab,downToRight:this.blueDownToRightPrefab,rightToUp:this.blueRightToUpPrefab,upToLeft:this.blueUpToLeftPrefab}:"orange"==this.theme?"rSna"==r?a={ud:this.redGoUDPrefab,lr:this.redGoLRPrefab,leftToDown:this.redLeftToDownPrefab,downToRight:this.redDownToRightPrefab,rightToUp:this.redRightToUpPrefab,upToLeft:this.redUpToLeftPrefab}:"ySna"==r&&(a={ud:this.yellowGoUDPrefab,lr:this.yellowGoLRPrefab,leftToDown:this.yellowLeftToDownPrefab,downToRight:this.yellowDownToRightPrefab,rightToUp:this.yellowRightToUpPrefab,upToLeft:this.yellowUpToLeftPrefab}):"purple"==this.theme&&(a={ud:this.purpleGoUDPrefab,lr:this.purpleGoLRPrefab,leftToDown:this.purpleLeftToDownPrefab,downToRight:this.purpleDownToRightPrefab,rightToUp:this.purpleRightToUpPrefab,upToLeft:this.purpleUpToLeftPrefab}),!t&&"U"==n||"U"==t&&"U"==n||!t&&"D"==n||"D"==t&&"D"==n?o=b(a.ud):!t&&"L"==n||"L"==t&&"L"==n||!t&&"R"==n||"R"==t&&"R"==n?o=b(a.lr):"L"==t&&"D"==n||"U"==t&&"R"==n?o=b(a.leftToDown):"D"==t&&"R"==n||"L"==t&&"U"==n?o=b(a.downToRight):"R"==t&&"U"==n||"D"==t&&"L"==n?o=b(a.rightToUp):("U"==t&&"L"==n||"R"==t&&"D"==n)&&(o=b(a.upToLeft)),o.getComponent(p).setContentSize(i,i),o.setPosition(e),this.node.addChild(o),o.name="body",this.node.children.forEach((function(e){e.name.toLocaleLowerCase().indexOf("sna")>-1&&e.setSiblingIndex(6e3)}))},o.checkIsSnakeBodyShouldBeGenerated=function(){var e=this,t=[];this.node.children.forEach((function(e){e.name.toLocaleLowerCase().indexOf("sna")>-1&&t.push(e)})),t.forEach((function(t){var n=t.getComponent(y).xSpeed,i=t.getComponent(y).ySpeed;if(0!=n||0!=i)for(var r=0;r<e.node.children.length;r++){var o=e.node.children[r];if("flr"==o.name&&o.active){var a=o.getComponent(p).getBoundingBox(),l=t.getComponent(p).getBoundingBox(),u=a.width/5;n>0?l.contains(new w(a.xMax-u,a.y+u))&&l.contains(new w(a.xMax-u,a.yMax-u))&&(e.spawnSnakeBodyTile(o.position,t.getComponent(y).previousDirForSkin,"R",l.width,t.name),t.getComponent(y).previousDirForSkin="R",o.active=!1):n<0?l.contains(new w(a.x+u,a.y+u))&&l.contains(new w(a.x+u,a.yMax-u))&&(e.spawnSnakeBodyTile(o.position,t.getComponent(y).previousDirForSkin,"L",l.width,t.name),t.getComponent(y).previousDirForSkin="L",o.active=!1):i>0?l.contains(new w(a.x+u,a.yMax-u))&&l.contains(new w(a.xMax-u,a.yMax-u))&&(e.spawnSnakeBodyTile(o.position,t.getComponent(y).previousDirForSkin,"U",l.width,t.name),t.getComponent(y).previousDirForSkin="U",o.active=!1):i<0&&l.contains(new w(a.x+u,a.y+u))&&l.contains(new w(a.xMax-u,a.y+u))&&(e.spawnSnakeBodyTile(o.position,t.getComponent(y).previousDirForSkin,"D",l.width,t.name),t.getComponent(y).previousDirForSkin="D",o.active=!1)}}}))},o.update=function(e){this.checkIsSnakeBodyShouldBeGenerated()},t}(m)).prototype,"tilePrefab",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(te.prototype,"bodyPrefab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(te.prototype,"greenGoUDPrefab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(te.prototype,"greenGoLRPrefab",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(te.prototype,"greenLeftToDownPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(te.prototype,"greenDownToRightPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(te.prototype,"greenRightToUpPrefab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(te.prototype,"greenUpToLeftPrefab",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(te.prototype,"blueGoUDPrefab",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t(te.prototype,"blueGoLRPrefab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(te.prototype,"blueLeftToDownPrefab",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(te.prototype,"blueDownToRightPrefab",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(te.prototype,"blueRightToUpPrefab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t(te.prototype,"blueUpToLeftPrefab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(te.prototype,"redGoUDPrefab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=t(te.prototype,"redGoLRPrefab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=t(te.prototype,"redLeftToDownPrefab",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t(te.prototype,"redDownToRightPrefab",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=t(te.prototype,"redRightToUpPrefab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=t(te.prototype,"redUpToLeftPrefab",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=t(te.prototype,"yellowGoUDPrefab",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=t(te.prototype,"yellowGoLRPrefab",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ue=t(te.prototype,"yellowLeftToDownPrefab",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=t(te.prototype,"yellowDownToRightPrefab",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=t(te.prototype,"yellowRightToUpPrefab",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=t(te.prototype,"yellowUpToLeftPrefab",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=t(te.prototype,"purpleGoUDPrefab",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=t(te.prototype,"purpleGoLRPrefab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=t(te.prototype,"purpleLeftToDownPrefab",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=t(te.prototype,"purpleDownToRightPrefab",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=t(te.prototype,"purpleRightToUpPrefab",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=t(te.prototype,"purpleUpToLeftPrefab",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=te))||ee));o._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizedLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageData.ts"],(function(e){var t,i,r,n,o,a,l,c,s,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.createClass},function(e){a=e.cclegacy,l=e._decorator,c=e.Component},function(e){s=e.ready,u=e.init,p=e.t}],execute:function(){var y,d,b,f,h,L;a._RF.push({},"edf98QH2D1AUoCrtQlbxFrU","LocalizedLabel",void 0);var g=l.ccclass,v=l.property,k=l.executeInEditMode;e("LocalizedLabel",(y=g("LocalizedLabel"),d=v({visible:!1}),b=v({displayName:"Key",visible:!0}),y(f=k((L=t((h=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))||this).label=null,r(t,"key",L,n(t)),t}i(t,e);var a=t.prototype;return a.onLoad=function(){s||u("zh"),this.fetchRender()},a.fetchRender=function(){var e=this.getComponent("cc.Label");if(e)return this.label=e,void this.updateLabel()},a.updateLabel=function(){this.label&&(this.label.string=p(this.key))},o(t,[{key:"_key",get:function(){return this.key},set:function(e){this.updateLabel(),this.key=e}}]),t}(c)).prototype,"key",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),t(h.prototype,"_key",[b],Object.getOwnPropertyDescriptor(h.prototype,"_key"),h.prototype),f=h))||f)||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizedSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageData.ts"],(function(e){var t,i,r,n,a,o,p,s,c,u,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,r=e.inheritsLoose,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,p=e.SpriteFrame,s=e.Component},function(e){c=e.ready,u=e.init,l=e._language}],execute:function(){var f,h,d,g,y,z,L,m,b,v,S;a._RF.push({},"c05c25C4xNAupWYMB93tIzp","LocalizedSprite",void 0);var F=o.ccclass,_=o.property,w=o.executeInEditMode,D=(f=F("LocalizedSpriteItem"),h=_({type:p}),f((y=t((g=function(){i(this,"language",y,this),i(this,"spriteFrame",z,this)}).prototype,"language",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"zh"}}),z=t(g.prototype,"spriteFrame",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=g))||d);e("LocalizedSprite",(L=F("LocalizedSprite"),m=_({type:D}),L(b=w((S=t((v=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).sprite=null,i(t,"spriteList",S,n(t)),t}r(t,e);var a=t.prototype;return a.onLoad=function(){c||u("zh"),this.fetchRender()},a.fetchRender=function(){var e=this.getComponent("cc.Sprite");if(e)return this.sprite=e,void this.updateSprite()},a.updateSprite=function(){for(var e=0;e<this.spriteList.length;e++){var t=this.spriteList[e];if(t.language===l){this.sprite.spriteFrame=t.spriteFrame;break}}},t}(s)).prototype,"spriteList",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=v))||b)||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Achievements.ts","./AdManager.ts","./ATBannerTSSDK.ts","./ATIntersitialAutoTSSDK.ts","./ATIntersitialTSSDK.ts","./ATJSSDK.ts","./ATNativeTSSDK.ts","./ATRewardedAutoVideoTSSDK.ts","./ATRewardedVideoTSSDK.ts","./ATAndroidBannerTS.ts","./ATAndroidIntersitialAutoTS.ts","./ATAndroidIntersitialTS.ts","./ATAndroidJS.ts","./ATAndroidNativeTS.ts","./ATAndroidRewardedVideoAutoTS.ts","./ATAndroidRewardedVideoTS.ts","./ATiOSBannerTS.ts","./ATiOSIntersitiaAutolTS.ts","./ATiOSIntersitialTS.ts","./ATiOSJS.ts","./ATiOSNativeTS.ts","./ATiOSRewardedAutoVideoTS.ts","./ATiOSRewardedVideoTS.ts","./AudioManager.ts","./BackgroundSlide.ts","./ButtonManager.ts","./DouyinSidebar.ts","./GameManager.ts","./Home.ts","./Joystick.ts","./LevelScene.ts","./RaceTrack.ts","./Shake.ts","./Share.ts","./Snake.ts","./TweenToolbox.ts","./WXRecommend.ts","./UserGuide.ts","./LanguageData.ts","./LocalizedLabel.ts","./LocalizedSprite.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/RaceTrack.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageData.ts","./AudioManager.ts","./TweenToolbox.ts","./AdManager.ts","./LocalizedLabel.ts","./BackgroundSlide.ts","./Achievements.ts"],(function(e){var t,i,n,o,a,r,s,h,l,u,c,d,g,f,p,m,k,b,T,S,w,y,v,P,C,M,B,L,x,I,W,R;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.Node,h=e.Prefab,l=e.Label,u=e.find,c=e.UITransform,d=e.instantiate,g=e.Vec3,f=e.Sprite,p=e.Color,m=e.resources,k=e.AnimationClip,b=e.Animation,T=e.SpriteFrame,S=e.Size,w=e.Layout,y=e.Vec2,v=e.director,P=e.sys,C=e.Component},function(e){M=e.updateSceneRenderers},function(e){B=e.AudioManager},function(e){L=e.TweenToolbox},function(e){x=e.AdManager},function(e){I=e.LocalizedLabel},function(e){W=e.BackgroundSlide},function(e){R=e.Achievements}],execute:function(){var z,A,D,O,F,N,H,E,X,Y,U,G,_,V,Z,j,q,J,K,Q,$,ee,te,ie,ne,oe,ae,re,se,he,le,ue,ce,de,ge,fe,pe,me,ke,be,Te,Se,we,ye,ve,Pe,Ce,Me,Be,Le,xe,Ie,We,Re,ze,Ae,De,Oe,Fe,Ne,He,Ee,Xe,Ye,Ue,Ge,_e,Ve,Ze,je,qe,Je,Ke,Qe,$e;a._RF.push({},"12e1925LR9Im7+LxGMWwdIk","RaceTrack",void 0);var et=r.ccclass,tt=r.property;e("RaceTrack",(z=et("RaceTrack"),A=tt({type:s}),D=tt({type:s}),O=tt({type:s}),F=tt({type:s}),N=tt({type:s}),H=tt({type:s}),E=tt({type:s}),X=tt({type:s}),Y=tt({type:s}),U=tt({type:h}),G=tt({type:h}),_=tt({type:h}),V=tt({type:h}),Z=tt({type:h}),j=tt({type:h}),q=tt({type:h}),J=tt({type:h}),K=tt({type:h}),Q=tt({type:h}),$=tt({type:h}),ee=tt({type:h}),te=tt({type:h}),ie=tt({type:h}),ne=tt({type:h}),oe=tt({type:h}),ae=tt({type:h}),re=tt({type:h}),se=tt({type:h}),he=tt({type:h}),le=tt({type:h}),ue=tt({type:h}),ce=tt({type:h}),de=tt({type:h}),ge=tt({type:h}),fe=tt({type:h}),pe=tt({type:h}),z((be=t((ke=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,n(t,"achievementNotice",be,o(t)),n(t,"resultFruCountLabel",Te,o(t)),n(t,"resultHistoryCountLabel",Se,o(t)),n(t,"lifeCountLabel",we,o(t)),n(t,"fruCountLabel",ye,o(t)),n(t,"goHomeBoard",ve,o(t)),n(t,"challengeBoard",Pe,o(t)),n(t,"messageBoard",Ce,o(t)),n(t,"resultBoard",Me,o(t)),n(t,"tilePrefab",Be,o(t)),n(t,"fruTileForTrackPrefab",Le,o(t)),n(t,"prtTileForTrackPrefab",xe,o(t)),n(t,"startTrackPrefab",Ie,o(t)),n(t,"wayTrackPrefab",We,o(t)),n(t,"crossing1TrackPrefab",Re,o(t)),n(t,"crossing2TrackPrefab",ze,o(t)),n(t,"crossing3TrackPrefab",Ae,o(t)),n(t,"hui1TrackPrefab",De,o(t)),n(t,"hui2TrackPrefab",Oe,o(t)),n(t,"hui3TrackPrefab",Fe,o(t)),n(t,"hui4TrackPrefab",Ne,o(t)),n(t,"hui5TrackPrefab",He,o(t)),n(t,"sideLeft1TrackPrefab",Ee,o(t)),n(t,"sideLeft2TrackPrefab",Xe,o(t)),n(t,"sideLeft3TrackPrefab",Ye,o(t)),n(t,"sideLeft4TrackPrefab",Ue,o(t)),n(t,"sideRight1TrackPrefab",Ge,o(t)),n(t,"sideRight2TrackPrefab",_e,o(t)),n(t,"sideRight3TrackPrefab",Ve,o(t)),n(t,"sideRight4TrackPrefab",Ze,o(t)),n(t,"sideLeftTwist1TrackPrefab",je,o(t)),n(t,"sideLeftTwist2TrackPrefab",qe,o(t)),n(t,"sideLeftTwist3TrackPrefab",Je,o(t)),n(t,"sideRightTwist1TrackPrefab",Ke,o(t)),n(t,"sideRightTwist2TrackPrefab",Qe,o(t)),n(t,"sideRightTwist3TrackPrefab",$e,o(t)),t.fruCount=0,t.timeCount=0,t.theme="green",t.tileWidth=0,t.snake=null,t.startTrack=null,t.triggerDis=100,t.previousDir=null,t.touchStartPos=null,t.trackMoveSpeed=3,t.snakeMoveSpeed=8,t.snakeXSpeed=0,t.snakeYSpeed=0,t.isReady=!1,t.isLifeOut=!1,t.leftTrackNumWaningLine=20,t.trackCreateNumEachTime=100,t.achievementWaitToShowTime=0,t.adManager=null,t.audioManager=null,t.bgSlideComp=null,t}i(t,e);var a=t.prototype;return a.start=function(){this.initComponents(),this.stopBGSlide(),this.checkUserGuide(),this.checkTimeGap(),this.checkLifeCount(),this.setTileWidth(),this.setStartTrack(),this.setSnakeHead(),this.setRestTrack(),this.changeZIndex(),this.showTrafficLight()},a.stopBGSlide=function(){this.bgSlideComp.getComponent(W).setSlideSpeed(0)},a.startBGSlide=function(){this.bgSlideComp.getComponent(W).setSlideSpeed(1),this.bgSlideComp.getComponent(W).setSlideDir("下")},a.checkUserGuide=function(){localStorage.getItem("snake-endless-user-guide")||(this.showMessage("将手指放在屏幕上滑动\n\n通过摇杆控制蛇蛇移动",3.5,"msg"),localStorage.setItem("snake-endless-user-guide","1"))},a.checkTimeGap=function(){var e=(new Date).getTime()/1e3,t=0;localStorage.getItem("snake-time-gap")&&(t=parseFloat(localStorage.getItem("snake-time-gap"))),e-t>36e3&&localStorage.setItem("snake-life-count","10")},a.checkLifeCount=function(){var e=0;localStorage.getItem("snake-life-count")?(e=parseInt(localStorage.getItem("snake-life-count")))<=0&&(this.isLifeOut=!0,this.challengeBoard.active=!0):(localStorage.setItem("snake-life-count","10"),e=10),this.lifeCountLabel.getComponent(l).string="x"+e.toString()},a.initComponents=function(){this.audioManager=u("Audio Manager").getComponent(B),this.audioManager.pause(),this.adManager=u("Ad Manager").getComponent(x),this.adManager.raceTrackManager=this,this.bgSlideComp=u("Canvas").getComponent(W)},a.initTouchEvents=function(){var e=u("Canvas");e.on(s.EventType.TOUCH_START,this.onTouchStart,this),e.on(s.EventType.TOUCH_MOVE,this.onTouchMove,this),e.on(s.EventType.TOUCH_END,this.onTouchEnd,this),e.on(s.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},a.onTouchStart=function(e){this.touchStartPos=e.getUILocation()},a.onTouchMove=function(e){if(this.touchStartPos&&this.isReady){var t=e.getUILocation(),i=t.x-this.touchStartPos.x,n=t.y-this.touchStartPos.y;i>=this.triggerDis&&"R"!=this.previousDir?(this.previousDir="R",this.touchStartPos=t,this.snakeMoveRight()):i<=-this.triggerDis&&"L"!=this.previousDir?(this.previousDir="L",this.touchStartPos=t,this.snakeMoveLeft()):n>=this.triggerDis&&"U"!=this.previousDir?(this.previousDir="U",this.touchStartPos=t,this.snakeMoveUp()):n<=-this.triggerDis&&"D"!=this.previousDir&&(this.previousDir="D",this.touchStartPos=t,this.snakeMoveDown())}},a.onTouchEnd=function(e){this.touchStartPos=null,this.previousDir=null},a.onTouchCancel=function(e){this.touchStartPos=null,this.previousDir=null},a.changeZIndex=function(){u("Canvas/Race Track").setSiblingIndex(6e3),u("Canvas/sna").setSiblingIndex(6e3),u("Canvas/UI").setSiblingIndex(6e3),u("Canvas/Traffic Light Layout").setSiblingIndex(7e3)},a.setTileWidth=function(){this.tileWidth=u("Canvas").getComponent(c).width/8},a.setStartTrack=function(){this.startTrack=d(this.startTrackPrefab),this.changeTrackSize(this.startTrack),this.node.addChild(this.startTrack)},a.setRestTrack=function(){for(var e=[this.wayTrackPrefab,this.crossing1TrackPrefab,this.crossing2TrackPrefab,this.crossing3TrackPrefab,this.hui1TrackPrefab,this.hui2TrackPrefab,this.hui3TrackPrefab,this.hui4TrackPrefab,this.hui5TrackPrefab,this.sideLeft1TrackPrefab,this.sideLeft2TrackPrefab,this.sideLeft3TrackPrefab,this.sideLeft4TrackPrefab,this.sideRight1TrackPrefab,this.sideRight2TrackPrefab,this.sideRight3TrackPrefab,this.sideRight4TrackPrefab,this.sideLeftTwist1TrackPrefab,this.sideLeftTwist2TrackPrefab,this.sideLeftTwist3TrackPrefab,this.sideRightTwist1TrackPrefab,this.sideRightTwist2TrackPrefab,this.sideRightTwist3TrackPrefab],t=0;t<this.trackCreateNumEachTime;t++){var i=e[Math.floor(Math.random()*e.length)],n=d(i);this.changeTrackSize(n),this.putFruitOrPortOnTrack(n);var o=this.node.children[this.node.children.length-1];n.setPosition(0,new g(o.position).y+o.getComponent(c).height,0),this.node.addChild(n)}},a.showTrafficLight=function(){var e=this;if(!this.isLifeOut){this.audioManager.playOneShot(this.audioManager.countDownAudio);var t=u("Canvas/Traffic Light Layout"),i=t.children[0],n=t.children[1],o=t.children[2];this.fadeIn(i,.016,(function(){e.fadeIn(n,.016,(function(){e.fadeIn(o,.02,(function(){t.active=!1,e.audioManager.resume(),e.startBGSlide(),e.isReady=!0}))}))}))}},a.fadeIn=function(e,t,i){var n=this;void 0===i&&(i=null),this.setAlphaToZero(e);this.schedule((function t(){n.increaseAlpha(e),e.getComponent(f).color.a>=255&&(n.unschedule(t),i&&i())}),t)},a.increaseAlpha=function(e){var t=e.getComponent(f).color,i=t.a+5;e.getComponent(f).color=new p(t.r,t.g,t.b,i)},a.setAlphaToZero=function(e){var t=e.getComponent(f).color;e.getComponent(f).color=new p(t.r,t.g,t.b,0)},a.putFruitOrPortOnTrack=function(e){for(var t=0;t<e.children.length;t++){var i=e.children[t];if("flr"==i.name){var n=d(this.fruTileForTrackPrefab);n.getComponent(c).setContentSize(this.tileWidth/2,this.tileWidth/2),n.setPosition(this.tileWidth/4,-this.tileWidth/4,0),n.name="fru",i.addChild(n)}}},a.setSnakeHead=function(){var e=this;this.snake=d(this.tilePrefab),u("Canvas").addChild(this.snake),this.snake.name="sna",m.load("anim/"+this.theme+"/blink",k,(function(t,i){e.snake.addComponent(b).addClip(i,"blink")})),m.load("tile/"+this.theme+"/sna/spriteFrame",T,(function(t,i){e.snake.getComponent(f).spriteFrame=i,e.snake.getComponent(c).setContentSize(e.tileWidth,e.tileWidth),e.snake.setWorldPosition(e.startTrack.getChildByName("flr").getWorldPosition())})),m.load("anim/"+this.theme+"/blink",k,(function(t,i){e.snake.addComponent(b).addClip(i,"blink"),e.blinkRandomly()}))},a.blinkRandomly=function(){var e=this;this.schedule((function(){var t=5*Math.random()+5;e.scheduleOnce((function(){e.blink()}),t)}),5)},a.blink=function(){this.snake.getComponent(b).play("blink")},a.changeTrackSize=function(e){for(var t=0;t<e.children.length;t++)e.children[t].getComponent(c).setContentSize(new S(this.tileWidth,this.tileWidth));var i=e.getComponent(w).constraint,n=e.getComponent(w).constraintNum;1==i?(e.getComponent(c).width=this.tileWidth*(e.children.length/n),e.getComponent(c).height=this.tileWidth*n):2==i&&(e.getComponent(c).width=this.tileWidth*n,e.getComponent(c).height=this.tileWidth*(e.children.length/n))},a.moveTrackDown=function(){var e=this;this.node.setPosition(new g(this.node.position).subtract3f(0,this.trackMoveSpeed,0)),this.node.children.forEach((function(t){t.worldPosition.y<-500&&(t.removeFromParent(),e.node.children.length<=e.leftTrackNumWaningLine&&(e.setRestTrack(),console.log("生成新的赛道")))}))},a.lose=function(){},a.SnakeMove=function(){this.snake.setPosition(new g(this.snake.position).add3f(this.snakeXSpeed,this.snakeYSpeed,0)),this.checkIsSnakeBodyShouldBeGenerated(),this.checkSnakeCollision(),this.preventPenetration()},a.checkSnakeCollision=function(){for(var e=this.snake.getComponent(c).getBoundingBoxToWorld(),t=0;t<this.leftTrackNumWaningLine;t++){var i=this.node.children[t];if("startTrack"!=i.name&&e.intersects(i.getComponent(c).getBoundingBoxToWorld()))for(var n=0;n<i.children.length;n++){var o=i.children[n];if("flr"==o.name){var a=o.children[0];if(a){var r=new y(a.worldPosition.x+a.getComponent(c).width/2,a.worldPosition.y-a.getComponent(c).width/2);e.contains(r)&&"fru"==a.name&&(this.fruCount+=1,a.destroy(),this.audioManager.playOneShot(this.audioManager.eatAudio,1),L.getInstace().showFruNumAddTween(this.fruCountLabel),this.fruCountLabel.getComponent(l).string="x"+this.fruCount.toString())}}}}},a.snakeMoveUp=function(){this.previousDir="U",this.snakeXSpeed=0,this.snakeYSpeed?this.snakeYSpeed=0:this.snakeYSpeed=this.snakeMoveSpeed},a.snakeMoveDown=function(){this.previousDir="D",this.snakeXSpeed=0,this.snakeYSpeed?this.snakeYSpeed=0:this.snakeYSpeed=-this.snakeMoveSpeed},a.snakeMoveLeft=function(){this.previousDir="L",this.snakeXSpeed?this.snakeXSpeed=0:this.snakeXSpeed=-this.snakeMoveSpeed,this.snakeYSpeed=0},a.snakeMoveRight=function(){this.previousDir="R",this.snakeXSpeed?this.snakeXSpeed=0:this.snakeXSpeed=this.snakeMoveSpeed,this.snakeYSpeed=0},a.getSurroundingTiles=function(){for(var e={},t=this.snake.getComponent(c),i=0;i<this.leftTrackNumWaningLine;i++){var n=this.node.children[i];if(t.getBoundingBoxToWorld().intersects(n.getComponent(c).getBoundingBoxToWorld()))for(var o=0;o<n.children.length;o++){var a=n.children[o];if("fru"!=a.name&&"prt"!=a.name&&"transport"!=a.name&&"addInfo"!=a.name){var r=a.worldPosition.x,s=a.worldPosition.y,h=this.snake.worldPosition.x,l=this.snake.worldPosition.y;if(s-l>t.width/2&&s-l<1.5*t.width&&Math.abs(r-h)<t.width/2?e.top=a:s-l<-t.width/2&&s-l>1.5*-t.width&&Math.abs(r-h)<t.width/2?e.bottom=a:r-h<-t.width/2&&r-h>1.5*-t.width&&Math.abs(s-l)<t.width/2?e.left=a:r-h>t.width/2&&r-h<1.5*t.width&&Math.abs(s-l)<t.width/2&&(e.right=a),4==Object.keys(e).length)return e}}}return e},a.preventPenetration=function(){var e=this.getSurroundingTiles();this.snakeXSpeed>0&&e.left&&"flr"==e.left.name?this.snake.setWorldPosition(this.snake.worldPosition.x,e.left.worldPosition.y,0):this.snakeXSpeed<0&&e.right&&"flr"==e.right.name?this.snake.setWorldPosition(this.snake.worldPosition.x,e.right.worldPosition.y,0):this.snakeYSpeed>0&&e.top&&"flr"==e.top.name?this.snake.setWorldPosition(e.top.worldPosition.x,this.snake.worldPosition.y,0):this.snakeYSpeed<0&&e.bottom&&"flr"==e.bottom.name&&this.snake.setWorldPosition(e.bottom.worldPosition.x,this.snake.worldPosition.y,0),this.snakeXSpeed>0&&e.right&&"flr"!=e.right.name&&this.snake.getComponent(c).getBoundingBoxToWorld().intersects(e.right.getComponent(c).getBoundingBoxToWorld())?(this.snakeXSpeed=0,this.snake.setWorldPosition(new g(e.right.worldPosition).subtract3f(this.snake.getComponent(c).width,0,0)),this.audioManager.playOneShot(this.audioManager.bounceAudio)):this.snakeXSpeed<0&&e.left&&"flr"!=e.left.name&&this.snake.getComponent(c).getBoundingBoxToWorld().intersects(e.left.getComponent(c).getBoundingBoxToWorld())?(this.snakeXSpeed=0,this.snake.setWorldPosition(new g(e.left.worldPosition).add3f(this.snake.getComponent(c).width,0,0)),this.audioManager.playOneShot(this.audioManager.bounceAudio)):this.snakeYSpeed>0&&e.top&&"flr"!=e.top.name&&this.snake.getComponent(c).getBoundingBoxToWorld().intersects(e.top.getComponent(c).getBoundingBoxToWorld())?(this.snakeYSpeed=0,this.snake.setWorldPosition(new g(e.top.worldPosition).subtract3f(0,this.snake.getComponent(c).width,0)),this.audioManager.playOneShot(this.audioManager.bounceAudio)):this.snakeYSpeed<0&&e.bottom&&"flr"!=e.bottom.name&&this.snake.getComponent(c).getBoundingBoxToWorld().intersects(e.bottom.getComponent(c).getBoundingBoxToWorld())?(this.snakeYSpeed=0,this.snake.setWorldPosition(new g(e.bottom.worldPosition).add3f(0,this.snake.getComponent(c).width,0)),this.audioManager.playOneShot(this.audioManager.bounceAudio)):0==this.snakeYSpeed&&this.snake.setWorldPosition(this.snake.worldPosition.x,new g(e.top.worldPosition).y-this.snake.getComponent(c).width,0)},a.checkIsSnakeBodyShouldBeGenerated=function(){for(var e=this.snake.getComponent(c),t=0;t<this.node.children.length;t++){var i=this.node.children[t];if(e.getBoundingBoxToWorld().intersects(i.getComponent(c).getBoundingBoxToWorld()))for(var n=0;n<i.children.length;n++){var o=i.children[n];if("flr"==o.name){var a=o.getComponent(c).getBoundingBoxToWorld(),r=e.getBoundingBoxToWorld(),s=a.width/5;this.snakeXSpeed>0?r.contains(new y(a.xMax-s,a.y+s))&&r.contains(new y(a.xMax-s,a.yMax-s))&&this.changeFlrToBody(o):this.snakeXSpeed<0?r.contains(new y(a.x+s,a.y+s))&&r.contains(new y(a.x+s,a.yMax-s))&&this.changeFlrToBody(o):this.snakeYSpeed>0?r.contains(new y(a.x+s,a.yMax-s))&&r.contains(new y(a.xMax-s,a.yMax-s))&&this.changeFlrToBody(o):this.snakeYSpeed<0&&r.contains(new y(a.x+s,a.y+s))&&r.contains(new y(a.xMax-s,a.y+s))&&this.changeFlrToBody(o)}}}},a.changeFlrToBody=function(e){e.name="body","green"==this.theme?e.getComponent(f).color=(new p).fromHEX("6abe30"):"blue"==this.theme&&(e.getComponent(f).color=(new p).fromHEX("4b97ff"))},a.checkIsLost=function(){if(this.snake.position.y<-u("Canvas").getComponent(c).height/2-200)this.showLostPage();else if(0==this.snakeXSpeed&&0==this.snakeYSpeed){var e=this.getSurroundingTiles();4==Object.keys(e).length&&"flr"!=e.top.name&&"flr"!=e.bottom.name&&"flr"!=e.left.name&&"flr"!=e.right.name&&this.showLostPage()}},a.showLostPage=function(){this.isReady=!1,this.stopBGSlide(),u("Canvas/UI/Home Button").active=!1;var e=parseInt(localStorage.getItem("snake-life-count"));e-=1,localStorage.setItem("snake-life-count",e.toString()),this.lifeCountLabel.getComponent(l).string="x"+e.toString();var t=(new Date).getTime()/1e3;localStorage.setItem("snake-time-gap",t.toString()),this.resultBoard.active=!0,this.resultBoard.setSiblingIndex(8e3),L.getInstace().showStampTween(this.resultBoard),this.audioManager.playOneShot(this.audioManager.stampAudio),this.updateHistoryFruNum(),this.resultFruCountLabel.getComponent(l).string=this.fruCount.toString(),this.resultHistoryCountLabel.getComponent(l).string=localStorage.getItem("snake-endless-history")},a.updateHistoryFruNum=function(){if(localStorage.getItem("snake-endless-history")){var e=parseInt(localStorage.getItem("snake-endless-history"));this.fruCount>e&&localStorage.setItem("snake-endless-history",this.fruCount.toString())}else localStorage.setItem("snake-endless-history",this.fruCount.toString())},a.checkIsShouldSpeedUp=function(e){if(this.timeCount+=e,this.timeCount>=10&&Math.trunc(this.timeCount)%10==0&&this.trackMoveSpeed<=15){this.trackMoveSpeed+=.3,this.snakeMoveSpeed+=.3,this.timeCount+=1;var t=this.bgSlideComp.getSlideSpeed();this.bgSlideComp.setSlideSpeed(t+.3)}},a.showGoHomeBoard=function(){this.audioManager.playOneShot(this.audioManager.buttonAudio),this.goHomeBoard.active=!0},a.hideGoHomeBoard=function(){this.audioManager.playOneShot(this.audioManager.cancelAudio),this.goHomeBoard.active=!1},a.goHome=function(){this.audioManager.playOneShot(this.audioManager.buttonAudio),v.loadScene("Home")},a.showMessage=function(e,t,i){void 0===t&&(t=1),void 0===i&&(i="key"),this.messageBoard.active=!0,this.messageBoard.setSiblingIndex(1e4),"key"==i?(this.messageBoard.children[0].getComponent(I).key=e,this.messageBoard.children[0].getComponent(l).string="",M()):(this.messageBoard.children[0].getComponent(I).key="",this.messageBoard.children[0].getComponent(l).string=e),L.getInstace().showMesageBoardTween(this.messageBoard),this.unschedule(this.hideMessage),-1!=t&&this.scheduleOnce(this.hideMessage,t)},a.hideMessage=function(){var e=this;L.getInstace().hideMesageBoardTween(this.messageBoard,(function(){e.messageBoard.active=!1}))},a.replay=function(){this.audioManager.playOneShot(this.audioManager.buttonAudio),v.loadScene("Infinite")},a.restoreChallenge=function(){var e=this;this.audioManager.playOneShot(this.audioManager.buttonAudio),this.adManager.gameBoxAd?this.adManager.showGameBoxVideoAd():P.platform==P.Platform.WECHAT_GAME?this.adManager.showWxVideoAd((function(){e.showMessage("adPlayError",1)})):P.platform==P.Platform.BYTEDANCE_MINI_GAME?this.adManager.showTtVideoAd((function(){e.showMessage("adPlayError",1)})):P.platform==P.Platform.ANDROID?(this.adManager.loadTakuVideoAd(),setTimeout((function(){e.adManager.showTakuVideoAd()}),2e3)):this.showMessage("adNotReady",1),this.challengeBoard.active=!1},a.showTheAchieved=function(e){var t=this;if(0==this.achievementWaitToShowTime){this.scheduleOnce((function i(){t.achievementWaitToShowTime+=1.5;var n=e.shift();m.load("achievement/"+n.id+"/spriteFrame",T,(function(e,i){t.achievementNotice.getChildByName("Sprite").getComponent(f).spriteFrame=i,t.achievementNotice.getChildByName("Label").getComponent(l).string=n.name})),t.audioManager.playOneShot(t.audioManager.achieveAudio),L.getInstace().showFromLeftSide(t.achievementNotice,(function(){e.length?t.scheduleOnce(i,t.achievementWaitToShowTime):t.achievementWaitToShowTime=0}))}),this.achievementWaitToShowTime)}else this.scheduleOnce((function(){t.showTheAchieved(e)}),this.achievementWaitToShowTime)},a.update=function(e){this.isReady&&(this.moveTrackDown(),this.SnakeMove(),this.checkIsLost(),this.checkIsShouldSpeedUp(e),R.getInstace().checkInfiniteAchievements(this))},t}(C)).prototype,"achievementNotice",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=t(ke.prototype,"resultFruCountLabel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=t(ke.prototype,"resultHistoryCountLabel",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=t(ke.prototype,"lifeCountLabel",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t(ke.prototype,"fruCountLabel",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=t(ke.prototype,"goHomeBoard",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=t(ke.prototype,"challengeBoard",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=t(ke.prototype,"messageBoard",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=t(ke.prototype,"resultBoard",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=t(ke.prototype,"tilePrefab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=t(ke.prototype,"fruTileForTrackPrefab",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=t(ke.prototype,"prtTileForTrackPrefab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=t(ke.prototype,"startTrackPrefab",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=t(ke.prototype,"wayTrackPrefab",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=t(ke.prototype,"crossing1TrackPrefab",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=t(ke.prototype,"crossing2TrackPrefab",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=t(ke.prototype,"crossing3TrackPrefab",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=t(ke.prototype,"hui1TrackPrefab",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=t(ke.prototype,"hui2TrackPrefab",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=t(ke.prototype,"hui3TrackPrefab",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=t(ke.prototype,"hui4TrackPrefab",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=t(ke.prototype,"hui5TrackPrefab",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=t(ke.prototype,"sideLeft1TrackPrefab",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xe=t(ke.prototype,"sideLeft2TrackPrefab",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ye=t(ke.prototype,"sideLeft3TrackPrefab",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ue=t(ke.prototype,"sideLeft4TrackPrefab",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=t(ke.prototype,"sideRight1TrackPrefab",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=t(ke.prototype,"sideRight2TrackPrefab",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ve=t(ke.prototype,"sideRight3TrackPrefab",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ze=t(ke.prototype,"sideRight4TrackPrefab",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je=t(ke.prototype,"sideLeftTwist1TrackPrefab",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qe=t(ke.prototype,"sideLeftTwist2TrackPrefab",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Je=t(ke.prototype,"sideLeftTwist3TrackPrefab",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ke=t(ke.prototype,"sideRightTwist1TrackPrefab",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qe=t(ke.prototype,"sideRightTwist2TrackPrefab",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$e=t(ke.prototype,"sideRightTwist3TrackPrefab",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=ke))||me));a._RF.pop()}}}));

System.register("chunks:///_virtual/Shake.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var i,t,e,o,s,a,r;return{setters:[function(n){i=n.inheritsLoose},function(n){t=n.cclegacy,e=n._decorator,o=n.Vec3,s=n.Tween,a=n.sys,r=n.Component}],execute:function(){var h,p;t._RF.push({},"1964955lYlNu7dOf7tOctPj","Shake",void 0);var w=e.ccclass,u=window.wx,d=window.tt;n("Shake",w("Shake")(((p=function(n){function t(){for(var i,t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return(i=n.call.apply(n,[this].concat(e))||this).originalPos=new o,i.shakeXTween=new s,i.shakeYTween=new s,i.shakeXYTween=new s,i}i(t,n);var e=t.prototype;return e.start=function(){},t.getInstace=function(){return null==this._instance&&(this._instance=new t),this._instance},e.shakeX=function(n,i,t,e){var a=this;this.shakeXTween=new s(n).to(i/7,{position:new o(n.position).add3f(t+1,0,0)},{easing:"sineInOut"}).call((function(){n.setPosition(a.originalPos)})).union(),-1==e?this.shakeXTween.repeatForever().start():this.shakeXTween.repeat(e).start()},e.shakeY=function(n,i,t,e){var a=this;this.shakeYTween=new s(n).to(i/7,{position:new o(n.position).add3f(0,t+1,0)},{easing:"sineInOut"}).call((function(){n.setPosition(a.originalPos)})).union(),-1==e?this.shakeYTween.repeatForever().start():this.shakeYTween.repeat(e).start()},e.shakeXY=function(n,i,t,e){var a=this;void 0===e&&(e=1),this.shakeXYTween=new s(n).to(i/14,{position:new o(n.position).add3f(t+1,0,0)},{easing:"sineInOut"}).to(i/14,{position:new o(n.position).add3f(0,t+1,0)},{easing:"sineInOut"}).to(i/14,{position:new o(n.position).add3f(0,2*-t-2,0)},{easing:"sineInOut"}).to(i/14,{position:new o(n.position).add3f(2*-t-2,0,0)},{easing:"sineInOut"}).to(i/14,{position:new o(n.position).add3f(3*t+3,0,0)},{easing:"sineInOut"}).to(i/14,{position:new o(n.position).add3f(0,3*t+3,0)},{easing:"sineInOut"}).to(i/14,{position:new o(n.position).add3f(0,4*-t-4,0)},{easing:"sineInOut"}).to(i/14,{position:new o(n.position).add3f(4*-t-4,0,0)},{easing:"sineInOut"}).to(i/14,{position:new o(n.position).add3f(0,3*t+3,0)},{easing:"sineInOut"}).to(i/14,{position:new o(n.position).add3f(3*t+3,0,0)},{easing:"sineInOut"}).to(i/14,{position:new o(n.position).add3f(0,2*-t-2,0)},{easing:"sineInOut"}).to(i/14,{position:new o(n.position).add3f(2*-t-2,0,0)},{easing:"sineInOut"}).to(i/14,{position:new o(n.position).add3f(0,t+1,0)},{easing:"sineInOut"}).to(i/14,{position:new o(n.position).add3f(t+1,0,0)},{easing:"sineInOut"}).call((function(){n.setPosition(a.originalPos)})).union(),-1==e?this.shakeXYTween.repeatForever().start():this.shakeXYTween.repeat(e).start()},e.shake=function(n,i,t,e,s){void 0===i&&(i=.5),void 0===t&&(t=5),void 0===e&&(e=1),void 0===s&&(s="x"),JSON.parse(localStorage.getItem("snake-settings")).shakeEffect&&(this.originalPos=new o(n.position),"x"==s.toLowerCase()?this.shakeX(n,i,t,e):"y"==s.toLowerCase()?this.shakeY(n,i,t,e):"xy"==s.toLowerCase()&&this.shakeXY(n,i,t,e),a.platform==a.Platform.WECHAT_GAME?u.vibrateShort():a.platform==a.Platform.BYTEDANCE_MINI_GAME&&d.vibrateShort())},e.stopShaking=function(){this.shakeXTween.stop(),this.shakeYTween.stop(),this.node.setPosition(this.originalPos)},t}(r))._instance=null,h=p))||h);t._RF.pop()}}}));

System.register("chunks:///_virtual/Share.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,o;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy,n=e._decorator,o=e.Component}],execute:function(){var a;r._RF.push({},"16b9bw/KO5OiaM6hRvCM2Xr","Share",void 0);var s=n.ccclass,i=["来玩玩不一样的贪吃蛇~","你能通过这一关吗？","可爱小蛇，等你来玩！","这一关有点东西","终于到100关了。。。","快乐小蛇，超爽游玩体验！"],h=window.wx,c=window.gamebox;h&&!c&&(h.showShareMenu(),h.onShareAppMessage((function(){return{title:i[Math.floor(Math.random()*i.length)]}})));e("Share",s("Share")(a=function(e){function r(){return e.apply(this,arguments)||this}t(r,e);var n=r.prototype;return n.start=function(){},n.share=function(){h&&!c&&h.shareAppMessage({title:i[Math.floor(Math.random()*i.length)]})},r}(o))||a);r._RF.pop()}}}));

System.register("chunks:///_virtual/Snake.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./AudioManager.ts","./LevelScene.ts"],(function(e){var n,t,o,i,a,r,s,d,u,c,l,p,h,v;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,i=e.find,a=e.UITransform,r=e.Vec3,s=e.Animation,d=e.resources,u=e.Prefab,c=e.instantiate,l=e.Component},function(e){p=e.GameManager},function(e){h=e.AudioManager},function(e){v=e.LevelScene}],execute:function(){var m;t._RF.push({},"d6896lqrV5MGI0V+m9YS28W","Snake",void 0);var f=o.ccclass;o.property,e("Snake",f("Snake")(m=function(e){function t(){for(var n,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(n=e.call.apply(e,[this].concat(o))||this).xSpeed=0,n.ySpeed=0,n.maxSpeed=25,n.previousDir=null,n.isSnakeMoved=!1,n.previousDirForSkin=null,n.isTransportFinished=!0,n.gameManager=new p,n.snakeUITransform=null,n.audioManager=null,n}n(t,e);var o=t.prototype;return o.start=function(){this.initComponents(),this.blinkRandomly()},o.initComponents=function(){this.gameManager=i("Canvas").getComponent(p),this.snakeUITransform=this.node.getComponent(a),this.audioManager=i("Audio Manager").getComponent(h)},o.onCollision=function(){var e=this,n=i("Canvas/Level Scene");if(n&&this.gameManager.isLevelSceneOK)for(var t,o=n.children,s=function(){var t=o[l].name;if("fru"==t){var i=o[l].getComponent(a);if(e.snakeUITransform.getBoundingBox().intersects(i.getBoundingBox()))return e.gameManager.showAddInfo(new r(o[l].position).add3f(i.width/2,-i.height/2,0)),o[l].removeFromParent(),e.audioManager.playOneShot(e.audioManager.eatAudio,1),{v:void 0}}else if("prt"==t){var s=o[l].getComponent(a);if(e.snakeUITransform.getBoundingBox().intersects(s.getBoundingBox())){e.isTransportFinished=!1;var p=e.snakeUITransform.width,h=new r(o[l].position).subtract3f(p/4,-p/4,0),m="";e.xSpeed>0?m="R":e.xSpeed<0?m="L":e.ySpeed>0?m="U":e.ySpeed<0&&(m="D"),n.getComponent(v).spawnSnakeBodyTile(h,e.previousDirForSkin,m,p),o[l].removeFromParent(),e.audioManager.playOneShot(e.audioManager.transportAudio,.8),d.load("prefab/transport",u,(function(t,o){var i=c(o);i.getComponent(a).setContentSize(p,p),i.setPosition(new r(h).subtract3f(-p/2,p/2,0)),n.addChild(i),e.scheduleOnce((function(){i.removeFromParent()}),1)})),e.xSpeed=0,e.ySpeed=0,e.previousDirForSkin=null,e.scheduleOnce((function(){e.isSnakeMoved=!1,e.previousDir=null}),.5);var f=e.getTargetTile("prt"),g=new r(f.position).subtract3f(p/4,-p/4,0);return e.node.setPosition(g),f.removeFromParent(),e.isTransportFinished=!0,{v:void 0}}}},l=0;l<o.length;l++)if(t=s())return t.v},o.getTargetTile=function(e){for(var n=i("Canvas/Level Scene"),t=0;t<n.children.length;t++){var o=n.children[t];if(o.name==e)return o}},o.moving=function(){this.xSpeed?this.node.setPosition(new r(this.node.position).add3f(this.xSpeed,0,0)):this.ySpeed&&this.node.setPosition(new r(this.node.position).add3f(0,this.ySpeed,0))},o.moveRight=function(){this.xSpeed=this.maxSpeed,this.addMoveCount()},o.moveLeft=function(){this.xSpeed=-this.maxSpeed,this.addMoveCount()},o.moveUp=function(){this.ySpeed=this.maxSpeed,this.addMoveCount()},o.moveDown=function(){this.ySpeed=-this.maxSpeed,this.addMoveCount()},o.blinkRandomly=function(){var e=this;this.schedule((function(){var n=5*Math.random()+5;e.scheduleOnce((function(){e.blink()}),n)}),5)},o.blink=function(){this.node.getComponent(s).play("blink")},o.addMoveCount=function(){if(localStorage.getItem("snake-achievement-move-count")){var e=parseInt(localStorage.getItem("snake-achievement-move-count"));localStorage.setItem("snake-achievement-move-count",(e+1).toString())}else localStorage.setItem("snake-achievement-move-count","1")},o.update=function(e){this.onCollision(),this.moving()},t}(l))||m);t._RF.pop()}}}));

System.register("chunks:///_virtual/TweenToolbox.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e,o,i,s,c,a,l;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,o=n._decorator,i=n.tween,s=n.Vec3,c=n.find,a=n.UITransform,l=n.Component}],execute:function(){var u,r;e._RF.push({},"d1df7YVXgFOlJI22+PJZcqb","TweenToolbox",void 0);var w=o.ccclass;o.property,n("TweenToolbox",w("TweenToolbox")(((r=function(n){function e(){return n.apply(this,arguments)||this}t(e,n);var o=e.prototype;return o.start=function(){},e.getInstace=function(){return null==this._instance&&(this._instance=new e),this._instance},o.showStampTween=function(n,t){void 0===t&&(t=null),n.setScale(5,5,1),i(n).to(.25,{scale:new s(1,1,1)}).delay(.5).call((function(){t&&t()})).start()},o.showMesageBoardTween=function(n,t){void 0===t&&(t=null),n.setScale(1,0,1),i(n).to(.05,{scale:new s(1,1,0)}).call((function(){t&&t()})).start()},o.hideMesageBoardTween=function(n,t){void 0===t&&(t=null),i(n).to(.08,{scale:new s(1,0,0)}).call((function(){t&&t()})).start()},o.showFruNumAddTween=function(n,t){void 0===t&&(t=null),n.setScale(1.2,1.2,1),i(n).to(.05,{scale:new s(1,1,0)}).call((function(){t&&t()})).start()},o.showFromLeftSide=function(n,t){void 0===t&&(t=null);var e=c("Canvas").getComponent(a).width,o=n.getComponent(a).width,l=new s(-e/2-o,n.position.y,0);i(n).to(.4,{position:new s(-e/2+o/1.5,l.y,0)},{easing:"sineInOut"}).delay(1).to(.2,{position:l}).delay(.2).call((function(){t&&t()})).start()},o.showAddTimeTween=function(n,t){n.active=!0;var e=new s(n.position);i(n).by(.8,{position:new s(0,100,0)},{easing:"sineInOut"}).call((function(){n.setPosition(e),n.active=!1})).start()},o.update=function(n){},e}(l))._instance=null,u=r))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/UserGuide.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,n,o,s,d,g,a,h,u,r,p,T,S,l,c,N,m,f,x,y;return{setters:[function(e){i=e.inheritsLoose},function(e){t=e.cclegacy,n=e._decorator,o=e.UITransform,s=e.Node,d=e.Mask,g=e.BlockInputEvents,a=e.Sprite,h=e.Color,u=e.resources,r=e.SpriteFrame,p=e.Texture2D,T=e.Label,S=e.Vec3,l=e.find,c=e.tween,N=e.Font,m=e.input,f=e.Input,x=e.Quat,y=e.Component}],execute:function(){var v;t._RF.push({},"0be78T/tNlCFaJ362ZSi2s+","UserGuide",void 0);var w=n.ccclass;e("UserGuide",w("UserGuide")(v=function(e){function t(){for(var i,t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return(i=e.call.apply(e,[this].concat(n))||this).currentStepTemp=1,i.textPosTemp="follow",i.keyDownInterval=1.5,i.isTyping=!1,i.typingInterval=.05,i.guideSignRotation=new S(0,0,90),i.scheduleCount=0,i.guideTextTemp="",i.isGuideSignTweenEnabled=!1,i.guideSignTween=null,i.isGudieSignFlying=!1,i.guideSignFlyingTween=null,i.flyingTweenDuration=.3,i.isFlyingFinised=!0,i.guideSignTweenType="",i.guideSignSlideTweenData={slideDistance:null,slideTime:.5},i.isGuidedByGroup=!1,i.stepIndexInArray=0,i.currentStepArrayTemp=[],i.setMaskAndGuideSpritePosAndSizeScheduleCallBack=null,i.guideData={nodesAndTexts:[{nodeUUID:"783W+eB+hLEqGlDtJ8+pxC",path:"Canvas/Level Scene",key:"",guideText:"滑动蛇蛇让它吃到所有食物",guideEnText:"",guideType:"touch",isDynamic:!1,isAliased:!1,alias:""}],guideSignType:"hand"},i.guideTextLang="zh",i.canvasUITransform=new o,i.maskNode=null,i.blockBgNode=null,i.guideSignSpriteNode=null,i.guideSignPosTemp=null,i.guideTextBgSpriteNode=null,i.guideTextLabelNode=null,i.isGuideMandatory=!0,i.isGuideSignSetHidden=!1,i.isGuideTextSetHidden=!1,i}i(t,e);var n=t.prototype;return n.onLoad=function(){this.canvasUITransform=this.node.getComponent(o),this.createNodes()},n.start=function(){},n.createNodes=function(){this.createMaskNode(),this.createBlockBgNode(),this.createGuideSignSpriteNode(),this.createGuideTextBgSpriteNode(),this.createGuideTextLabelNode()},n.createMaskNode=function(){this.maskNode=new s("Mask Node"),this.maskNode.layer=1<<25,this.maskNode.active=!1,this.maskNode.addComponent(o),this.maskNode.addComponent(d),this.node.addChild(this.maskNode)},n.createBlockBgNode=function(){var e=this;this.blockBgNode=new s("Block Bg Node"),this.blockBgNode.layer=1<<25,this.blockBgNode.addComponent(g);var i=this.blockBgNode.addComponent(a);i.color=new h(0,0,0,100);var t=this;u.load("user-guide/default_btn_normal/spriteFrame",r,(function(n,s){i.spriteFrame=s,t.blockBgNode.getComponent(o).width=10*e.canvasUITransform.width,t.blockBgNode.getComponent(o).height=10*e.canvasUITransform.height})),u.load("user-guide/default_btn_normal/texture",p,(function(n,s){var d=new r;d.texture=s,i.spriteFrame=d,t.blockBgNode.getComponent(o).width=10*e.canvasUITransform.width,t.blockBgNode.getComponent(o).height=10*e.canvasUITransform.height})),this.maskNode.addChild(this.blockBgNode)},n.createGuideSignSpriteNode=function(){this.guideSignSpriteNode=new s("Guide Sign Sprite Node"),this.guideSignSpriteNode.layer=1<<25,this.guideSignSpriteNode.active=!1;var e=this,i=this.guideSignSpriteNode.addComponent(a);"frame"==this.guideData.guideSignType&&(i.type=a.Type.SLICED),u.load("user-guide/guideSign/spriteFrame",r,(function(t,n){i.spriteFrame=n,"frame"==e.guideData.guideSignType&&e.guideSignSpriteNode.getComponent(o).setContentSize(1.1*e.maskNode.getComponent(o).width,1.1*e.maskNode.getComponent(o).height)})),u.load("user-guide/guideSign/texture",p,(function(t,n){var s=new r;s.texture=n,i.spriteFrame=s,"frame"==e.guideData.guideSignType&&e.guideSignSpriteNode.getComponent(o).setContentSize(1.1*e.maskNode.getComponent(o).width,1.1*e.maskNode.getComponent(o).height)})),this.node.addChild(this.guideSignSpriteNode)},n.createGuideTextBgSpriteNode=function(){this.guideTextBgSpriteNode=new s("Text Bg Sprite Node"),this.guideTextBgSpriteNode.layer=1<<25,this.guideTextBgSpriteNode.active=!1;var e=this,i=this.guideTextBgSpriteNode.addComponent(a);i.type=a.Type.SLICED,u.load("user-guide/textBg/spriteFrame",r,(function(t,n){i.spriteFrame=n,"bottom"==e.textPosTemp?e.setGuideTextBgSpriteSizeByCanvasSize():e.setGuideTextBgSpriteSizeByTextLength()})),u.load("user-guide/textBg/texture",p,(function(t,n){var o=new r;o.texture=n,i.spriteFrame=o,"bottom"==e.textPosTemp?e.setGuideTextBgSpriteSizeByCanvasSize():e.setGuideTextBgSpriteSizeByTextLength()})),this.node.addChild(this.guideTextBgSpriteNode)},n.createGuideTextLabelNode=function(){this.guideTextLabelNode=new s("Guide Text Label Node"),this.guideTextLabelNode.layer=1<<25;var e=this.guideTextLabelNode.addComponent(T);e.horizontalAlign=T.HorizontalAlign.LEFT,e.verticalAlign=T.VerticalAlign.TOP,e.overflow=T.Overflow.SHRINK,e.color=new h(0,0,0),e.fontSize=28,this.guideTextBgSpriteNode.addChild(this.guideTextLabelNode),this.guideTextLabelNode.setPosition(0,-5,0)},n.hideGuide=function(){this.maskNode.active=!1,this.guideSignSpriteNode.active=!1,this.guideTextBgSpriteNode.active=!1},n.getMaskNode=function(){return this.maskNode},n.getGuideSignNode=function(){return this.guideSignSpriteNode},n.getGuideTextBackgroundNode=function(){return this.guideTextBgSpriteNode},n.getGuideTextLabelNode=function(){return this.guideTextLabelNode},n.slideGuideSign=function(e,i){void 0===i&&(i=2),"hand"!=this.guideData.guideSignType&&"arrow"!=this.guideData.guideSignType||(this.isGuideSignTweenEnabled=!0,this.guideSignTweenType="slide",this.guideSignSlideTweenData={slideDistance:e,slideTime:i})},n.setGuideSignFly=function(e){void 0===e&&(e=!1),this.isGudieSignFlying=e},n.setGuideSignFlyingDuration=function(e){void 0===e&&(e=.3),this.flyingTweenDuration=e},n.makeGuideSignMoveUpAndDown=function(){"hand"!=this.guideData.guideSignType&&"arrow"!=this.guideData.guideSignType||(this.isGuideSignTweenEnabled=!0,this.guideSignTweenType="updown")},n.setGuideSignRotation=function(e){void 0===e&&(e=new S(0,0,90)),"hand"!=this.guideData.guideSignType&&"arrow"!=this.guideData.guideSignType||(this.guideSignRotation=e)},n.setGuideSignPos=function(e){this.guideSignPosTemp=e},n.replaceGuideSignNodeWithCustomNode=function(e){var i=l(e);return i?i.parent!=this.node?(console.log("请确保该自定义节点的父节点为画布。"),void console.log("Please make sure the parent of this custom node is the canvas node.")):(this.guideSignSpriteNode=i,this.guideData.guideSignType="hand",void this.setGuideSignRotation(new S(0,0,0))):(console.log("没有找到该自定义节点，请确保路径正确。"),void console.log("Couldn't find the custom node. Please make sure the path is correct."))},n.startGuideSignTween=function(){this.guideSignTween&&this.guideSignTween.stop(),"slide"==this.guideSignTweenType?this.initGuideSignSlideTween():"updown"==this.guideSignTweenType&&this.initGuideSignUpDownTween(),this.guideSignTween.start()},n.initGuideSignSlideTween=function(){var e=this.guideSignSlideTweenData.slideTime,i=this.guideSignSlideTweenData.slideDistance;this.guideSignTween=c(this.guideSignSpriteNode).by(e,{position:i}).by(e/5,{position:new S(-i.x,-i.y,-i.z)}).union().repeatForever()},n.initGuideSignUpDownTween=function(){this.guideSignTween=c(this.guideSignSpriteNode).by(.5,{position:new S(0,-10,0)}).by(.5,{position:new S(0,10,0)}).union().repeatForever()},n.stopGuideSignTween=function(){this.guideSignTween&&(this.isGuideSignTweenEnabled=!1,this.guideSignTween.stop(),this.guideSignTween=null,this.guideSignTweenType="",this.guideSignSlideTweenData={slideDistance:null,slideTime:.5})},n.setGuideSignScale=function(e,i){this.guideSignSpriteNode.setScale(e,i,0)},n.setGuideTextColor=function(e){this.guideTextLabelNode.getComponent(T).color=e},n.setGuideTextFontSize=function(e){this.guideTextLabelNode.getComponent(T).fontSize=e},n.setGuideTextSystemFont=function(e){this.guideTextLabelNode.getComponent(T).useSystemFont=!0,this.guideTextLabelNode.getComponent(T).fontFamily=e},n.setGuideTextCustomFont=function(e){var i=this;this.guideTextLabelNode.getComponent(T).useSystemFont=!1,u.load(e,N,(function(e,t){i.guideTextLabelNode.getComponent(T).font=t}))},n.setGuideTextLineHeight=function(e){this.guideTextLabelNode.getComponent(T).lineHeight=e},n.setGuideTextPos=function(e){void 0===e&&(e="follow"),this.textPosTemp=e},n.setGuideTextLang=function(e){void 0===e&&(e="zh"),this.guideTextLang=e},n.setGuideTextBackgroundScale=function(e,i){this.guideTextBgSpriteNode.setScale(e,i,0),this.guideTextLabelNode.setScale(1/e,1/i,0),this.guideTextLabelNode.getComponent(o).setContentSize(this.guideTextBgSpriteNode.getComponent(o).width*e/1.1,this.guideTextBgSpriteNode.getComponent(o).height*i/1.1)},n.setMaskColor=function(e){this.blockBgNode.getComponent(a).color=e},n.setMaskShape=function(e,i){void 0===i&&(i=null),"rect"==e?this.maskNode.getComponent(d).type=d.Type.GRAPHICS_RECT:"ellipse"==e?this.maskNode.getComponent(d).type=d.Type.GRAPHICS_ELLIPSE:"sprite stencil"==e&&i&&(this.maskNode.getComponent(d).type=d.Type.SPRITE_STENCIL,this.maskNode.getComponent(a).spriteFrame=i)},n.setKeyDownInterval=function(e){this.keyDownInterval=e},n.setTypingEnabled=function(e){this.isTyping=e},n.setTypingInterval=function(e){void 0===e&&(e=.05),this.typingInterval=e},n.setGuideMandatory=function(e){void 0===e&&(e=!0),this.isGuideMandatory=e},n.hideGuideSign=function(){this.guideSignSpriteNode.active=!1,this.isGuideSignSetHidden=!0},n.showGuideSign=function(){this.guideSignSpriteNode.active=!0,this.isGuideSignSetHidden=!1},n.hideGuideText=function(){this.guideTextBgSpriteNode.active=!1,this.isGuideTextSetHidden=!0},n.showGuideText=function(){this.guideTextBgSpriteNode.active=!0,this.isGuideTextSetHidden=!1},n.showGuideByGroup=function(e,i){void 0===i&&(i=null),e.length&&(this.isGuidedByGroup=!0,this.currentStepArrayTemp=e,this.showGuide(e[this.stepIndexInArray],!0,i))},n.showGuide=function(e,i,t){if(void 0===i&&(i=!1),void 0===t&&(t=null),!e)return console.log("请设置参数step的值。"),void console.log("Please set parameter step's value.");if("string"==typeof e){var n=e;if(0==(e=this.changeAliasToIndex(e)))return console.log("step名称"+n+"不存在。"),void console.log("The step alias "+n+" does not exist.")}if(e>this.guideData.nodesAndTexts.length)return this.isGuideSignTweenEnabled&&this.stopGuideSignTween(),void(i&&t&&t());if(this.guideData.nodesAndTexts[e-1].path||this.guideData.nodesAndTexts[e-1].key)if(this.currentStepTemp=e,"touch"==this.guideData.nodesAndTexts[e-1].guideType){var o=this.guideData.nodesAndTexts[e-1].path;if(!o)return console.error("未找到uuid为"+this.guideData.nodesAndTexts[e-1].nodeUUID+"的节点"),void console.error("Can't find the node whose uuid is "+this.guideData.nodesAndTexts[e-1].nodeUUID);var s=l(o);this.showNodeAndTextGuide(s,e,i,t)}else{var d=this.guideData.nodesAndTexts[e-1].key.split("+");this.showKeyAndTextGuide(d,e,i,t)}else this.showOnlyTextGuide(e,i,t)},n.changeAliasToIndex=function(e){for(var i=0;i<this.guideData.nodesAndTexts.length;i++)if(this.guideData.nodesAndTexts[i].alias==e)return i+1;return 0},n.goToNextGuide=function(e,i,t){void 0===t&&(t=null),this.isGuidedByGroup?(this.stepIndexInArray+=1,this.stepIndexInArray>=this.currentStepArrayTemp.length?(this.stepIndexInArray=0,this.isGuidedByGroup=!1,this.currentStepArrayTemp=[],this.isGuideSignTweenEnabled&&this.stopGuideSignTween(),t&&t()):this.showGuide(this.currentStepArrayTemp[this.stepIndexInArray],i,t)):this.showGuide(e+=1,i,t)},n.showOnlyTextGuide=function(e,i,t){var n=this;void 0===t&&(t=null),this.maskNode.active=!0,this.isGuideTextSetHidden||(this.guideTextBgSpriteNode.active=!0);var g=this;this.blockBgNode.on(s.EventType.TOUCH_END,(function o(){g.hideGuide(),i?g.goToNextGuide(e,i,t):t&&t(),n.blockBgNode.off(s.EventType.TOUCH_END,o,g)}),g),this.maskNode.setPosition(new S(0,0,0)),this.maskNode.setSiblingIndex(Number.MAX_SAFE_INTEGER),this.maskNode.getComponent(d).inverted=!0,this.maskNode.getComponent(o).setContentSize(0,0),this.adjustGuideTextBgSpriteNode(e),this.adjustGuideTextLabelNode(e)},n.showNodeAndTextGuide=function(e,i,t,n){var g=this;void 0===n&&(n=null),this.maskNode.active=!0,this.isGuideSignSetHidden||(this.guideSignSpriteNode.active=!0),this.isGuideTextSetHidden||(this.guideTextBgSpriteNode.active=!0),this.guideSignFlyingTween=null;var a=this,h=function o(){a.unschedule(a.setMaskAndGuideSpritePosAndSizeScheduleCallBack),t?a.goToNextGuide(i,t,n):n&&g.maskNode.active&&n(),a.hideGuide(),a.scheduleOnce((function(){e.off(s.EventType.TOUCH_MOVE,o,a)}),.1),e.off(s.EventType.TOUCH_END,o,a),g.isGuideMandatory||g.blockBgNode.off(s.EventType.TOUCH_END,o,a)};e.on(s.EventType.TOUCH_END,h,a),e.on(s.EventType.TOUCH_MOVE,h,a),this.isGuideMandatory||this.blockBgNode.on(s.EventType.TOUCH_END,h,a),this.maskNode.setPosition(new S(0,0,0)),this.maskNode.setRotationFromEuler(new S(0,0,0)),this.maskNode.setSiblingIndex(Number.MAX_SAFE_INTEGER),this.maskNode.getComponent(d).inverted=!0,this.setMaskAndGuideSpritePosAndSizeScheduleCallBack=function(){if(g.maskNode.setRotation(e.rotation),g.maskNode.getComponent(o).setContentSize(e.getComponent(o).width*e.scale.x*1*1,e.getComponent(o).height*e.scale.y*1*1),e.parent==g.node)g.maskNode.setPosition(e.position),g.adjustPosAccordingToAnchorPoint(g.maskNode,e);else{g.maskNode.setPosition(new S(0,0,0));for(var t=g.getAllParentPosIncludingSelf(e),n=t.length-1;n>=0;n--)g.maskNode.setPosition(new S(g.maskNode.position).add(t[n]));g.adjustPosAccordingToAnchorPoint(g.maskNode,e)}g.blockBgNode.getComponent(o).width=10*g.canvasUITransform.width,g.blockBgNode.getComponent(o).height=10*g.canvasUITransform.height,g.adjustGuideTextBgSpriteNode(i),g.adjustGuideSignSpriteNode(i)},this.unschedule(this.setMaskAndGuideSpritePosAndSizeScheduleCallBack),this.setMaskAndGuideSpritePosAndSizeScheduleCallBack(),this.adjustGuideTextLabelNode(i)},n.adjustPosAccordingToAnchorPoint=function(e,i){var t=e.getComponent(o).anchorPoint,n=i.getComponent(o).anchorPoint;if(t.x!=n.x||t.y!=n.y){var s=t.x-n.x,d=t.y-n.y,g=i.getComponent(o);e.setPosition(new S(e.position).add3f(s*g.width,d*g.height,0))}},n.onTargetNodeParentTransformChanged=function(e,i){for(var t=null;;)if(!t&&e.parent)(t=e.parent).on(s.EventType.TRANSFORM_CHANGED,i,this);else{if(!t||!t.parent)break;(t=t.parent).on(s.EventType.TRANSFORM_CHANGED,i,this)}},n.offTargetNodeParentTransformChanged=function(e,i){for(var t=null;;)if(!t&&e.parent)(t=e.parent).off(s.EventType.TRANSFORM_CHANGED,i,this);else{if(!t||!t.parent)break;(t=t.parent).off(s.EventType.TRANSFORM_CHANGED,i,this)}},n.showKeyAndTextGuide=function(e,i,t,n){void 0===n&&(n=null),this.maskNode.active=!0,this.isGuideTextSetHidden||(this.guideTextBgSpriteNode.active=!0);var s=0,g=this,a=[];m.on(f.EventType.KEY_DOWN,(function o(d){var h=(new Date).getTime();(h-s)/1e3>g.keyDownInterval&&(s=h,a=[]),a.push(d.keyCode.toString()),JSON.stringify(e)==JSON.stringify(a)&&(g.hideGuide(),t?g.goToNextGuide(i,t,n):n&&n(),m.off(f.EventType.KEY_DOWN,o,g))}),g),this.maskNode.setPosition(new S(0,0,0)),this.maskNode.setSiblingIndex(Number.MAX_SAFE_INTEGER),this.maskNode.getComponent(d).inverted=!0,this.maskNode.getComponent(o).setContentSize(0,0),this.adjustGuideTextBgSpriteNode(i),this.adjustGuideTextLabelNode(i)},n.adjustGuideSignSpriteNode=function(e){var i=this;if(this.guideSignSpriteNode.setSiblingIndex(Number.MAX_SAFE_INTEGER),"frame"==this.guideData.guideSignType){var t=function(){i.guideSignSpriteNode.setRotation(i.maskNode.rotation),i.guideSignPosTemp?i.guideSignSpriteNode.setPosition(i.guideSignPosTemp):i.guideSignSpriteNode.setPosition(i.maskNode.position)};if(this.isGudieSignFlying&&1!=e)if(this.guideSignFlyingTween)this.isFlyingFinised&&t();else{var n=new x;x.fromEuler(n,this.maskNode.rotation.x,this.maskNode.rotation.y,this.maskNode.rotation.z),this.isFlyingFinised=!1,this.guideSignFlyingTween=c(this.guideSignSpriteNode).to(this.flyingTweenDuration,{position:this.maskNode.position,rotation:n}).call((function(){t(),i.isFlyingFinised=!0,i.isGuideSignTweenEnabled&&i.startGuideSignTween()})),this.guideSignFlyingTween.start()}else t();var s=this.guideSignSpriteNode.getComponent(o);s&&s.setContentSize(1.1*this.maskNode.getComponent(o).width,1.1*this.maskNode.getComponent(o).height)}else if("hand"==this.guideData.guideSignType||"arrow"==this.guideData.guideSignType){var d=this.maskNode.getComponent(o);if(d.width&&d.height||(this.guideSignSpriteNode.active=!1),this.maskNode.position.y>=0){var g=new S(this.maskNode.position).subtract3f(0,1.01*d.height,0);g.y<-this.canvasUITransform.height/2+this.guideSignSpriteNode.getComponent(o).height&&(g.y=-this.canvasUITransform.height/2+this.guideSignSpriteNode.getComponent(o).height);var a=function(){i.guideSignSpriteNode.setRotationFromEuler(i.guideSignRotation.x,i.guideSignRotation.y,i.guideSignRotation.z),i.guideSignPosTemp?i.guideSignSpriteNode.setPosition(i.guideSignPosTemp):i.guideSignSpriteNode.setPosition(g)};if(this.isGudieSignFlying&&1!=e)if(this.guideSignFlyingTween)this.isFlyingFinised&&a();else{var h=new x;x.fromEuler(h,this.guideSignRotation.x,this.guideSignRotation.y,this.guideSignRotation.z),this.isFlyingFinised=!1,this.guideSignFlyingTween=c(this.guideSignSpriteNode).to(this.flyingTweenDuration,{position:g,rotation:h}).call((function(){a(),i.isFlyingFinised=!0,i.isGuideSignTweenEnabled&&i.startGuideSignTween()})),this.guideSignFlyingTween.start()}else a()}else if(this.maskNode.position.y<0){var u=new S(this.maskNode.position).subtract3f(0,1.01*-d.height,0);u.y>this.canvasUITransform.height/2-this.guideSignSpriteNode.getComponent(o).height&&(u.y=this.canvasUITransform.height/2-this.guideSignSpriteNode.getComponent(o).height);var r=function(){i.guideSignSpriteNode.setRotationFromEuler(-i.guideSignRotation.x,-i.guideSignRotation.y,-i.guideSignRotation.z),i.guideSignPosTemp?i.guideSignSpriteNode.setPosition(i.guideSignPosTemp):i.guideSignSpriteNode.setPosition(new S(i.maskNode.position).subtract3f(0,1.01*-d.height,0))};if(this.isGudieSignFlying&&1!=e)if(this.guideSignFlyingTween)this.isFlyingFinised&&r();else{var p=new x;x.fromEuler(p,-this.guideSignRotation.x,-this.guideSignRotation.y,-this.guideSignRotation.z),this.isFlyingFinised=!1,this.guideSignFlyingTween=c(this.guideSignSpriteNode).to(this.flyingTweenDuration,{position:new S(this.maskNode.position).subtract3f(0,1.01*-d.height,0),rotation:p}).call((function(){r(),i.isFlyingFinised=!0,i.isGuideSignTweenEnabled&&i.startGuideSignTween()})),this.guideSignFlyingTween.start()}else r()}this.isGuideSignTweenEnabled&&this.isFlyingFinised&&this.startGuideSignTween()}},n.adjustGuideTextBgSpriteNode=function(e){var i=this.maskNode.getComponent(o),t=this.guideSignSpriteNode.getComponent(o),n=this.guideTextBgSpriteNode.getComponent(o);if(this.guideTextBgSpriteNode.setSiblingIndex(Number.MAX_SAFE_INTEGER),"center"==this.textPosTemp)this.setGuideTextBgSpriteSizeByTextLength(),this.guideTextBgSpriteNode.setPosition(0,0,0);else if("bottom"==this.textPosTemp){this.setGuideTextBgSpriteSizeByCanvasSize();var s=this.canvasUITransform.height/2-this.guideTextBgSpriteNode.getComponent(o).height/2;this.guideTextBgSpriteNode.setPosition(0,-s,0)}else if("follow"==this.textPosTemp){if(this.setGuideTextBgSpriteSizeByTextLength(),!this.guideData.nodesAndTexts[e-1].path.trim())return void this.guideTextBgSpriteNode.setPosition(0,0,0);if(this.maskNode.position.x>=0&&this.maskNode.position.y>=0?this.guideTextBgSpriteNode.setPosition(new S(this.maskNode.position).subtract3f(i.width/2+n.width/2,i.height/2+n.height/2,0)):this.maskNode.position.x>=0&&this.maskNode.position.y<=0?this.guideTextBgSpriteNode.setPosition(new S(this.maskNode.position).subtract3f(i.width/2+n.width/2,-i.height/2-n.height/2,0)):this.maskNode.position.x<=0&&this.maskNode.position.y>=0?this.guideTextBgSpriteNode.setPosition(new S(this.maskNode.position).subtract3f(-i.width/2-n.width/2,i.height/2+n.height/2,0)):this.maskNode.position.x<=0&&this.maskNode.position.y<=0&&this.guideTextBgSpriteNode.setPosition(new S(this.maskNode.position).subtract3f(-i.width/2-n.width/2,-i.height/2-n.height/2,0)),this.guideTextBgSpriteNode.position.x>this.canvasUITransform.width/2-n.width){var d=this.canvasUITransform.width/2-n.width,g=this.guideTextBgSpriteNode.position.y;this.guideTextBgSpriteNode.setPosition(d,g,0)}else if(this.guideTextBgSpriteNode.position.x<-this.canvasUITransform.width/2+n.width){var a=-this.canvasUITransform.width/2+n.width,h=this.guideTextBgSpriteNode.position.y;this.guideTextBgSpriteNode.setPosition(a,h,0)}if(this.guideTextBgSpriteNode.position.y>this.canvasUITransform.height/2-n.height){var u=this.guideTextBgSpriteNode.position.x,r=this.canvasUITransform.height/2-n.height;this.guideTextBgSpriteNode.setPosition(u,r,0)}else if(this.guideTextBgSpriteNode.position.y<-this.canvasUITransform.height/2+n.height){var p=this.guideTextBgSpriteNode.position.x,T=-this.canvasUITransform.height/2+n.height;this.guideTextBgSpriteNode.setPosition(p,T,0)}"hand"!=this.guideData.guideSignType&&"arrow"!=this.guideData.guideSignType||n.getBoundingBox().intersects(t.getBoundingBox())&&(this.maskNode.position.y>=0?this.guideTextBgSpriteNode.setPosition(new S(this.guideTextBgSpriteNode.position).subtract3f(0,t.width+n.height/4,0)):this.guideTextBgSpriteNode.setPosition(new S(this.guideTextBgSpriteNode.position).add3f(0,t.width+n.height/4,0)))}else"object"==typeof this.textPosTemp&&(this.setGuideTextBgSpriteSizeByTextLength(),this.guideTextBgSpriteNode.setPosition(this.textPosTemp))},n.setGuideTextBgSpriteSizeByCanvasSize=function(){this.guideTextBgSpriteNode.getComponent(o).width=this.canvasUITransform.width,this.guideTextBgSpriteNode.getComponent(o).height=this.canvasUITransform.height/7},n.setGuideTextBgSpriteSizeByTextLength=function(){var e="",i=0,t=0;if("zh"==this.guideTextLang?(e=this.guideData.nodesAndTexts[this.currentStepTemp-1].guideText).length<=15&&e.length>0?(i=this.canvasUITransform.width/7,t=this.canvasUITransform.height/10):e.length>15&&e.length<=40?(i=this.canvasUITransform.width/5,t=this.canvasUITransform.height/8):e.length>40&&(i=this.canvasUITransform.width/3,t=this.canvasUITransform.height/6):(e=this.guideData.nodesAndTexts[this.currentStepTemp-1].guideEnText).length<=40&&e.length>0?(i=this.canvasUITransform.width/7,t=this.canvasUITransform.height/10):e.length>40&&e.length<=80?(i=this.canvasUITransform.width/5,t=this.canvasUITransform.height/8):e.length>80&&(i=this.canvasUITransform.width/3,t=this.canvasUITransform.height/6),i<t){var n=t;t=i,i=n}this.guideTextBgSpriteNode.getComponent(o).setContentSize(i,t)},n.adjustGuideTextLabelNode=function(e){var i=this;if(this.isTyping){this.scheduleCount=0,"zh"==this.guideTextLang?this.guideTextTemp=this.guideData.nodesAndTexts[e-1].guideText:this.guideTextTemp=this.guideData.nodesAndTexts[e-1].guideEnText;var t=function e(){i.guideTextTemp[i.scheduleCount]&&(i.guideTextLabelNode.getComponent(T).string+=i.guideTextTemp[i.scheduleCount]),i.scheduleCount++,i.scheduleCount>=i.guideTextTemp.length&&i.unschedule(e)};this.unschedule(t),this.guideTextLabelNode.getComponent(T).string="",this.schedule(t,this.typingInterval)}else"zh"==this.guideTextLang?this.guideTextLabelNode.getComponent(T).string=this.guideData.nodesAndTexts[e-1].guideText:this.guideTextLabelNode.getComponent(T).string=this.guideData.nodesAndTexts[e-1].guideEnText;this.guideTextLabelNode.getComponent(o).setContentSize(this.guideTextBgSpriteNode.getComponent(o).width*this.guideTextBgSpriteNode.scale.x/1.1,this.guideTextBgSpriteNode.getComponent(o).height*this.guideTextBgSpriteNode.scale.y/1.1)},n.getNodeByUuid=function(e,i){for(var t=null,n=0;n<e.children.length;n++){if(e.children[n].uuid==i){t=e.children[n];break}if(e.children[n].children.length&&(t=this.getNodeByUuid(e.children[n],i)))break}return t},n.getAllParentPosIncludingSelf=function(e){for(var i=[e.position],t=e;;){var n=t.parent;if(!n||n==this.node)break;i.push(n.position),t=n}return i},t}(y))||v);t._RF.pop()}}}));

System.register("chunks:///_virtual/WXRecommend.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts"],(function(e){var n,t,o,r,a,c,u,i;return{setters:[function(e){n=e.inheritsLoose,t=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){r=e.cclegacy,a=e._decorator,c=e.find,u=e.Component},function(e){i=e.AudioManager}],execute:function(){var s;r._RF.push({},"1e867eZhR5Il7++bOtGTVEg","WXRecommend",void 0);var m,d=a.ccclass,l=(a.property,window.tt),f=window.wx,p=window.gamebox;e("WXRecommend",d("WXRecommend")(s=function(e){function r(){return e.apply(this,arguments)||this}n(r,e);var a=r.prototype;return a.start=function(){l||!f||p||localStorage.getItem("snake-eat-recommend")||(c("Canvas/UI/Auxiliary Layout/Recommend Button").active=!0,this.loadRecommend())},a.loadRecommend=function(){var e=t(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.createPageManager||console.log("当前基础库版本暂不支持。"),(m=f.createPageManager()).on("destroy",(function(e){e.isRecommended&&(console.log("已推荐"),c("Canvas/UI/Auxiliary Layout/Recommend Button").active=!1,localStorage.setItem("snake-eat-recommend","1"))})),m.on("error",(function(e){console.log(e)})),e.next=6,m.load({openlink:"TWFRCqV5WeM2AkMXhKwJ03MhfPOieJfAsvXKUbWvQFQtLyyA5etMPabBehga950uzfZcH3Vi3QeEh41xRGEVFw"});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a.showRecommend=function(){var e=t(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=2;break}return e.abrupt("return");case 2:if(!f||p){e.next=11;break}if(m){e.next=6;break}return e.next=6,this.loadRecommend();case 6:return(n=c("Audio Manager").getComponent(i)).playOneShot(n.buttonAudio),e.next=10,m.show();case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.update=function(e){},r}(u))||s);r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});